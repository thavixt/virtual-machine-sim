(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,a){var u=null;if(a!==void 0&&(u=""+a),o.key!==void 0&&(u=""+o.key),"key"in o){a={};for(var f in o)f!=="key"&&(a[f]=o[f])}else a=o;return o=a.ref,{$$typeof:r,type:s,key:u,ref:o!==void 0?o:null,props:a}}return reactJsxRuntime_production.Fragment=e,reactJsxRuntime_production.jsx=n,reactJsxRuntime_production.jsxs=n,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),O=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=O&&R[O]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function k(R,U,te){this.props=R,this.context=U,this.refs=E,this.updater=te||b}k.prototype.isReactComponent={},k.prototype.setState=function(R,U){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,U,"setState")},k.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function Q(){}Q.prototype=k.prototype;function A(R,U,te){this.props=R,this.context=U,this.refs=E,this.updater=te||b}var M=A.prototype=new Q;M.constructor=A,w(M,k.prototype),M.isPureReactComponent=!0;var $=Array.isArray,_={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function Z(R,U,te,oe,ne,fe){return te=fe.ref,{$$typeof:r,type:R,key:U,ref:te!==void 0?te:null,props:fe}}function W(R,U){return Z(R.type,U,void 0,void 0,void 0,R.props)}function B(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function H(R){var U={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(te){return U[te]})}var ee=/\/+/g;function I(R,U){return typeof R=="object"&&R!==null&&R.key!=null?H(""+R.key):U.toString(36)}function J(){}function D(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(J,J):(R.status="pending",R.then(function(U){R.status==="pending"&&(R.status="fulfilled",R.value=U)},function(U){R.status==="pending"&&(R.status="rejected",R.reason=U)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function q(R,U,te,oe,ne){var fe=typeof R;(fe==="undefined"||fe==="boolean")&&(R=null);var ue=!1;if(R===null)ue=!0;else switch(fe){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(R.$$typeof){case r:case e:ue=!0;break;case m:return ue=R._init,q(ue(R._payload),U,te,oe,ne)}}if(ue)return ne=ne(R),ue=oe===""?"."+I(R,0):oe,$(ne)?(te="",ue!=null&&(te=ue.replace(ee,"$&/")+"/"),q(ne,U,te,"",function(pe){return pe})):ne!=null&&(B(ne)&&(ne=W(ne,te+(ne.key==null||R&&R.key===ne.key?"":(""+ne.key).replace(ee,"$&/")+"/")+ue)),U.push(ne)),1;ue=0;var he=oe===""?".":oe+":";if($(R))for(var ce=0;ce<R.length;ce++)oe=R[ce],fe=he+I(oe,ce),ue+=q(oe,U,te,fe,ne);else if(ce=x(R),typeof ce=="function")for(R=ce.call(R),ce=0;!(oe=R.next()).done;)oe=oe.value,fe=he+I(oe,ce++),ue+=q(oe,U,te,fe,ne);else if(fe==="object"){if(typeof R.then=="function")return q(D(R),U,te,oe,ne);throw U=String(R),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ue}function P(R,U,te){if(R==null)return R;var oe=[],ne=0;return q(R,oe,"","",function(fe){return U.call(te,fe,ne++)}),oe}function V(R){if(R._status===-1){var U=R._result;U=U(),U.then(function(te){(R._status===0||R._status===-1)&&(R._status=1,R._result=te)},function(te){(R._status===0||R._status===-1)&&(R._status=2,R._result=te)}),R._status===-1&&(R._status=0,R._result=U)}if(R._status===1)return R._result.default;throw R._result}var L=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function z(){}return react_production.Children={map:P,forEach:function(R,U,te){P(R,function(){U.apply(this,arguments)},te)},count:function(R){var U=0;return P(R,function(){U++}),U},toArray:function(R){return P(R,function(U){return U})||[]},only:function(R){if(!B(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},react_production.Component=k,react_production.Fragment=n,react_production.Profiler=o,react_production.PureComponent=A,react_production.StrictMode=s,react_production.Suspense=d,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,react_production.act=function(){throw Error("act(...) is not supported in production builds of React.")},react_production.cache=function(R){return function(){return R.apply(null,arguments)}},react_production.cloneElement=function(R,U,te){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var oe=w({},R.props),ne=R.key,fe=void 0;if(U!=null)for(ue in U.ref!==void 0&&(fe=void 0),U.key!==void 0&&(ne=""+U.key),U)!j.call(U,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&U.ref===void 0||(oe[ue]=U[ue]);var ue=arguments.length-2;if(ue===1)oe.children=te;else if(1<ue){for(var he=Array(ue),ce=0;ce<ue;ce++)he[ce]=arguments[ce+2];oe.children=he}return Z(R.type,ne,void 0,void 0,fe,oe)},react_production.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:a,_context:R},R},react_production.createElement=function(R,U,te){var oe,ne={},fe=null;if(U!=null)for(oe in U.key!==void 0&&(fe=""+U.key),U)j.call(U,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ne[oe]=U[oe]);var ue=arguments.length-2;if(ue===1)ne.children=te;else if(1<ue){for(var he=Array(ue),ce=0;ce<ue;ce++)he[ce]=arguments[ce+2];ne.children=he}if(R&&R.defaultProps)for(oe in ue=R.defaultProps,ue)ne[oe]===void 0&&(ne[oe]=ue[oe]);return Z(R,fe,void 0,void 0,null,ne)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(R){return{$$typeof:f,render:R}},react_production.isValidElement=B,react_production.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:V}},react_production.memo=function(R,U){return{$$typeof:g,type:R,compare:U===void 0?null:U}},react_production.startTransition=function(R){var U=_.T,te={};_.T=te;try{var oe=R(),ne=_.S;ne!==null&&ne(te,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(z,L)}catch(fe){L(fe)}finally{_.T=U}},react_production.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},react_production.use=function(R){return _.H.use(R)},react_production.useActionState=function(R,U,te){return _.H.useActionState(R,U,te)},react_production.useCallback=function(R,U){return _.H.useCallback(R,U)},react_production.useContext=function(R){return _.H.useContext(R)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(R,U){return _.H.useDeferredValue(R,U)},react_production.useEffect=function(R,U){return _.H.useEffect(R,U)},react_production.useId=function(){return _.H.useId()},react_production.useImperativeHandle=function(R,U,te){return _.H.useImperativeHandle(R,U,te)},react_production.useInsertionEffect=function(R,U){return _.H.useInsertionEffect(R,U)},react_production.useLayoutEffect=function(R,U){return _.H.useLayoutEffect(R,U)},react_production.useMemo=function(R,U){return _.H.useMemo(R,U)},react_production.useOptimistic=function(R,U){return _.H.useOptimistic(R,U)},react_production.useReducer=function(R,U,te){return _.H.useReducer(R,U,te)},react_production.useRef=function(R){return _.H.useRef(R)},react_production.useState=function(R){return _.H.useState(R)},react_production.useSyncExternalStore=function(R,U,te){return _.H.useSyncExternalStore(R,U,te)},react_production.useTransition=function(){return _.H.useTransition()},react_production.version="19.0.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const ReactExports=getDefaultExportFromCjs(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,function(r){function e(P,V){var L=P.length;P.push(V);e:for(;0<L;){var z=L-1>>>1,R=P[z];if(0<o(R,V))P[z]=V,P[L]=R,L=z;else break e}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var V=P[0],L=P.pop();if(L!==V){P[0]=L;e:for(var z=0,R=P.length,U=R>>>1;z<U;){var te=2*(z+1)-1,oe=P[te],ne=te+1,fe=P[ne];if(0>o(oe,L))ne<R&&0>o(fe,oe)?(P[z]=fe,P[ne]=L,z=ne):(P[z]=oe,P[te]=L,z=te);else if(ne<R&&0>o(fe,L))P[z]=fe,P[ne]=L,z=ne;else break e}}return V}function o(P,V){var L=P.sortIndex-V.sortIndex;return L!==0?L:P.id-V.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var d=[],g=[],m=1,O=null,x=3,b=!1,w=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function M(P){for(var V=n(g);V!==null;){if(V.callback===null)s(g);else if(V.startTime<=P)s(g),V.sortIndex=V.expirationTime,e(d,V);else break;V=n(g)}}function $(P){if(E=!1,M(P),!w)if(n(d)!==null)w=!0,D();else{var V=n(g);V!==null&&q($,V.startTime-P)}}var _=!1,j=-1,Z=5,W=-1;function B(){return!(r.unstable_now()-W<Z)}function H(){if(_){var P=r.unstable_now();W=P;var V=!0;try{e:{w=!1,E&&(E=!1,Q(j),j=-1),b=!0;var L=x;try{t:{for(M(P),O=n(d);O!==null&&!(O.expirationTime>P&&B());){var z=O.callback;if(typeof z=="function"){O.callback=null,x=O.priorityLevel;var R=z(O.expirationTime<=P);if(P=r.unstable_now(),typeof R=="function"){O.callback=R,M(P),V=!0;break t}O===n(d)&&s(d),M(P)}else s(d);O=n(d)}if(O!==null)V=!0;else{var U=n(g);U!==null&&q($,U.startTime-P),V=!1}}break e}finally{O=null,x=L,b=!1}V=void 0}}finally{V?ee():_=!1}}}var ee;if(typeof A=="function")ee=function(){A(H)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,J=I.port2;I.port1.onmessage=H,ee=function(){J.postMessage(null)}}else ee=function(){k(H,0)};function D(){_||(_=!0,ee())}function q(P,V){j=k(function(){P(r.unstable_now())},V)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(P){P.callback=null},r.unstable_continueExecution=function(){w||b||(w=!0,D())},r.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<P?Math.floor(1e3/P):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return n(d)},r.unstable_next=function(P){switch(x){case 1:case 2:case 3:var V=3;break;default:V=x}var L=x;x=V;try{return P()}finally{x=L}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(P,V){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var L=x;x=P;try{return V()}finally{x=L}},r.unstable_scheduleCallback=function(P,V,L){var z=r.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?z+L:z):L=z,P){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=L+R,P={id:m++,callback:V,priorityLevel:P,startTime:L,expirationTime:R,sortIndex:-1},L>z?(P.sortIndex=L,e(g,P),n(d)===null&&P===n(g)&&(E?(Q(j),j=-1):E=!0,q($,L-z))):(P.sortIndex=R,e(d,P),w||b||(w=!0,D())),P},r.unstable_shouldYield=B,r.unstable_wrapCallback=function(P){var V=x;return function(){var L=x;x=V;try{return P.apply(this,arguments)}finally{x=L}}}}(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var r=requireReact();function e(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(d,g,m){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:O==null?null:""+O,children:d,containerInfo:g,implementation:m}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,reactDom_production.createPortal=function(d,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return a(d,g,null,m)},reactDom_production.flushSync=function(d){var g=u.T,m=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=g,s.p=m,s.d.f()}},reactDom_production.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(d,g))},reactDom_production.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},reactDom_production.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var m=g.as,O=f(m,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?s.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:O,integrity:x,fetchPriority:b}):m==="script"&&s.d.X(d,{crossOrigin:O,integrity:x,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},reactDom_production.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=f(g.as,g.crossOrigin);s.d.M(d,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(d)},reactDom_production.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,O=f(m,g.crossOrigin);s.d.L(d,m,{crossOrigin:O,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},reactDom_production.preloadModule=function(d,g){if(typeof d=="string")if(g){var m=f(g.as,g.crossOrigin);s.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(d)},reactDom_production.requestFormReset=function(d){s.d.r(d)},reactDom_production.unstable_batchedUpdates=function(d,g){return d(g)},reactDom_production.useFormState=function(d,g,m){return u.H.useFormState(d,g,m)},reactDom_production.useFormStatus=function(){return u.H.useHostTransitionStatus()},reactDom_production.version="19.0.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var r=requireScheduler(),e=requireReact(),n=requireReactDom();function s(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}var a=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),b=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),$=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function j(l){return l===null||typeof l!="object"?null:(l=_&&l[_]||l["@@iterator"],typeof l=="function"?l:null)}var Z=Symbol.for("react.client.reference");function W(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Z?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case d:return"Fragment";case f:return"Portal";case m:return"Profiler";case g:return"StrictMode";case E:return"Suspense";case k:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case b:return(l.displayName||"Context")+".Provider";case x:return(l._context.displayName||"Context")+".Consumer";case w:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Q:return c=l.displayName||null,c!==null?c:W(l.type)||"Memo";case A:c=l._payload,l=l._init;try{return W(l(c))}catch{}}return null}var B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=Object.assign,ee,I;function J(l){if(ee===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);ee=c&&c[1]||"",I=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+l+I}var D=!1;function q(l,c){if(!l||D)return"";D=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(c){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(re){var K=re}Reflect.construct(l,[],ae)}else{try{ae.call()}catch(re){K=re}l.call(ae.prototype)}}else{try{throw Error()}catch(re){K=re}(ae=l())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(re){if(re&&K&&typeof re.stack=="string")return[re.stack,K.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=p.DetermineComponentFrameRoot(),v=S[0],T=S[1];if(v&&T){var N=v.split(`
`),Y=T.split(`
`);for(y=p=0;p<N.length&&!N[p].includes("DetermineComponentFrameRoot");)p++;for(;y<Y.length&&!Y[y].includes("DetermineComponentFrameRoot");)y++;if(p===N.length||y===Y.length)for(p=N.length-1,y=Y.length-1;1<=p&&0<=y&&N[p]!==Y[y];)y--;for(;1<=p&&0<=y;p--,y--)if(N[p]!==Y[y]){if(p!==1||y!==1)do if(p--,y--,0>y||N[p]!==Y[y]){var se=`
`+N[p].replace(" at new "," at ");return l.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",l.displayName)),se}while(1<=p&&0<=y);break}}}finally{D=!1,Error.prepareStackTrace=h}return(h=l?l.displayName||l.name:"")?J(h):""}function P(l){switch(l.tag){case 26:case 27:case 5:return J(l.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return l=q(l.type,!1),l;case 11:return l=q(l.type.render,!1),l;case 1:return l=q(l.type,!0),l;default:return""}}function V(l){try{var c="";do c+=P(l),l=l.return;while(l);return c}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function L(l){var c=l,h=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,c.flags&4098&&(h=c.return),l=c.return;while(l)}return c.tag===3?h:null}function z(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function R(l){if(L(l)!==l)throw Error(s(188))}function U(l){var c=l.alternate;if(!c){if(c=L(l),c===null)throw Error(s(188));return c!==l?null:l}for(var h=l,p=c;;){var y=h.return;if(y===null)break;var S=y.alternate;if(S===null){if(p=y.return,p!==null){h=p;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===h)return R(y),l;if(S===p)return R(y),c;S=S.sibling}throw Error(s(188))}if(h.return!==p.return)h=y,p=S;else{for(var v=!1,T=y.child;T;){if(T===h){v=!0,h=y,p=S;break}if(T===p){v=!0,p=y,h=S;break}T=T.sibling}if(!v){for(T=S.child;T;){if(T===h){v=!0,h=S,p=y;break}if(T===p){v=!0,p=S,h=y;break}T=T.sibling}if(!v)throw Error(s(189))}}if(h.alternate!==p)throw Error(s(190))}if(h.tag!==3)throw Error(s(188));return h.stateNode.current===h?l:c}function te(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(c=te(l),c!==null)return c;l=l.sibling}return null}var oe=Array.isArray,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},ue=[],he=-1;function ce(l){return{current:l}}function pe(l){0>he||(l.current=ue[he],ue[he]=null,he--)}function ge(l,c){he++,ue[he]=l.current,l.current=c}var Se=ce(null),Oe=ce(null),we=ce(null),Re=ce(null);function je(l,c){switch(ge(we,c),ge(Oe,l),ge(Se,null),l=c.nodeType,l){case 9:case 11:c=(c=c.documentElement)&&(c=c.namespaceURI)?kf(c):0;break;default:if(l=l===8?c.parentNode:c,c=l.tagName,l=l.namespaceURI)l=kf(l),c=Cf(l,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}pe(Se),ge(Se,c)}function We(){pe(Se),pe(Oe),pe(we)}function jn(l){l.memoizedState!==null&&ge(Re,l);var c=Se.current,h=Cf(c,l.type);c!==h&&(ge(Oe,l),ge(Se,h))}function un(l){Oe.current===l&&(pe(Se),pe(Oe)),Re.current===l&&(pe(Re),Vr._currentValue=fe)}var Bn=Object.prototype.hasOwnProperty,Xt=r.unstable_scheduleCallback,Ln=r.unstable_cancelCallback,Vn=r.unstable_shouldYield,zn=r.unstable_requestPaint,ut=r.unstable_now,Xn=r.unstable_getCurrentPriorityLevel,fn=r.unstable_ImmediatePriority,qn=r.unstable_UserBlockingPriority,gi=r.unstable_NormalPriority,Ki=r.unstable_LowPriority,Ur=r.unstable_IdlePriority,fo=r.log,ho=r.unstable_setDisableYieldValue,Hn=null,st=null;function po(l){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Hn,l,void 0,(l.current.flags&128)===128)}catch{}}function Zt(l){if(typeof fo=="function"&&ho(l),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(Hn,l)}catch{}}var ot=Math.clz32?Math.clz32:Oo,go=Math.log,mo=Math.LN2;function Oo(l){return l>>>=0,l===0?32:31-(go(l)/mo|0)|0}var mi=128,Oi=4194304;function qt(l){var c=l&42;if(c!==0)return c;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Un(l,c){var h=l.pendingLanes;if(h===0)return 0;var p=0,y=l.suspendedLanes,S=l.pingedLanes,v=l.warmLanes;l=l.finishedLanes!==0;var T=h&134217727;return T!==0?(h=T&~y,h!==0?p=qt(h):(S&=T,S!==0?p=qt(S):l||(v=T&~v,v!==0&&(p=qt(v))))):(T=h&~y,T!==0?p=qt(T):S!==0?p=qt(S):l||(v=h&~v,v!==0&&(p=qt(v)))),p===0?0:c!==0&&c!==p&&!(c&y)&&(y=p&-p,v=c&-c,y>=v||y===32&&(v&4194176)!==0)?c:p}function Yn(l,c){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&c)===0}function yo(l,c){switch(l){case 1:case 2:case 4:case 8:return c+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yr(){var l=mi;return mi<<=1,!(mi&4194176)&&(mi=128),l}function Gr(){var l=Oi;return Oi<<=1,!(Oi&62914560)&&(Oi=4194304),l}function Ji(l){for(var c=[],h=0;31>h;h++)c.push(l);return c}function Gn(l,c){l.pendingLanes|=c,c!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function xo(l,c,h,p,y,S){var v=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var T=l.entanglements,N=l.expirationTimes,Y=l.hiddenUpdates;for(h=v&~h;0<h;){var se=31-ot(h),ae=1<<se;T[se]=0,N[se]=-1;var K=Y[se];if(K!==null)for(Y[se]=null,se=0;se<K.length;se++){var re=K[se];re!==null&&(re.lane&=-536870913)}h&=~ae}p!==0&&Wr(l,p,0),S!==0&&y===0&&l.tag!==0&&(l.suspendedLanes|=S&~(v&~c))}function Wr(l,c,h){l.pendingLanes|=c,l.suspendedLanes&=~c;var p=31-ot(c);l.entangledLanes|=c,l.entanglements[p]=l.entanglements[p]|1073741824|h&4194218}function Ir(l,c){var h=l.entangledLanes|=c;for(l=l.entanglements;h;){var p=31-ot(h),y=1<<p;y&c|l[p]&c&&(l[p]|=c),h&=~y}}function Fr(l){return l&=-l,2<l?8<l?l&134217727?32:268435456:8:2}function Kr(){var l=ne.p;return l!==0?l:(l=window.event,l===void 0?32:qf(l.type))}function So(l,c){var h=ne.p;try{return ne.p=l,c()}finally{ne.p=h}}var Nt=Math.random().toString(36).slice(2),Ie="__reactFiber$"+Nt,it="__reactProps$"+Nt,Ht="__reactContainer$"+Nt,yi="__reactEvents$"+Nt,bo="__reactListeners$"+Nt,wo="__reactHandles$"+Nt,Jr="__reactResources$"+Nt,Wn="__reactMarker$"+Nt;function er(l){delete l[Ie],delete l[it],delete l[yi],delete l[bo],delete l[wo]}function Ut(l){var c=l[Ie];if(c)return c;for(var h=l.parentNode;h;){if(c=h[Ht]||h[Ie]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(l=$f(l);l!==null;){if(h=l[Ie])return h;l=$f(l)}return c}l=h,h=l.parentNode}return null}function hn(l){if(l=l[Ie]||l[Ht]){var c=l.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return l}return null}function dn(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l.stateNode;throw Error(s(33))}function pn(l){var c=l[Jr];return c||(c=l[Jr]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Xe(l){l[Wn]=!0}var es=new Set,ts={};function Yt(l,c){gn(l,c),gn(l+"Capture",c)}function gn(l,c){for(ts[l]=c,l=0;l<c.length;l++)es.add(c[l])}var Rt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ns=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),is={},rs={};function vo(l){return Bn.call(rs,l)?!0:Bn.call(is,l)?!1:ns.test(l)?rs[l]=!0:(is[l]=!0,!1)}function xi(l,c,h){if(vo(c))if(h===null)l.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(c);return;case"boolean":var p=c.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){l.removeAttribute(c);return}}l.setAttribute(c,""+h)}}function Si(l,c,h){if(h===null)l.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(c);return}l.setAttribute(c,""+h)}}function Mt(l,c,h,p){if(p===null)l.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(c,h,""+p)}}function ft(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ss(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Eo(l){var c=ss(l)?"checked":"value",h=Object.getOwnPropertyDescriptor(l.constructor.prototype,c),p=""+l[c];if(!l.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,S=h.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return y.call(this)},set:function(v){p=""+v,S.call(this,v)}}),Object.defineProperty(l,c,{enumerable:h.enumerable}),{getValue:function(){return p},setValue:function(v){p=""+v},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function mn(l){l._valueTracker||(l._valueTracker=Eo(l))}function os(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var h=c.getValue(),p="";return l&&(p=ss(l)?l.checked?"true":"false":l.value),l=p,l!==h?(c.setValue(l),!0):!1}function ls(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Ff=/[\n"\\]/g;function xt(l){return l.replace(Ff,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function ko(l,c,h,p,y,S,v,T){l.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?l.type=v:l.removeAttribute("type"),c!=null?v==="number"?(c===0&&l.value===""||l.value!=c)&&(l.value=""+ft(c)):l.value!==""+ft(c)&&(l.value=""+ft(c)):v!=="submit"&&v!=="reset"||l.removeAttribute("value"),c!=null?Co(l,v,ft(c)):h!=null?Co(l,v,ft(h)):p!=null&&l.removeAttribute("value"),y==null&&S!=null&&(l.defaultChecked=!!S),y!=null&&(l.checked=y&&typeof y!="function"&&typeof y!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?l.name=""+ft(T):l.removeAttribute("name")}function Qa(l,c,h,p,y,S,v,T){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(l.type=S),c!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||c!=null))return;h=h!=null?""+ft(h):"",c=c!=null?""+ft(c):h,T||c===l.value||(l.value=c),l.defaultValue=c}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,l.checked=T?l.checked:!!p,l.defaultChecked=!!p,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(l.name=v)}function Co(l,c,h){c==="number"&&ls(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function bi(l,c,h,p){if(l=l.options,c){c={};for(var y=0;y<h.length;y++)c["$"+h[y]]=!0;for(h=0;h<l.length;h++)y=c.hasOwnProperty("$"+l[h].value),l[h].selected!==y&&(l[h].selected=y),y&&p&&(l[h].defaultSelected=!0)}else{for(h=""+ft(h),c=null,y=0;y<l.length;y++){if(l[y].value===h){l[y].selected=!0,p&&(l[y].defaultSelected=!0);return}c!==null||l[y].disabled||(c=l[y])}c!==null&&(c.selected=!0)}}function Ta(l,c,h){if(c!=null&&(c=""+ft(c),c!==l.value&&(l.value=c),h==null)){l.defaultValue!==c&&(l.defaultValue=c);return}l.defaultValue=h!=null?""+ft(h):""}function $a(l,c,h,p){if(c==null){if(p!=null){if(h!=null)throw Error(s(92));if(oe(p)){if(1<p.length)throw Error(s(93));p=p[0]}h=p}h==null&&(h=""),c=h}h=ft(c),l.defaultValue=h,p=l.textContent,p===h&&p!==""&&p!==null&&(l.value=p)}function wi(l,c){if(c){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=c;return}}l.textContent=c}var Kf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ra(l,c,h){var p=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?p?l.setProperty(c,""):c==="float"?l.cssFloat="":l[c]="":p?l.setProperty(c,h):typeof h!="number"||h===0||Kf.has(c)?c==="float"?l.cssFloat=h:l[c]=(""+h).trim():l[c]=h+"px"}function Ma(l,c,h){if(c!=null&&typeof c!="object")throw Error(s(62));if(l=l.style,h!=null){for(var p in h)!h.hasOwnProperty(p)||c!=null&&c.hasOwnProperty(p)||(p.indexOf("--")===0?l.setProperty(p,""):p==="float"?l.cssFloat="":l[p]="");for(var y in c)p=c[y],c.hasOwnProperty(y)&&h[y]!==p&&Ra(l,y,p)}else for(var S in c)c.hasOwnProperty(S)&&Ra(l,S,c[S])}function Qo(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function as(l){return eh.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var To=null;function $o(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var vi=null,Ei=null;function Pa(l){var c=hn(l);if(c&&(l=c.stateNode)){var h=l[it]||null;e:switch(l=c.stateNode,c.type){case"input":if(ko(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+xt(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var p=h[c];if(p!==l&&p.form===l.form){var y=p[it]||null;if(!y)throw Error(s(90));ko(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(c=0;c<h.length;c++)p=h[c],p.form===l.form&&os(p)}break e;case"textarea":Ta(l,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&bi(l,!!h.multiple,c,!1)}}}var Ro=!1;function Aa(l,c,h){if(Ro)return l(c,h);Ro=!0;try{var p=l(c);return p}finally{if(Ro=!1,(vi!==null||Ei!==null)&&(Hs(),vi&&(c=vi,l=Ei,Ei=vi=null,Pa(c),l)))for(c=0;c<l.length;c++)Pa(l[c])}}function tr(l,c){var h=l.stateNode;if(h===null)return null;var p=h[it]||null;if(p===null)return null;h=p[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(l=l.type,p=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!p;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(s(231,c,typeof h));return h}var Mo=!1;if(Rt)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){Mo=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{Mo=!1}var On=null,Po=null,cs=null;function Da(){if(cs)return cs;var l,c=Po,h=c.length,p,y="value"in On?On.value:On.textContent,S=y.length;for(l=0;l<h&&c[l]===y[l];l++);var v=h-l;for(p=1;p<=v&&c[h-p]===y[S-p];p++);return cs=y.slice(l,1<p?1-p:void 0)}function us(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function fs(){return!0}function Za(){return!1}function ht(l){function c(h,p,y,S,v){this._reactName=h,this._targetInst=y,this.type=p,this.nativeEvent=S,this.target=v,this.currentTarget=null;for(var T in l)l.hasOwnProperty(T)&&(h=l[T],this[T]=h?h(S):S[T]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?fs:Za,this.isPropagationStopped=Za,this}return H(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=fs)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=fs)},persist:function(){},isPersistent:fs}),c}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=ht(In),ir=H({},In,{view:0,detail:0}),th=ht(ir),Ao,Do,rr,ds=H({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zo,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==rr&&(rr&&l.type==="mousemove"?(Ao=l.screenX-rr.screenX,Do=l.screenY-rr.screenY):Do=Ao=0,rr=l),Ao)},movementY:function(l){return"movementY"in l?l.movementY:Do}}),Na=ht(ds),nh=H({},ds,{dataTransfer:0}),ih=ht(nh),rh=H({},ir,{relatedTarget:0}),_o=ht(rh),sh=H({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),oh=ht(sh),lh=H({},In,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),ah=ht(lh),ch=H({},In,{data:0}),ja=ht(ch),uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dh(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=hh[l])?!!c[l]:!1}function Zo(){return dh}var ph=H({},ir,{key:function(l){if(l.key){var c=uh[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=us(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?fh[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zo,charCode:function(l){return l.type==="keypress"?us(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?us(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),gh=ht(ph),mh=H({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ba=ht(mh),Oh=H({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zo}),yh=ht(Oh),xh=H({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sh=ht(xh),bh=H({},ds,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),wh=ht(bh),vh=H({},In,{newState:0,oldState:0}),Eh=ht(vh),kh=[9,13,27,32],No=Rt&&"CompositionEvent"in window,sr=null;Rt&&"documentMode"in document&&(sr=document.documentMode);var Ch=Rt&&"TextEvent"in window&&!sr,La=Rt&&(!No||sr&&8<sr&&11>=sr),Va=" ",za=!1;function Xa(l,c){switch(l){case"keyup":return kh.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qa(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var ki=!1;function Qh(l,c){switch(l){case"compositionend":return qa(c);case"keypress":return c.which!==32?null:(za=!0,Va);case"textInput":return l=c.data,l===Va&&za?null:l;default:return null}}function Th(l,c){if(ki)return l==="compositionend"||!No&&Xa(l,c)?(l=Da(),cs=Po=On=null,ki=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return La&&c.locale!=="ko"?null:c.data;default:return null}}var $h={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ha(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!$h[l.type]:c==="textarea"}function Ua(l,c,h,p){vi?Ei?Ei.push(p):Ei=[p]:vi=p,c=Is(c,"onChange"),0<c.length&&(h=new hs("onChange","change",null,h,p),l.push({event:h,listeners:c}))}var or=null,lr=null;function Rh(l){Sf(l,0)}function ps(l){var c=dn(l);if(os(c))return l}function Ya(l,c){if(l==="change")return c}var Ga=!1;if(Rt){var jo;if(Rt){var Bo="oninput"in document;if(!Bo){var Wa=document.createElement("div");Wa.setAttribute("oninput","return;"),Bo=typeof Wa.oninput=="function"}jo=Bo}else jo=!1;Ga=jo&&(!document.documentMode||9<document.documentMode)}function Ia(){or&&(or.detachEvent("onpropertychange",Fa),lr=or=null)}function Fa(l){if(l.propertyName==="value"&&ps(lr)){var c=[];Ua(c,lr,l,$o(l)),Aa(Rh,c)}}function Mh(l,c,h){l==="focusin"?(Ia(),or=c,lr=h,or.attachEvent("onpropertychange",Fa)):l==="focusout"&&Ia()}function Ph(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ps(lr)}function Ah(l,c){if(l==="click")return ps(c)}function Dh(l,c){if(l==="input"||l==="change")return ps(c)}function _h(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var pt=typeof Object.is=="function"?Object.is:_h;function ar(l,c){if(pt(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var h=Object.keys(l),p=Object.keys(c);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var y=h[p];if(!Bn.call(c,y)||!pt(l[y],c[y]))return!1}return!0}function Ka(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Ja(l,c){var h=Ka(l);l=0;for(var p;h;){if(h.nodeType===3){if(p=l+h.textContent.length,l<=c&&p>=c)return{node:h,offset:c-l};l=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Ka(h)}}function ec(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?ec(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function tc(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var c=ls(l.document);c instanceof l.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)l=c.contentWindow;else break;c=ls(l.document)}return c}function Lo(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}function Zh(l,c){var h=tc(c);c=l.focusedElem;var p=l.selectionRange;if(h!==c&&c&&c.ownerDocument&&ec(c.ownerDocument.documentElement,c)){if(p!==null&&Lo(c)){if(l=p.start,h=p.end,h===void 0&&(h=l),"selectionStart"in c)c.selectionStart=l,c.selectionEnd=Math.min(h,c.value.length);else if(h=(l=c.ownerDocument||document)&&l.defaultView||window,h.getSelection){h=h.getSelection();var y=c.textContent.length,S=Math.min(p.start,y);p=p.end===void 0?S:Math.min(p.end,y),!h.extend&&S>p&&(y=p,p=S,S=y),y=Ja(c,S);var v=Ja(c,p);y&&v&&(h.rangeCount!==1||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==v.node||h.focusOffset!==v.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),h.removeAllRanges(),S>p?(h.addRange(l),h.extend(v.node,v.offset)):(l.setEnd(v.node,v.offset),h.addRange(l)))}}for(l=[],h=c;h=h.parentNode;)h.nodeType===1&&l.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<l.length;c++)h=l[c],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var Nh=Rt&&"documentMode"in document&&11>=document.documentMode,Ci=null,Vo=null,cr=null,zo=!1;function nc(l,c,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;zo||Ci==null||Ci!==ls(p)||(p=Ci,"selectionStart"in p&&Lo(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),cr&&ar(cr,p)||(cr=p,p=Is(Vo,"onSelect"),0<p.length&&(c=new hs("onSelect","select",null,c,h),l.push({event:c,listeners:p}),c.target=Ci)))}function Fn(l,c){var h={};return h[l.toLowerCase()]=c.toLowerCase(),h["Webkit"+l]="webkit"+c,h["Moz"+l]="moz"+c,h}var Qi={animationend:Fn("Animation","AnimationEnd"),animationiteration:Fn("Animation","AnimationIteration"),animationstart:Fn("Animation","AnimationStart"),transitionrun:Fn("Transition","TransitionRun"),transitionstart:Fn("Transition","TransitionStart"),transitioncancel:Fn("Transition","TransitionCancel"),transitionend:Fn("Transition","TransitionEnd")},Xo={},ic={};Rt&&(ic=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function Kn(l){if(Xo[l])return Xo[l];if(!Qi[l])return l;var c=Qi[l],h;for(h in c)if(c.hasOwnProperty(h)&&h in ic)return Xo[l]=c[h];return l}var rc=Kn("animationend"),sc=Kn("animationiteration"),oc=Kn("animationstart"),jh=Kn("transitionrun"),Bh=Kn("transitionstart"),Lh=Kn("transitioncancel"),lc=Kn("transitionend"),ac=new Map,uc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Pt(l,c){ac.set(l,c),Yt(c,[l])}var St=[],Ti=0,qo=0;function gs(){for(var l=Ti,c=qo=Ti=0;c<l;){var h=St[c];St[c++]=null;var p=St[c];St[c++]=null;var y=St[c];St[c++]=null;var S=St[c];if(St[c++]=null,p!==null&&y!==null){var v=p.pending;v===null?y.next=y:(y.next=v.next,v.next=y),p.pending=y}S!==0&&fc(h,y,S)}}function ms(l,c,h,p){St[Ti++]=l,St[Ti++]=c,St[Ti++]=h,St[Ti++]=p,qo|=p,l.lanes|=p,l=l.alternate,l!==null&&(l.lanes|=p)}function Ho(l,c,h,p){return ms(l,c,h,p),Os(l)}function yn(l,c){return ms(l,null,null,c),Os(l)}function fc(l,c,h){l.lanes|=h;var p=l.alternate;p!==null&&(p.lanes|=h);for(var y=!1,S=l.return;S!==null;)S.childLanes|=h,p=S.alternate,p!==null&&(p.childLanes|=h),S.tag===22&&(l=S.stateNode,l===null||l._visibility&1||(y=!0)),l=S,S=S.return;y&&c!==null&&l.tag===3&&(S=l.stateNode,y=31-ot(h),S=S.hiddenUpdates,l=S[y],l===null?S[y]=[c]:l.push(c),c.lane=h|536870912)}function Os(l){if(50<Dr)throw Dr=0,Fl=null,Error(s(185));for(var c=l.return;c!==null;)l=c,c=l.return;return l.tag===3?l.stateNode:null}var $i={},hc=new WeakMap;function bt(l,c){if(typeof l=="object"&&l!==null){var h=hc.get(l);return h!==void 0?h:(c={value:l,source:c,stack:V(c)},hc.set(l,c),c)}return{value:l,source:c,stack:V(c)}}var Ri=[],Mi=0,ys=null,xs=0,wt=[],vt=0,Jn=null,Gt=1,Wt="";function ei(l,c){Ri[Mi++]=xs,Ri[Mi++]=ys,ys=l,xs=c}function dc(l,c,h){wt[vt++]=Gt,wt[vt++]=Wt,wt[vt++]=Jn,Jn=l;var p=Gt;l=Wt;var y=32-ot(p)-1;p&=~(1<<y),h+=1;var S=32-ot(c)+y;if(30<S){var v=y-y%5;S=(p&(1<<v)-1).toString(32),p>>=v,y-=v,Gt=1<<32-ot(c)+y|h<<y|p,Wt=S+l}else Gt=1<<S|h<<y|p,Wt=l}function Uo(l){l.return!==null&&(ei(l,1),dc(l,1,0))}function Yo(l){for(;l===ys;)ys=Ri[--Mi],Ri[Mi]=null,xs=Ri[--Mi],Ri[Mi]=null;for(;l===Jn;)Jn=wt[--vt],wt[vt]=null,Wt=wt[--vt],wt[vt]=null,Gt=wt[--vt],wt[vt]=null}var at=null,et=null,Te=!1,At=null,jt=!1,Go=Error(s(519));function ti(l){var c=Error(s(418,""));throw hr(bt(c,l)),Go}function pc(l){var c=l.stateNode,h=l.type,p=l.memoizedProps;switch(c[Ie]=l,c[it]=p,h){case"dialog":Ce("cancel",c),Ce("close",c);break;case"iframe":case"object":case"embed":Ce("load",c);break;case"video":case"audio":for(h=0;h<Zr.length;h++)Ce(Zr[h],c);break;case"source":Ce("error",c);break;case"img":case"image":case"link":Ce("error",c),Ce("load",c);break;case"details":Ce("toggle",c);break;case"input":Ce("invalid",c),Qa(c,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),mn(c);break;case"select":Ce("invalid",c);break;case"textarea":Ce("invalid",c),$a(c,p.value,p.defaultValue,p.children),mn(c)}h=p.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||p.suppressHydrationWarning===!0||Ef(c.textContent,h)?(p.popover!=null&&(Ce("beforetoggle",c),Ce("toggle",c)),p.onScroll!=null&&Ce("scroll",c),p.onScrollEnd!=null&&Ce("scrollend",c),p.onClick!=null&&(c.onclick=Fs),c=!0):c=!1,c||ti(l)}function gc(l){for(at=l.return;at;)switch(at.tag){case 3:case 27:jt=!0;return;case 5:case 13:jt=!1;return;default:at=at.return}}function ur(l){if(l!==at)return!1;if(!Te)return gc(l),Te=!0,!1;var c=!1,h;if((h=l.tag!==3&&l.tag!==27)&&((h=l.tag===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||pa(l.type,l.memoizedProps)),h=!h),h&&(c=!0),c&&et&&ti(l),gc(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(317));e:{for(l=l.nextSibling,c=0;l;){if(l.nodeType===8)if(h=l.data,h==="/$"){if(c===0){et=_t(l.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++;l=l.nextSibling}et=null}}else et=at?_t(l.stateNode.nextSibling):null;return!0}function fr(){et=at=null,Te=!1}function hr(l){At===null?At=[l]:At.push(l)}var dr=Error(s(460)),mc=Error(s(474)),Wo={then:function(){}};function Oc(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Ss(){}function yc(l,c,h){switch(h=l[h],h===void 0?l.push(c):h!==c&&(c.then(Ss,Ss),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,l===dr?Error(s(483)):l;default:if(typeof c.status=="string")c.then(Ss,Ss);else{if(l=De,l!==null&&100<l.shellSuspendCounter)throw Error(s(482));l=c,l.status="pending",l.then(function(p){if(c.status==="pending"){var y=c;y.status="fulfilled",y.value=p}},function(p){if(c.status==="pending"){var y=c;y.status="rejected",y.reason=p}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,l===dr?Error(s(483)):l}throw pr=c,dr}}var pr=null;function xc(){if(pr===null)throw Error(s(459));var l=pr;return pr=null,l}var Pi=null,gr=0;function bs(l){var c=gr;return gr+=1,Pi===null&&(Pi=[]),yc(Pi,l,c)}function mr(l,c){c=c.props.ref,l.ref=c!==void 0?c:null}function ws(l,c){throw c.$$typeof===a?Error(s(525)):(l=Object.prototype.toString.call(c),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)))}function Sc(l){var c=l._init;return c(l._payload)}function bc(l){function c(G,X){if(l){var F=G.deletions;F===null?(G.deletions=[X],G.flags|=16):F.push(X)}}function h(G,X){if(!l)return null;for(;X!==null;)c(G,X),X=X.sibling;return null}function p(G){for(var X=new Map;G!==null;)G.key!==null?X.set(G.key,G):X.set(G.index,G),G=G.sibling;return X}function y(G,X){return G=Rn(G,X),G.index=0,G.sibling=null,G}function S(G,X,F){return G.index=F,l?(F=G.alternate,F!==null?(F=F.index,F<X?(G.flags|=33554434,X):F):(G.flags|=33554434,X)):(G.flags|=1048576,X)}function v(G){return l&&G.alternate===null&&(G.flags|=33554434),G}function T(G,X,F,le){return X===null||X.tag!==6?(X=Xl(F,G.mode,le),X.return=G,X):(X=y(X,F),X.return=G,X)}function N(G,X,F,le){var de=F.type;return de===d?se(G,X,F.props.children,le,F.key):X!==null&&(X.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Sc(de)===X.type)?(X=y(X,F.props),mr(X,F),X.return=G,X):(X=Ls(F.type,F.key,F.props,null,G.mode,le),mr(X,F),X.return=G,X)}function Y(G,X,F,le){return X===null||X.tag!==4||X.stateNode.containerInfo!==F.containerInfo||X.stateNode.implementation!==F.implementation?(X=ql(F,G.mode,le),X.return=G,X):(X=y(X,F.children||[]),X.return=G,X)}function se(G,X,F,le,de){return X===null||X.tag!==7?(X=fi(F,G.mode,le,de),X.return=G,X):(X=y(X,F),X.return=G,X)}function ae(G,X,F){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Xl(""+X,G.mode,F),X.return=G,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case u:return F=Ls(X.type,X.key,X.props,null,G.mode,F),mr(F,X),F.return=G,F;case f:return X=ql(X,G.mode,F),X.return=G,X;case A:var le=X._init;return X=le(X._payload),ae(G,X,F)}if(oe(X)||j(X))return X=fi(X,G.mode,F,null),X.return=G,X;if(typeof X.then=="function")return ae(G,bs(X),F);if(X.$$typeof===b)return ae(G,Ns(G,X),F);ws(G,X)}return null}function K(G,X,F,le){var de=X!==null?X.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return de!==null?null:T(G,X,""+F,le);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case u:return F.key===de?N(G,X,F,le):null;case f:return F.key===de?Y(G,X,F,le):null;case A:return de=F._init,F=de(F._payload),K(G,X,F,le)}if(oe(F)||j(F))return de!==null?null:se(G,X,F,le,null);if(typeof F.then=="function")return K(G,X,bs(F),le);if(F.$$typeof===b)return K(G,X,Ns(G,F),le);ws(G,F)}return null}function re(G,X,F,le,de){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return G=G.get(F)||null,T(X,G,""+le,de);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case u:return G=G.get(le.key===null?F:le.key)||null,N(X,G,le,de);case f:return G=G.get(le.key===null?F:le.key)||null,Y(X,G,le,de);case A:var Ee=le._init;return le=Ee(le._payload),re(G,X,F,le,de)}if(oe(le)||j(le))return G=G.get(F)||null,se(X,G,le,de,null);if(typeof le.then=="function")return re(G,X,F,bs(le),de);if(le.$$typeof===b)return re(G,X,F,Ns(X,le),de);ws(X,le)}return null}function me(G,X,F,le){for(var de=null,Ee=null,ye=X,xe=X=0,Je=null;ye!==null&&xe<F.length;xe++){ye.index>xe?(Je=ye,ye=null):Je=ye.sibling;var $e=K(G,ye,F[xe],le);if($e===null){ye===null&&(ye=Je);break}l&&ye&&$e.alternate===null&&c(G,ye),X=S($e,X,xe),Ee===null?de=$e:Ee.sibling=$e,Ee=$e,ye=Je}if(xe===F.length)return h(G,ye),Te&&ei(G,xe),de;if(ye===null){for(;xe<F.length;xe++)ye=ae(G,F[xe],le),ye!==null&&(X=S(ye,X,xe),Ee===null?de=ye:Ee.sibling=ye,Ee=ye);return Te&&ei(G,xe),de}for(ye=p(ye);xe<F.length;xe++)Je=re(ye,G,xe,F[xe],le),Je!==null&&(l&&Je.alternate!==null&&ye.delete(Je.key===null?xe:Je.key),X=S(Je,X,xe),Ee===null?de=Je:Ee.sibling=Je,Ee=Je);return l&&ye.forEach(function(Nn){return c(G,Nn)}),Te&&ei(G,xe),de}function be(G,X,F,le){if(F==null)throw Error(s(151));for(var de=null,Ee=null,ye=X,xe=X=0,Je=null,$e=F.next();ye!==null&&!$e.done;xe++,$e=F.next()){ye.index>xe?(Je=ye,ye=null):Je=ye.sibling;var Nn=K(G,ye,$e.value,le);if(Nn===null){ye===null&&(ye=Je);break}l&&ye&&Nn.alternate===null&&c(G,ye),X=S(Nn,X,xe),Ee===null?de=Nn:Ee.sibling=Nn,Ee=Nn,ye=Je}if($e.done)return h(G,ye),Te&&ei(G,xe),de;if(ye===null){for(;!$e.done;xe++,$e=F.next())$e=ae(G,$e.value,le),$e!==null&&(X=S($e,X,xe),Ee===null?de=$e:Ee.sibling=$e,Ee=$e);return Te&&ei(G,xe),de}for(ye=p(ye);!$e.done;xe++,$e=F.next())$e=re(ye,G,xe,$e.value,le),$e!==null&&(l&&$e.alternate!==null&&ye.delete($e.key===null?xe:$e.key),X=S($e,X,xe),Ee===null?de=$e:Ee.sibling=$e,Ee=$e);return l&&ye.forEach(function(tp){return c(G,tp)}),Te&&ei(G,xe),de}function Ve(G,X,F,le){if(typeof F=="object"&&F!==null&&F.type===d&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case u:e:{for(var de=F.key;X!==null;){if(X.key===de){if(de=F.type,de===d){if(X.tag===7){h(G,X.sibling),le=y(X,F.props.children),le.return=G,G=le;break e}}else if(X.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===A&&Sc(de)===X.type){h(G,X.sibling),le=y(X,F.props),mr(le,F),le.return=G,G=le;break e}h(G,X);break}else c(G,X);X=X.sibling}F.type===d?(le=fi(F.props.children,G.mode,le,F.key),le.return=G,G=le):(le=Ls(F.type,F.key,F.props,null,G.mode,le),mr(le,F),le.return=G,G=le)}return v(G);case f:e:{for(de=F.key;X!==null;){if(X.key===de)if(X.tag===4&&X.stateNode.containerInfo===F.containerInfo&&X.stateNode.implementation===F.implementation){h(G,X.sibling),le=y(X,F.children||[]),le.return=G,G=le;break e}else{h(G,X);break}else c(G,X);X=X.sibling}le=ql(F,G.mode,le),le.return=G,G=le}return v(G);case A:return de=F._init,F=de(F._payload),Ve(G,X,F,le)}if(oe(F))return me(G,X,F,le);if(j(F)){if(de=j(F),typeof de!="function")throw Error(s(150));return F=de.call(F),be(G,X,F,le)}if(typeof F.then=="function")return Ve(G,X,bs(F),le);if(F.$$typeof===b)return Ve(G,X,Ns(G,F),le);ws(G,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,X!==null&&X.tag===6?(h(G,X.sibling),le=y(X,F),le.return=G,G=le):(h(G,X),le=Xl(F,G.mode,le),le.return=G,G=le),v(G)):h(G,X)}return function(G,X,F,le){try{gr=0;var de=Ve(G,X,F,le);return Pi=null,de}catch(ye){if(ye===dr)throw ye;var Ee=Qt(29,ye,null,G.mode);return Ee.lanes=le,Ee.return=G,Ee}finally{}}}var ni=bc(!0),wc=bc(!1),Ai=ce(null),vs=ce(0);function vc(l,c){l=ln,ge(vs,l),ge(Ai,c),ln=l|c.baseLanes}function Io(){ge(vs,ln),ge(Ai,Ai.current)}function Fo(){ln=vs.current,pe(Ai),pe(vs)}var Et=ce(null),Bt=null;function xn(l){var c=l.alternate;ge(Ye,Ye.current&1),ge(Et,l),Bt===null&&(c===null||Ai.current!==null||c.memoizedState!==null)&&(Bt=l)}function Ec(l){if(l.tag===22){if(ge(Ye,Ye.current),ge(Et,l),Bt===null){var c=l.alternate;c!==null&&c.memoizedState!==null&&(Bt=l)}}else Sn()}function Sn(){ge(Ye,Ye.current),ge(Et,Et.current)}function It(l){pe(Et),Bt===l&&(Bt=null),pe(Ye)}var Ye=ce(0);function Es(l){for(var c=l;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Vh=typeof AbortController<"u"?AbortController:function(){var l=[],c=this.signal={aborted:!1,addEventListener:function(h,p){l.push(p)}};this.abort=function(){c.aborted=!0,l.forEach(function(h){return h()})}},zh=r.unstable_scheduleCallback,Xh=r.unstable_NormalPriority,Ge={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ko(){return{controller:new Vh,data:new Map,refCount:0}}function Or(l){l.refCount--,l.refCount===0&&zh(Xh,function(){l.controller.abort()})}var yr=null,Jo=0,Di=0,_i=null;function qh(l,c){if(yr===null){var h=yr=[];Jo=0,Di=sa(),_i={status:"pending",value:void 0,then:function(p){h.push(p)}}}return Jo++,c.then(kc,kc),c}function kc(){if(--Jo===0&&yr!==null){_i!==null&&(_i.status="fulfilled");var l=yr;yr=null,Di=0,_i=null;for(var c=0;c<l.length;c++)(0,l[c])()}}function Hh(l,c){var h=[],p={status:"pending",value:null,reason:null,then:function(y){h.push(y)}};return l.then(function(){p.status="fulfilled",p.value=c;for(var y=0;y<h.length;y++)(0,h[y])(c)},function(y){for(p.status="rejected",p.reason=y,y=0;y<h.length;y++)(0,h[y])(void 0)}),p}var Cc=B.S;B.S=function(l,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&qh(l,c),Cc!==null&&Cc(l,c)};var ii=ce(null);function el(){var l=ii.current;return l!==null?l:De.pooledCache}function ks(l,c){c===null?ge(ii,ii.current):ge(ii,c.pool)}function Qc(){var l=el();return l===null?null:{parent:Ge._currentValue,pool:l}}var bn=0,ve=null,Me=null,qe=null,Cs=!1,Zi=!1,ri=!1,Qs=0,xr=0,Ni=null,Uh=0;function ze(){throw Error(s(321))}function tl(l,c){if(c===null)return!1;for(var h=0;h<c.length&&h<l.length;h++)if(!pt(l[h],c[h]))return!1;return!0}function nl(l,c,h,p,y,S){return bn=S,ve=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,B.H=l===null||l.memoizedState===null?si:wn,ri=!1,S=h(p,y),ri=!1,Zi&&(S=$c(c,h,p,y)),Tc(l),S}function Tc(l){B.H=Lt;var c=Me!==null&&Me.next!==null;if(bn=0,qe=Me=ve=null,Cs=!1,xr=0,Ni=null,c)throw Error(s(300));l===null||Fe||(l=l.dependencies,l!==null&&Zs(l)&&(Fe=!0))}function $c(l,c,h,p){ve=l;var y=0;do{if(Zi&&(Ni=null),xr=0,Zi=!1,25<=y)throw Error(s(301));if(y+=1,qe=Me=null,l.updateQueue!=null){var S=l.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}B.H=oi,S=c(h,p)}while(Zi);return S}function Yh(){var l=B.H,c=l.useState()[0];return c=typeof c.then=="function"?Sr(c):c,l=l.useState()[0],(Me!==null?Me.memoizedState:null)!==l&&(ve.flags|=1024),c}function il(){var l=Qs!==0;return Qs=0,l}function rl(l,c,h){c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~h}function sl(l){if(Cs){for(l=l.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}Cs=!1}bn=0,qe=Me=ve=null,Zi=!1,xr=Qs=0,Ni=null}function dt(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?ve.memoizedState=qe=l:qe=qe.next=l,qe}function He(){if(Me===null){var l=ve.alternate;l=l!==null?l.memoizedState:null}else l=Me.next;var c=qe===null?ve.memoizedState:qe.next;if(c!==null)qe=c,Me=l;else{if(l===null)throw ve.alternate===null?Error(s(467)):Error(s(310));Me=l,l={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},qe===null?ve.memoizedState=qe=l:qe=qe.next=l}return qe}var Ts;Ts=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Sr(l){var c=xr;return xr+=1,Ni===null&&(Ni=[]),l=yc(Ni,l,c),c=ve,(qe===null?c.memoizedState:qe.next)===null&&(c=c.alternate,B.H=c===null||c.memoizedState===null?si:wn),l}function $s(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Sr(l);if(l.$$typeof===b)return rt(l)}throw Error(s(438,String(l)))}function ol(l){var c=null,h=ve.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var p=ve.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(c={data:p.data.map(function(y){return y.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=Ts(),ve.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(l),p=0;p<l;p++)h[p]=$;return c.index++,h}function Ft(l,c){return typeof c=="function"?c(l):c}function Rs(l){var c=He();return ll(c,Me,l)}function ll(l,c,h){var p=l.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=h;var y=l.baseQueue,S=p.pending;if(S!==null){if(y!==null){var v=y.next;y.next=S.next,S.next=v}c.baseQueue=y=S,p.pending=null}if(S=l.baseState,y===null)l.memoizedState=S;else{c=y.next;var T=v=null,N=null,Y=c,se=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(Qe&ae)===ae:(bn&ae)===ae){var K=Y.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===Di&&(se=!0);else if((bn&K)===K){Y=Y.next,K===Di&&(se=!0);continue}else ae={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(T=N=ae,v=S):N=N.next=ae,ve.lanes|=K,Mn|=K;ae=Y.action,ri&&h(S,ae),S=Y.hasEagerState?Y.eagerState:h(S,ae)}else K={lane:ae,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(T=N=K,v=S):N=N.next=K,ve.lanes|=ae,Mn|=ae;Y=Y.next}while(Y!==null&&Y!==c);if(N===null?v=S:N.next=T,!pt(S,l.memoizedState)&&(Fe=!0,se&&(h=_i,h!==null)))throw h;l.memoizedState=S,l.baseState=v,l.baseQueue=N,p.lastRenderedState=S}return y===null&&(p.lanes=0),[l.memoizedState,p.dispatch]}function al(l){var c=He(),h=c.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=l;var p=h.dispatch,y=h.pending,S=c.memoizedState;if(y!==null){h.pending=null;var v=y=y.next;do S=l(S,v.action),v=v.next;while(v!==y);pt(S,c.memoizedState)||(Fe=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),h.lastRenderedState=S}return[S,p]}function Rc(l,c,h){var p=ve,y=He(),S=Te;if(S){if(h===void 0)throw Error(s(407));h=h()}else h=c();var v=!pt((Me||y).memoizedState,h);if(v&&(y.memoizedState=h,Fe=!0),y=y.queue,fl(Ac.bind(null,p,y,l),[l]),y.getSnapshot!==c||v||qe!==null&&qe.memoizedState.tag&1){if(p.flags|=2048,ji(9,Pc.bind(null,p,y,h,c),{destroy:void 0},null),De===null)throw Error(s(349));S||bn&60||Mc(p,c,h)}return h}function Mc(l,c,h){l.flags|=16384,l={getSnapshot:c,value:h},c=ve.updateQueue,c===null?(c=Ts(),ve.updateQueue=c,c.stores=[l]):(h=c.stores,h===null?c.stores=[l]:h.push(l))}function Pc(l,c,h,p){c.value=h,c.getSnapshot=p,Dc(c)&&_c(l)}function Ac(l,c,h){return h(function(){Dc(c)&&_c(l)})}function Dc(l){var c=l.getSnapshot;l=l.value;try{var h=c();return!pt(l,h)}catch{return!0}}function _c(l){var c=yn(l,2);c!==null&&ct(c,l,2)}function cl(l){var c=dt();if(typeof l=="function"){var h=l;if(l=h(),ri){Zt(!0);try{h()}finally{Zt(!1)}}}return c.memoizedState=c.baseState=l,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ft,lastRenderedState:l},c}function Zc(l,c,h,p){return l.baseState=h,ll(l,Me,typeof p=="function"?p:Ft)}function Gh(l,c,h,p,y){if(As(l))throw Error(s(485));if(l=c.action,l!==null){var S={payload:y,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){S.listeners.push(v)}};B.T!==null?h(!0):S.isTransition=!1,p(S),h=c.pending,h===null?(S.next=c.pending=S,Nc(c,S)):(S.next=h.next,c.pending=h.next=S)}}function Nc(l,c){var h=c.action,p=c.payload,y=l.state;if(c.isTransition){var S=B.T,v={};B.T=v;try{var T=h(y,p),N=B.S;N!==null&&N(v,T),jc(l,c,T)}catch(Y){ul(l,c,Y)}finally{B.T=S}}else try{S=h(y,p),jc(l,c,S)}catch(Y){ul(l,c,Y)}}function jc(l,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(p){Bc(l,c,p)},function(p){return ul(l,c,p)}):Bc(l,c,h)}function Bc(l,c,h){c.status="fulfilled",c.value=h,Lc(c),l.state=h,c=l.pending,c!==null&&(h=c.next,h===c?l.pending=null:(h=h.next,c.next=h,Nc(l,h)))}function ul(l,c,h){var p=l.pending;if(l.pending=null,p!==null){p=p.next;do c.status="rejected",c.reason=h,Lc(c),c=c.next;while(c!==p)}l.action=null}function Lc(l){l=l.listeners;for(var c=0;c<l.length;c++)(0,l[c])()}function Vc(l,c){return c}function zc(l,c){if(Te){var h=De.formState;if(h!==null){e:{var p=ve;if(Te){if(et){t:{for(var y=et,S=jt;y.nodeType!==8;){if(!S){y=null;break t}if(y=_t(y.nextSibling),y===null){y=null;break t}}S=y.data,y=S==="F!"||S==="F"?y:null}if(y){et=_t(y.nextSibling),p=y.data==="F!";break e}}ti(p)}p=!1}p&&(c=h[0])}}return h=dt(),h.memoizedState=h.baseState=c,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vc,lastRenderedState:c},h.queue=p,h=ou.bind(null,ve,p),p.dispatch=h,p=cl(!1),S=ml.bind(null,ve,!1,p.queue),p=dt(),y={state:c,dispatch:null,action:l,pending:null},p.queue=y,h=Gh.bind(null,ve,y,S,h),y.dispatch=h,p.memoizedState=l,[c,h,!1]}function Xc(l){var c=He();return qc(c,Me,l)}function qc(l,c,h){c=ll(l,c,Vc)[0],l=Rs(Ft)[0],c=typeof c=="object"&&c!==null&&typeof c.then=="function"?Sr(c):c;var p=He(),y=p.queue,S=y.dispatch;return h!==p.memoizedState&&(ve.flags|=2048,ji(9,Wh.bind(null,y,h),{destroy:void 0},null)),[c,S,l]}function Wh(l,c){l.action=c}function Hc(l){var c=He(),h=Me;if(h!==null)return qc(c,h,l);He(),c=c.memoizedState,h=He();var p=h.queue.dispatch;return h.memoizedState=l,[c,p,!1]}function ji(l,c,h,p){return l={tag:l,create:c,inst:h,deps:p,next:null},c=ve.updateQueue,c===null&&(c=Ts(),ve.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=l.next=l:(p=h.next,h.next=l,l.next=p,c.lastEffect=l),l}function Uc(){return He().memoizedState}function Ms(l,c,h,p){var y=dt();ve.flags|=l,y.memoizedState=ji(1|c,h,{destroy:void 0},p===void 0?null:p)}function Ps(l,c,h,p){var y=He();p=p===void 0?null:p;var S=y.memoizedState.inst;Me!==null&&p!==null&&tl(p,Me.memoizedState.deps)?y.memoizedState=ji(c,h,S,p):(ve.flags|=l,y.memoizedState=ji(1|c,h,S,p))}function Yc(l,c){Ms(8390656,8,l,c)}function fl(l,c){Ps(2048,8,l,c)}function Gc(l,c){return Ps(4,2,l,c)}function Wc(l,c){return Ps(4,4,l,c)}function Ic(l,c){if(typeof c=="function"){l=l();var h=c(l);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function Fc(l,c,h){h=h!=null?h.concat([l]):null,Ps(4,4,Ic.bind(null,c,l),h)}function hl(){}function Kc(l,c){var h=He();c=c===void 0?null:c;var p=h.memoizedState;return c!==null&&tl(c,p[1])?p[0]:(h.memoizedState=[l,c],l)}function Jc(l,c){var h=He();c=c===void 0?null:c;var p=h.memoizedState;if(c!==null&&tl(c,p[1]))return p[0];if(p=l(),ri){Zt(!0);try{l()}finally{Zt(!1)}}return h.memoizedState=[p,c],p}function dl(l,c,h){return h===void 0||bn&1073741824?l.memoizedState=c:(l.memoizedState=h,l=tf(),ve.lanes|=l,Mn|=l,h)}function eu(l,c,h,p){return pt(h,c)?h:Ai.current!==null?(l=dl(l,h,p),pt(l,c)||(Fe=!0),l):bn&42?(l=tf(),ve.lanes|=l,Mn|=l,c):(Fe=!0,l.memoizedState=h)}function tu(l,c,h,p,y){var S=ne.p;ne.p=S!==0&&8>S?S:8;var v=B.T,T={};B.T=T,ml(l,!1,c,h);try{var N=y(),Y=B.S;if(Y!==null&&Y(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var se=Hh(N,p);br(l,c,se,yt(l))}else br(l,c,p,yt(l))}catch(ae){br(l,c,{then:function(){},status:"rejected",reason:ae},yt())}finally{ne.p=S,B.T=v}}function Ih(){}function pl(l,c,h,p){if(l.tag!==5)throw Error(s(476));var y=nu(l).queue;tu(l,y,c,fe,h===null?Ih:function(){return iu(l),h(p)})}function nu(l){var c=l.memoizedState;if(c!==null)return c;c={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ft,lastRenderedState:fe},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ft,lastRenderedState:h},next:null},l.memoizedState=c,l=l.alternate,l!==null&&(l.memoizedState=c),c}function iu(l){var c=nu(l).next.queue;br(l,c,{},yt())}function gl(){return rt(Vr)}function ru(){return He().memoizedState}function su(){return He().memoizedState}function Fh(l){for(var c=l.return;c!==null;){switch(c.tag){case 24:case 3:var h=yt();l=kn(h);var p=Cn(c,l,h);p!==null&&(ct(p,c,h),Er(p,c,h)),c={cache:Ko()},l.payload=c;return}c=c.return}}function Kh(l,c,h){var p=yt();h={lane:p,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},As(l)?lu(c,h):(h=Ho(l,c,h,p),h!==null&&(ct(h,l,p),au(h,c,p)))}function ou(l,c,h){var p=yt();br(l,c,h,p)}function br(l,c,h,p){var y={lane:p,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(As(l))lu(c,y);else{var S=l.alternate;if(l.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var v=c.lastRenderedState,T=S(v,h);if(y.hasEagerState=!0,y.eagerState=T,pt(T,v))return ms(l,c,y,0),De===null&&gs(),!1}catch{}finally{}if(h=Ho(l,c,y,p),h!==null)return ct(h,l,p),au(h,c,p),!0}return!1}function ml(l,c,h,p){if(p={lane:2,revertLane:sa(),action:p,hasEagerState:!1,eagerState:null,next:null},As(l)){if(c)throw Error(s(479))}else c=Ho(l,h,p,2),c!==null&&ct(c,l,2)}function As(l){var c=l.alternate;return l===ve||c!==null&&c===ve}function lu(l,c){Zi=Cs=!0;var h=l.pending;h===null?c.next=c:(c.next=h.next,h.next=c),l.pending=c}function au(l,c,h){if(h&4194176){var p=c.lanes;p&=l.pendingLanes,h|=p,c.lanes=h,Ir(l,h)}}var Lt={readContext:rt,use:$s,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze};Lt.useCacheRefresh=ze,Lt.useMemoCache=ze,Lt.useHostTransitionStatus=ze,Lt.useFormState=ze,Lt.useActionState=ze,Lt.useOptimistic=ze;var si={readContext:rt,use:$s,useCallback:function(l,c){return dt().memoizedState=[l,c===void 0?null:c],l},useContext:rt,useEffect:Yc,useImperativeHandle:function(l,c,h){h=h!=null?h.concat([l]):null,Ms(4194308,4,Ic.bind(null,c,l),h)},useLayoutEffect:function(l,c){return Ms(4194308,4,l,c)},useInsertionEffect:function(l,c){Ms(4,2,l,c)},useMemo:function(l,c){var h=dt();c=c===void 0?null:c;var p=l();if(ri){Zt(!0);try{l()}finally{Zt(!1)}}return h.memoizedState=[p,c],p},useReducer:function(l,c,h){var p=dt();if(h!==void 0){var y=h(c);if(ri){Zt(!0);try{h(c)}finally{Zt(!1)}}}else y=c;return p.memoizedState=p.baseState=y,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:y},p.queue=l,l=l.dispatch=Kh.bind(null,ve,l),[p.memoizedState,l]},useRef:function(l){var c=dt();return l={current:l},c.memoizedState=l},useState:function(l){l=cl(l);var c=l.queue,h=ou.bind(null,ve,c);return c.dispatch=h,[l.memoizedState,h]},useDebugValue:hl,useDeferredValue:function(l,c){var h=dt();return dl(h,l,c)},useTransition:function(){var l=cl(!1);return l=tu.bind(null,ve,l.queue,!0,!1),dt().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,c,h){var p=ve,y=dt();if(Te){if(h===void 0)throw Error(s(407));h=h()}else{if(h=c(),De===null)throw Error(s(349));Qe&60||Mc(p,c,h)}y.memoizedState=h;var S={value:h,getSnapshot:c};return y.queue=S,Yc(Ac.bind(null,p,S,l),[l]),p.flags|=2048,ji(9,Pc.bind(null,p,S,h,c),{destroy:void 0},null),h},useId:function(){var l=dt(),c=De.identifierPrefix;if(Te){var h=Wt,p=Gt;h=(p&~(1<<32-ot(p)-1)).toString(32)+h,c=":"+c+"R"+h,h=Qs++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=Uh++,c=":"+c+"r"+h.toString(32)+":";return l.memoizedState=c},useCacheRefresh:function(){return dt().memoizedState=Fh.bind(null,ve)}};si.useMemoCache=ol,si.useHostTransitionStatus=gl,si.useFormState=zc,si.useActionState=zc,si.useOptimistic=function(l){var c=dt();c.memoizedState=c.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=ml.bind(null,ve,!0,h),h.dispatch=c,[l,c]};var wn={readContext:rt,use:$s,useCallback:Kc,useContext:rt,useEffect:fl,useImperativeHandle:Fc,useInsertionEffect:Gc,useLayoutEffect:Wc,useMemo:Jc,useReducer:Rs,useRef:Uc,useState:function(){return Rs(Ft)},useDebugValue:hl,useDeferredValue:function(l,c){var h=He();return eu(h,Me.memoizedState,l,c)},useTransition:function(){var l=Rs(Ft)[0],c=He().memoizedState;return[typeof l=="boolean"?l:Sr(l),c]},useSyncExternalStore:Rc,useId:ru};wn.useCacheRefresh=su,wn.useMemoCache=ol,wn.useHostTransitionStatus=gl,wn.useFormState=Xc,wn.useActionState=Xc,wn.useOptimistic=function(l,c){var h=He();return Zc(h,Me,l,c)};var oi={readContext:rt,use:$s,useCallback:Kc,useContext:rt,useEffect:fl,useImperativeHandle:Fc,useInsertionEffect:Gc,useLayoutEffect:Wc,useMemo:Jc,useReducer:al,useRef:Uc,useState:function(){return al(Ft)},useDebugValue:hl,useDeferredValue:function(l,c){var h=He();return Me===null?dl(h,l,c):eu(h,Me.memoizedState,l,c)},useTransition:function(){var l=al(Ft)[0],c=He().memoizedState;return[typeof l=="boolean"?l:Sr(l),c]},useSyncExternalStore:Rc,useId:ru};oi.useCacheRefresh=su,oi.useMemoCache=ol,oi.useHostTransitionStatus=gl,oi.useFormState=Hc,oi.useActionState=Hc,oi.useOptimistic=function(l,c){var h=He();return Me!==null?Zc(h,Me,l,c):(h.baseState=l,[l,h.queue.dispatch])};function Ol(l,c,h,p){c=l.memoizedState,h=h(p,c),h=h==null?c:H({},c,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var yl={isMounted:function(l){return(l=l._reactInternals)?L(l)===l:!1},enqueueSetState:function(l,c,h){l=l._reactInternals;var p=yt(),y=kn(p);y.payload=c,h!=null&&(y.callback=h),c=Cn(l,y,p),c!==null&&(ct(c,l,p),Er(c,l,p))},enqueueReplaceState:function(l,c,h){l=l._reactInternals;var p=yt(),y=kn(p);y.tag=1,y.payload=c,h!=null&&(y.callback=h),c=Cn(l,y,p),c!==null&&(ct(c,l,p),Er(c,l,p))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var h=yt(),p=kn(h);p.tag=2,c!=null&&(p.callback=c),c=Cn(l,p,h),c!==null&&(ct(c,l,h),Er(c,l,h))}};function cu(l,c,h,p,y,S,v){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(p,S,v):c.prototype&&c.prototype.isPureReactComponent?!ar(h,p)||!ar(y,S):!0}function uu(l,c,h,p){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,p),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,p),c.state!==l&&yl.enqueueReplaceState(c,c.state,null)}function li(l,c){var h=c;if("ref"in c){h={};for(var p in c)p!=="ref"&&(h[p]=c[p])}if(l=l.defaultProps){h===c&&(h=H({},h));for(var y in l)h[y]===void 0&&(h[y]=l[y])}return h}var Ds=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function fu(l){Ds(l)}function hu(l){console.error(l)}function du(l){Ds(l)}function _s(l,c){try{var h=l.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(p){setTimeout(function(){throw p})}}function pu(l,c,h){try{var p=l.onCaughtError;p(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function xl(l,c,h){return h=kn(h),h.tag=3,h.payload={element:null},h.callback=function(){_s(l,c)},h}function gu(l){return l=kn(l),l.tag=3,l}function mu(l,c,h,p){var y=h.type.getDerivedStateFromError;if(typeof y=="function"){var S=p.value;l.payload=function(){return y(S)},l.callback=function(){pu(c,h,p)}}var v=h.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){pu(c,h,p),typeof y!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var T=p.stack;this.componentDidCatch(p.value,{componentStack:T!==null?T:""})})}function Jh(l,c,h,p,y){if(h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(c=h.alternate,c!==null&&vr(c,h,y,!0),h=Et.current,h!==null){switch(h.tag){case 13:return Bt===null?ea():h.alternate===null&&Le===0&&(Le=3),h.flags&=-257,h.flags|=65536,h.lanes=y,p===Wo?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([p]):c.add(p),na(l,p,y)),!1;case 22:return h.flags|=65536,p===Wo?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([p])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([p]):h.add(p)),na(l,p,y)),!1}throw Error(s(435,h.tag))}return na(l,p,y),ea(),!1}if(Te)return c=Et.current,c!==null?(!(c.flags&65536)&&(c.flags|=256),c.flags|=65536,c.lanes=y,p!==Go&&(l=Error(s(422),{cause:p}),hr(bt(l,h)))):(p!==Go&&(c=Error(s(423),{cause:p}),hr(bt(c,h))),l=l.current.alternate,l.flags|=65536,y&=-y,l.lanes|=y,p=bt(p,h),y=xl(l.stateNode,p,y),Dl(l,y),Le!==4&&(Le=2)),!1;var S=Error(s(520),{cause:p});if(S=bt(S,h),Pr===null?Pr=[S]:Pr.push(S),Le!==4&&(Le=2),c===null)return!0;p=bt(p,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,l=y&-y,h.lanes|=l,l=xl(h.stateNode,p,l),Dl(h,l),!1;case 1:if(c=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Pn===null||!Pn.has(S))))return h.flags|=65536,y&=-y,h.lanes|=y,y=gu(y),mu(y,l,h,p),Dl(h,y),!1}h=h.return}while(h!==null);return!1}var Ou=Error(s(461)),Fe=!1;function tt(l,c,h,p){c.child=l===null?wc(c,null,h,p):ni(c,l.child,h,p)}function yu(l,c,h,p,y){h=h.render;var S=c.ref;if("ref"in p){var v={};for(var T in p)T!=="ref"&&(v[T]=p[T])}else v=p;return ci(c),p=nl(l,c,h,v,S,y),T=il(),l!==null&&!Fe?(rl(l,c,y),Kt(l,c,y)):(Te&&T&&Uo(c),c.flags|=1,tt(l,c,p,y),c.child)}function xu(l,c,h,p,y){if(l===null){var S=h.type;return typeof S=="function"&&!zl(S)&&S.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=S,Su(l,c,S,p,y)):(l=Ls(h.type,null,p,c,c.mode,y),l.ref=c.ref,l.return=c,c.child=l)}if(S=l.child,!Tl(l,y)){var v=S.memoizedProps;if(h=h.compare,h=h!==null?h:ar,h(v,p)&&l.ref===c.ref)return Kt(l,c,y)}return c.flags|=1,l=Rn(S,p),l.ref=c.ref,l.return=c,c.child=l}function Su(l,c,h,p,y){if(l!==null){var S=l.memoizedProps;if(ar(S,p)&&l.ref===c.ref)if(Fe=!1,c.pendingProps=p=S,Tl(l,y))l.flags&131072&&(Fe=!0);else return c.lanes=l.lanes,Kt(l,c,y)}return Sl(l,c,h,p,y)}function bu(l,c,h){var p=c.pendingProps,y=p.children,S=(c.stateNode._pendingVisibility&2)!==0,v=l!==null?l.memoizedState:null;if(wr(l,c),p.mode==="hidden"||S){if(c.flags&128){if(p=v!==null?v.baseLanes|h:h,l!==null){for(y=c.child=l.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;c.childLanes=S&~p}else c.childLanes=0,c.child=null;return wu(l,c,p,h)}if(h&536870912)c.memoizedState={baseLanes:0,cachePool:null},l!==null&&ks(c,v!==null?v.cachePool:null),v!==null?vc(c,v):Io(),Ec(c);else return c.lanes=c.childLanes=536870912,wu(l,c,v!==null?v.baseLanes|h:h,h)}else v!==null?(ks(c,v.cachePool),vc(c,v),Sn(),c.memoizedState=null):(l!==null&&ks(c,null),Io(),Sn());return tt(l,c,y,h),c.child}function wu(l,c,h,p){var y=el();return y=y===null?null:{parent:Ge._currentValue,pool:y},c.memoizedState={baseLanes:h,cachePool:y},l!==null&&ks(c,null),Io(),Ec(c),l!==null&&vr(l,c,p,!0),null}function wr(l,c){var h=c.ref;if(h===null)l!==null&&l.ref!==null&&(c.flags|=2097664);else{if(typeof h!="function"&&typeof h!="object")throw Error(s(284));(l===null||l.ref!==h)&&(c.flags|=2097664)}}function Sl(l,c,h,p,y){return ci(c),h=nl(l,c,h,p,void 0,y),p=il(),l!==null&&!Fe?(rl(l,c,y),Kt(l,c,y)):(Te&&p&&Uo(c),c.flags|=1,tt(l,c,h,y),c.child)}function vu(l,c,h,p,y,S){return ci(c),c.updateQueue=null,h=$c(c,p,h,y),Tc(l),p=il(),l!==null&&!Fe?(rl(l,c,S),Kt(l,c,S)):(Te&&p&&Uo(c),c.flags|=1,tt(l,c,h,S),c.child)}function Eu(l,c,h,p,y){if(ci(c),c.stateNode===null){var S=$i,v=h.contextType;typeof v=="object"&&v!==null&&(S=rt(v)),S=new h(p,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=yl,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=p,S.state=c.memoizedState,S.refs={},Pl(c),v=h.contextType,S.context=typeof v=="object"&&v!==null?rt(v):$i,S.state=c.memoizedState,v=h.getDerivedStateFromProps,typeof v=="function"&&(Ol(c,h,v,p),S.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(v=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),v!==S.state&&yl.enqueueReplaceState(S,S.state,null),Cr(c,p,S,y),kr(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),p=!0}else if(l===null){S=c.stateNode;var T=c.memoizedProps,N=li(h,T);S.props=N;var Y=S.context,se=h.contextType;v=$i,typeof se=="object"&&se!==null&&(v=rt(se));var ae=h.getDerivedStateFromProps;se=typeof ae=="function"||typeof S.getSnapshotBeforeUpdate=="function",T=c.pendingProps!==T,se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T||Y!==v)&&uu(c,S,p,v),En=!1;var K=c.memoizedState;S.state=K,Cr(c,p,S,y),kr(),Y=c.memoizedState,T||K!==Y||En?(typeof ae=="function"&&(Ol(c,h,ae,p),Y=c.memoizedState),(N=En||cu(c,h,N,p,K,Y,v))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=p,c.memoizedState=Y),S.props=p,S.state=Y,S.context=v,p=N):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),p=!1)}else{S=c.stateNode,Al(l,c),v=c.memoizedProps,se=li(h,v),S.props=se,ae=c.pendingProps,K=S.context,Y=h.contextType,N=$i,typeof Y=="object"&&Y!==null&&(N=rt(Y)),T=h.getDerivedStateFromProps,(Y=typeof T=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(v!==ae||K!==N)&&uu(c,S,p,N),En=!1,K=c.memoizedState,S.state=K,Cr(c,p,S,y),kr();var re=c.memoizedState;v!==ae||K!==re||En||l!==null&&l.dependencies!==null&&Zs(l.dependencies)?(typeof T=="function"&&(Ol(c,h,T,p),re=c.memoizedState),(se=En||cu(c,h,se,p,K,re,N)||l!==null&&l.dependencies!==null&&Zs(l.dependencies))?(Y||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(p,re,N),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(p,re,N)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||v===l.memoizedProps&&K===l.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||v===l.memoizedProps&&K===l.memoizedState||(c.flags|=1024),c.memoizedProps=p,c.memoizedState=re),S.props=p,S.state=re,S.context=N,p=se):(typeof S.componentDidUpdate!="function"||v===l.memoizedProps&&K===l.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||v===l.memoizedProps&&K===l.memoizedState||(c.flags|=1024),p=!1)}return S=p,wr(l,c),p=(c.flags&128)!==0,S||p?(S=c.stateNode,h=p&&typeof h.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,l!==null&&p?(c.child=ni(c,l.child,null,y),c.child=ni(c,null,h,y)):tt(l,c,h,y),c.memoizedState=S.state,l=c.child):l=Kt(l,c,y),l}function ku(l,c,h,p){return fr(),c.flags|=256,tt(l,c,h,p),c.child}var bl={dehydrated:null,treeContext:null,retryLane:0};function wl(l){return{baseLanes:l,cachePool:Qc()}}function vl(l,c,h){return l=l!==null?l.childLanes&~h:0,c&&(l|=Tt),l}function Cu(l,c,h){var p=c.pendingProps,y=!1,S=(c.flags&128)!==0,v;if((v=S)||(v=l!==null&&l.memoizedState===null?!1:(Ye.current&2)!==0),v&&(y=!0,c.flags&=-129),v=(c.flags&32)!==0,c.flags&=-33,l===null){if(Te){if(y?xn(c):Sn(),Te){var T=et,N;if(N=T){e:{for(N=T,T=jt;N.nodeType!==8;){if(!T){T=null;break e}if(N=_t(N.nextSibling),N===null){T=null;break e}}T=N}T!==null?(c.memoizedState={dehydrated:T,treeContext:Jn!==null?{id:Gt,overflow:Wt}:null,retryLane:536870912},N=Qt(18,null,null,0),N.stateNode=T,N.return=c,c.child=N,at=c,et=null,N=!0):N=!1}N||ti(c)}if(T=c.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?c.lanes=16:c.lanes=536870912,null;It(c)}return T=p.children,p=p.fallback,y?(Sn(),y=c.mode,T=kl({mode:"hidden",children:T},y),p=fi(p,y,h,null),T.return=c,p.return=c,T.sibling=p,c.child=T,y=c.child,y.memoizedState=wl(h),y.childLanes=vl(l,v,h),c.memoizedState=bl,p):(xn(c),El(c,T))}if(N=l.memoizedState,N!==null&&(T=N.dehydrated,T!==null)){if(S)c.flags&256?(xn(c),c.flags&=-257,c=Cl(l,c,h)):c.memoizedState!==null?(Sn(),c.child=l.child,c.flags|=128,c=null):(Sn(),y=p.fallback,T=c.mode,p=kl({mode:"visible",children:p.children},T),y=fi(y,T,h,null),y.flags|=2,p.return=c,y.return=c,p.sibling=y,c.child=p,ni(c,l.child,null,h),p=c.child,p.memoizedState=wl(h),p.childLanes=vl(l,v,h),c.memoizedState=bl,c=y);else if(xn(c),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var Y=v.dgst;v=Y,p=Error(s(419)),p.stack="",p.digest=v,hr({value:p,source:null,stack:null}),c=Cl(l,c,h)}else if(Fe||vr(l,c,h,!1),v=(h&l.childLanes)!==0,Fe||v){if(v=De,v!==null){if(p=h&-h,p&42)p=1;else switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=64;break;case 268435456:p=134217728;break;default:p=0}if(p=p&(v.suspendedLanes|h)?0:p,p!==0&&p!==N.retryLane)throw N.retryLane=p,yn(l,p),ct(v,l,p),Ou}T.data==="$?"||ea(),c=Cl(l,c,h)}else T.data==="$?"?(c.flags|=128,c.child=l.child,c=gd.bind(null,l),T._reactRetry=c,c=null):(l=N.treeContext,et=_t(T.nextSibling),at=c,Te=!0,At=null,jt=!1,l!==null&&(wt[vt++]=Gt,wt[vt++]=Wt,wt[vt++]=Jn,Gt=l.id,Wt=l.overflow,Jn=c),c=El(c,p.children),c.flags|=4096);return c}return y?(Sn(),y=p.fallback,T=c.mode,N=l.child,Y=N.sibling,p=Rn(N,{mode:"hidden",children:p.children}),p.subtreeFlags=N.subtreeFlags&31457280,Y!==null?y=Rn(Y,y):(y=fi(y,T,h,null),y.flags|=2),y.return=c,p.return=c,p.sibling=y,c.child=p,p=y,y=c.child,T=l.child.memoizedState,T===null?T=wl(h):(N=T.cachePool,N!==null?(Y=Ge._currentValue,N=N.parent!==Y?{parent:Y,pool:Y}:N):N=Qc(),T={baseLanes:T.baseLanes|h,cachePool:N}),y.memoizedState=T,y.childLanes=vl(l,v,h),c.memoizedState=bl,p):(xn(c),h=l.child,l=h.sibling,h=Rn(h,{mode:"visible",children:p.children}),h.return=c,h.sibling=null,l!==null&&(v=c.deletions,v===null?(c.deletions=[l],c.flags|=16):v.push(l)),c.child=h,c.memoizedState=null,h)}function El(l,c){return c=kl({mode:"visible",children:c},l.mode),c.return=l,l.child=c}function kl(l,c){return Ku(l,c,0,null)}function Cl(l,c,h){return ni(c,l.child,null,h),l=El(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function Qu(l,c,h){l.lanes|=c;var p=l.alternate;p!==null&&(p.lanes|=c),Rl(l.return,c,h)}function Ql(l,c,h,p,y){var S=l.memoizedState;S===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:y}:(S.isBackwards=c,S.rendering=null,S.renderingStartTime=0,S.last=p,S.tail=h,S.tailMode=y)}function Tu(l,c,h){var p=c.pendingProps,y=p.revealOrder,S=p.tail;if(tt(l,c,p.children,h),p=Ye.current,p&2)p=p&1|2,c.flags|=128;else{if(l!==null&&l.flags&128)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Qu(l,h,c);else if(l.tag===19)Qu(l,h,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}p&=1}switch(ge(Ye,p),y){case"forwards":for(h=c.child,y=null;h!==null;)l=h.alternate,l!==null&&Es(l)===null&&(y=h),h=h.sibling;h=y,h===null?(y=c.child,c.child=null):(y=h.sibling,h.sibling=null),Ql(c,!1,y,h,S);break;case"backwards":for(h=null,y=c.child,c.child=null;y!==null;){if(l=y.alternate,l!==null&&Es(l)===null){c.child=y;break}l=y.sibling,y.sibling=h,h=y,y=l}Ql(c,!0,h,null,S);break;case"together":Ql(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Kt(l,c,h){if(l!==null&&(c.dependencies=l.dependencies),Mn|=c.lanes,!(h&c.childLanes))if(l!==null){if(vr(l,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(l!==null&&c.child!==l.child)throw Error(s(153));if(c.child!==null){for(l=c.child,h=Rn(l,l.pendingProps),c.child=h,h.return=c;l.sibling!==null;)l=l.sibling,h=h.sibling=Rn(l,l.pendingProps),h.return=c;h.sibling=null}return c.child}function Tl(l,c){return l.lanes&c?!0:(l=l.dependencies,!!(l!==null&&Zs(l)))}function ed(l,c,h){switch(c.tag){case 3:je(c,c.stateNode.containerInfo),vn(c,Ge,l.memoizedState.cache),fr();break;case 27:case 5:jn(c);break;case 4:je(c,c.stateNode.containerInfo);break;case 10:vn(c,c.type,c.memoizedProps.value);break;case 13:var p=c.memoizedState;if(p!==null)return p.dehydrated!==null?(xn(c),c.flags|=128,null):h&c.child.childLanes?Cu(l,c,h):(xn(c),l=Kt(l,c,h),l!==null?l.sibling:null);xn(c);break;case 19:var y=(l.flags&128)!==0;if(p=(h&c.childLanes)!==0,p||(vr(l,c,h,!1),p=(h&c.childLanes)!==0),y){if(p)return Tu(l,c,h);c.flags|=128}if(y=c.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ge(Ye,Ye.current),p)break;return null;case 22:case 23:return c.lanes=0,bu(l,c,h);case 24:vn(c,Ge,l.memoizedState.cache)}return Kt(l,c,h)}function $u(l,c,h){if(l!==null)if(l.memoizedProps!==c.pendingProps)Fe=!0;else{if(!Tl(l,h)&&!(c.flags&128))return Fe=!1,ed(l,c,h);Fe=!!(l.flags&131072)}else Fe=!1,Te&&c.flags&1048576&&dc(c,xs,c.index);switch(c.lanes=0,c.tag){case 16:e:{l=c.pendingProps;var p=c.elementType,y=p._init;if(p=y(p._payload),c.type=p,typeof p=="function")zl(p)?(l=li(p,l),c.tag=1,c=Eu(null,c,p,l,h)):(c.tag=0,c=Sl(null,c,p,l,h));else{if(p!=null){if(y=p.$$typeof,y===w){c.tag=11,c=yu(null,c,p,l,h);break e}else if(y===Q){c.tag=14,c=xu(null,c,p,l,h);break e}}throw c=W(p)||p,Error(s(306,c,""))}}return c;case 0:return Sl(l,c,c.type,c.pendingProps,h);case 1:return p=c.type,y=li(p,c.pendingProps),Eu(l,c,p,y,h);case 3:e:{if(je(c,c.stateNode.containerInfo),l===null)throw Error(s(387));var S=c.pendingProps;y=c.memoizedState,p=y.element,Al(l,c),Cr(c,S,null,h);var v=c.memoizedState;if(S=v.cache,vn(c,Ge,S),S!==y.cache&&Ml(c,[Ge],h,!0),kr(),S=v.element,y.isDehydrated)if(y={element:S,isDehydrated:!1,cache:v.cache},c.updateQueue.baseState=y,c.memoizedState=y,c.flags&256){c=ku(l,c,S,h);break e}else if(S!==p){p=bt(Error(s(424)),c),hr(p),c=ku(l,c,S,h);break e}else for(et=_t(c.stateNode.containerInfo.firstChild),at=c,Te=!0,At=null,jt=!0,h=wc(c,null,S,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(fr(),S===p){c=Kt(l,c,h);break e}tt(l,c,S,h)}c=c.child}return c;case 26:return wr(l,c),l===null?(h=Af(c.type,null,c.pendingProps,null))?c.memoizedState=h:Te||(h=c.type,l=c.pendingProps,p=Ks(we.current).createElement(h),p[Ie]=c,p[it]=l,nt(p,h,l),Xe(p),c.stateNode=p):c.memoizedState=Af(c.type,l.memoizedProps,c.pendingProps,l.memoizedState),null;case 27:return jn(c),l===null&&Te&&(p=c.stateNode=Rf(c.type,c.pendingProps,we.current),at=c,jt=!0,et=_t(p.firstChild)),p=c.pendingProps.children,l!==null||Te?tt(l,c,p,h):c.child=ni(c,null,p,h),wr(l,c),c.child;case 5:return l===null&&Te&&((y=p=et)&&(p=Md(p,c.type,c.pendingProps,jt),p!==null?(c.stateNode=p,at=c,et=_t(p.firstChild),jt=!1,y=!0):y=!1),y||ti(c)),jn(c),y=c.type,S=c.pendingProps,v=l!==null?l.memoizedProps:null,p=S.children,pa(y,S)?p=null:v!==null&&pa(y,v)&&(c.flags|=32),c.memoizedState!==null&&(y=nl(l,c,Yh,null,null,h),Vr._currentValue=y),wr(l,c),tt(l,c,p,h),c.child;case 6:return l===null&&Te&&((l=h=et)&&(h=Pd(h,c.pendingProps,jt),h!==null?(c.stateNode=h,at=c,et=null,l=!0):l=!1),l||ti(c)),null;case 13:return Cu(l,c,h);case 4:return je(c,c.stateNode.containerInfo),p=c.pendingProps,l===null?c.child=ni(c,null,p,h):tt(l,c,p,h),c.child;case 11:return yu(l,c,c.type,c.pendingProps,h);case 7:return tt(l,c,c.pendingProps,h),c.child;case 8:return tt(l,c,c.pendingProps.children,h),c.child;case 12:return tt(l,c,c.pendingProps.children,h),c.child;case 10:return p=c.pendingProps,vn(c,c.type,p.value),tt(l,c,p.children,h),c.child;case 9:return y=c.type._context,p=c.pendingProps.children,ci(c),y=rt(y),p=p(y),c.flags|=1,tt(l,c,p,h),c.child;case 14:return xu(l,c,c.type,c.pendingProps,h);case 15:return Su(l,c,c.type,c.pendingProps,h);case 19:return Tu(l,c,h);case 22:return bu(l,c,h);case 24:return ci(c),p=rt(Ge),l===null?(y=el(),y===null&&(y=De,S=Ko(),y.pooledCache=S,S.refCount++,S!==null&&(y.pooledCacheLanes|=h),y=S),c.memoizedState={parent:p,cache:y},Pl(c),vn(c,Ge,y)):(l.lanes&h&&(Al(l,c),Cr(c,null,null,h),kr()),y=l.memoizedState,S=c.memoizedState,y.parent!==p?(y={parent:p,cache:p},c.memoizedState=y,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=y),vn(c,Ge,p)):(p=S.cache,vn(c,Ge,p),p!==y.cache&&Ml(c,[Ge],h,!0))),tt(l,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(s(156,c.tag))}var $l=ce(null),ai=null,Jt=null;function vn(l,c,h){ge($l,c._currentValue),c._currentValue=h}function en(l){l._currentValue=$l.current,pe($l)}function Rl(l,c,h){for(;l!==null;){var p=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,p!==null&&(p.childLanes|=c)):p!==null&&(p.childLanes&c)!==c&&(p.childLanes|=c),l===h)break;l=l.return}}function Ml(l,c,h,p){var y=l.child;for(y!==null&&(y.return=l);y!==null;){var S=y.dependencies;if(S!==null){var v=y.child;S=S.firstContext;e:for(;S!==null;){var T=S;S=y;for(var N=0;N<c.length;N++)if(T.context===c[N]){S.lanes|=h,T=S.alternate,T!==null&&(T.lanes|=h),Rl(S.return,h,l),p||(v=null);break e}S=T.next}}else if(y.tag===18){if(v=y.return,v===null)throw Error(s(341));v.lanes|=h,S=v.alternate,S!==null&&(S.lanes|=h),Rl(v,h,l),v=null}else v=y.child;if(v!==null)v.return=y;else for(v=y;v!==null;){if(v===l){v=null;break}if(y=v.sibling,y!==null){y.return=v.return,v=y;break}v=v.return}y=v}}function vr(l,c,h,p){l=null;for(var y=c,S=!1;y!==null;){if(!S){if(y.flags&524288)S=!0;else if(y.flags&262144)break}if(y.tag===10){var v=y.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=y.type;pt(y.pendingProps.value,v.value)||(l!==null?l.push(T):l=[T])}}else if(y===Re.current){if(v=y.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(l!==null?l.push(Vr):l=[Vr])}y=y.return}l!==null&&Ml(c,l,h,p),c.flags|=262144}function Zs(l){for(l=l.firstContext;l!==null;){if(!pt(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function ci(l){ai=l,Jt=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function rt(l){return Ru(ai,l)}function Ns(l,c){return ai===null&&ci(l),Ru(l,c)}function Ru(l,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},Jt===null){if(l===null)throw Error(s(308));Jt=c,l.dependencies={lanes:0,firstContext:c},l.flags|=524288}else Jt=Jt.next=c;return h}var En=!1;function Pl(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Al(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function kn(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Cn(l,c,h){var p=l.updateQueue;if(p===null)return null;if(p=p.shared,Ne&2){var y=p.pending;return y===null?c.next=c:(c.next=y.next,y.next=c),p.pending=c,c=Os(l),fc(l,null,h),c}return ms(l,p,c,h),Os(l)}function Er(l,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194176)!==0)){var p=c.lanes;p&=l.pendingLanes,h|=p,c.lanes=h,Ir(l,h)}}function Dl(l,c){var h=l.updateQueue,p=l.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var y=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var v={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?y=S=v:S=S.next=v,h=h.next}while(h!==null);S===null?y=S=c:S=S.next=c}else y=S=c;h={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:p.shared,callbacks:p.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=c}var _l=!1;function kr(){if(_l){var l=_i;if(l!==null)throw l}}function Cr(l,c,h,p){_l=!1;var y=l.updateQueue;En=!1;var S=y.firstBaseUpdate,v=y.lastBaseUpdate,T=y.shared.pending;if(T!==null){y.shared.pending=null;var N=T,Y=N.next;N.next=null,v===null?S=Y:v.next=Y,v=N;var se=l.alternate;se!==null&&(se=se.updateQueue,T=se.lastBaseUpdate,T!==v&&(T===null?se.firstBaseUpdate=Y:T.next=Y,se.lastBaseUpdate=N))}if(S!==null){var ae=y.baseState;v=0,se=Y=N=null,T=S;do{var K=T.lane&-536870913,re=K!==T.lane;if(re?(Qe&K)===K:(p&K)===K){K!==0&&K===Di&&(_l=!0),se!==null&&(se=se.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=l,be=T;K=c;var Ve=h;switch(be.tag){case 1:if(me=be.payload,typeof me=="function"){ae=me.call(Ve,ae,K);break e}ae=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=be.payload,K=typeof me=="function"?me.call(Ve,ae,K):me,K==null)break e;ae=H({},ae,K);break e;case 2:En=!0}}K=T.callback,K!==null&&(l.flags|=64,re&&(l.flags|=8192),re=y.callbacks,re===null?y.callbacks=[K]:re.push(K))}else re={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},se===null?(Y=se=re,N=ae):se=se.next=re,v|=K;if(T=T.next,T===null){if(T=y.shared.pending,T===null)break;re=T,T=re.next,re.next=null,y.lastBaseUpdate=re,y.shared.pending=null}}while(!0);se===null&&(N=ae),y.baseState=N,y.firstBaseUpdate=Y,y.lastBaseUpdate=se,S===null&&(y.shared.lanes=0),Mn|=v,l.lanes=v,l.memoizedState=ae}}function Mu(l,c){if(typeof l!="function")throw Error(s(191,l));l.call(c)}function Pu(l,c){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)Mu(h[l],c)}function Qr(l,c){try{var h=c.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var y=p.next;h=y;do{if((h.tag&l)===l){p=void 0;var S=h.create,v=h.inst;p=S(),v.destroy=p}h=h.next}while(h!==y)}}catch(T){Ae(c,c.return,T)}}function Qn(l,c,h){try{var p=c.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var S=y.next;p=S;do{if((p.tag&l)===l){var v=p.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,y=c;var N=h;try{T()}catch(Y){Ae(y,N,Y)}}}p=p.next}while(p!==S)}}catch(Y){Ae(c,c.return,Y)}}function Au(l){var c=l.updateQueue;if(c!==null){var h=l.stateNode;try{Pu(c,h)}catch(p){Ae(l,l.return,p)}}}function Du(l,c,h){h.props=li(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(p){Ae(l,c,p)}}function ui(l,c){try{var h=l.ref;if(h!==null){var p=l.stateNode;switch(l.tag){case 26:case 27:case 5:var y=p;break;default:y=p}typeof h=="function"?l.refCleanup=h(y):h.current=y}}catch(S){Ae(l,c,S)}}function gt(l,c){var h=l.ref,p=l.refCleanup;if(h!==null)if(typeof p=="function")try{p()}catch(y){Ae(l,c,y)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(y){Ae(l,c,y)}else h.current=null}function _u(l){var c=l.type,h=l.memoizedProps,p=l.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&p.focus();break e;case"img":h.src?p.src=h.src:h.srcSet&&(p.srcset=h.srcSet)}}catch(y){Ae(l,l.return,y)}}function Zu(l,c,h){try{var p=l.stateNode;Cd(p,l.type,h,c),p[it]=c}catch(y){Ae(l,l.return,y)}}function Nu(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27||l.tag===4}function Zl(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Nu(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==27&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Nl(l,c,h){var p=l.tag;if(p===5||p===6)l=l.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(l,c):h.insertBefore(l,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(l,h)):(c=h,c.appendChild(l)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Fs));else if(p!==4&&p!==27&&(l=l.child,l!==null))for(Nl(l,c,h),l=l.sibling;l!==null;)Nl(l,c,h),l=l.sibling}function js(l,c,h){var p=l.tag;if(p===5||p===6)l=l.stateNode,c?h.insertBefore(l,c):h.appendChild(l);else if(p!==4&&p!==27&&(l=l.child,l!==null))for(js(l,c,h),l=l.sibling;l!==null;)js(l,c,h),l=l.sibling}var tn=!1,Be=!1,jl=!1,ju=typeof WeakSet=="function"?WeakSet:Set,Ke=null,Bu=!1;function td(l,c){if(l=l.containerInfo,ha=ro,l=tc(l),Lo(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var y=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var v=0,T=-1,N=-1,Y=0,se=0,ae=l,K=null;t:for(;;){for(var re;ae!==h||y!==0&&ae.nodeType!==3||(T=v+y),ae!==S||p!==0&&ae.nodeType!==3||(N=v+p),ae.nodeType===3&&(v+=ae.nodeValue.length),(re=ae.firstChild)!==null;)K=ae,ae=re;for(;;){if(ae===l)break t;if(K===h&&++Y===y&&(T=v),K===S&&++se===p&&(N=v),(re=ae.nextSibling)!==null)break;ae=K,K=ae.parentNode}ae=re}h=T===-1||N===-1?null:{start:T,end:N}}else h=null}h=h||{start:0,end:0}}else h=null;for(da={focusedElem:l,selectionRange:h},ro=!1,Ke=c;Ke!==null;)if(c=Ke,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,Ke=l;else for(;Ke!==null;){switch(c=Ke,S=c.alternate,l=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if(l&1024&&S!==null){l=void 0,h=c,y=S.memoizedProps,S=S.memoizedState,p=h.stateNode;try{var me=li(h.type,y,h.elementType===h.type);l=p.getSnapshotBeforeUpdate(me,S),p.__reactInternalSnapshotBeforeUpdate=l}catch(be){Ae(h,h.return,be)}}break;case 3:if(l&1024){if(l=c.stateNode.containerInfo,h=l.nodeType,h===9)Oa(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Oa(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(l&1024)throw Error(s(163))}if(l=c.sibling,l!==null){l.return=c.return,Ke=l;break}Ke=c.return}return me=Bu,Bu=!1,me}function Lu(l,c,h){var p=h.flags;switch(h.tag){case 0:case 11:case 15:rn(l,h),p&4&&Qr(5,h);break;case 1:if(rn(l,h),p&4)if(l=h.stateNode,c===null)try{l.componentDidMount()}catch(T){Ae(h,h.return,T)}else{var y=li(h.type,c.memoizedProps);c=c.memoizedState;try{l.componentDidUpdate(y,c,l.__reactInternalSnapshotBeforeUpdate)}catch(T){Ae(h,h.return,T)}}p&64&&Au(h),p&512&&ui(h,h.return);break;case 3:if(rn(l,h),p&64&&(p=h.updateQueue,p!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{Pu(p,l)}catch(T){Ae(h,h.return,T)}}break;case 26:rn(l,h),p&512&&ui(h,h.return);break;case 27:case 5:rn(l,h),c===null&&p&4&&_u(h),p&512&&ui(h,h.return);break;case 12:rn(l,h);break;case 13:rn(l,h),p&4&&Xu(l,h);break;case 22:if(y=h.memoizedState!==null||tn,!y){c=c!==null&&c.memoizedState!==null||Be;var S=tn,v=Be;tn=y,(Be=c)&&!v?Tn(l,h,(h.subtreeFlags&8772)!==0):rn(l,h),tn=S,Be=v}p&512&&(h.memoizedProps.mode==="manual"?ui(h,h.return):gt(h,h.return));break;default:rn(l,h)}}function Vu(l){var c=l.alternate;c!==null&&(l.alternate=null,Vu(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&er(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Ue=null,mt=!1;function nn(l,c,h){for(h=h.child;h!==null;)zu(l,c,h),h=h.sibling}function zu(l,c,h){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Hn,h)}catch{}switch(h.tag){case 26:Be||gt(h,c),nn(l,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Be||gt(h,c);var p=Ue,y=mt;for(Ue=h.stateNode,nn(l,c,h),h=h.stateNode,c=h.attributes;c.length;)h.removeAttributeNode(c[0]);er(h),Ue=p,mt=y;break;case 5:Be||gt(h,c);case 6:y=Ue;var S=mt;if(Ue=null,nn(l,c,h),Ue=y,mt=S,Ue!==null)if(mt)try{l=Ue,p=h.stateNode,l.nodeType===8?l.parentNode.removeChild(p):l.removeChild(p)}catch(v){Ae(h,c,v)}else try{Ue.removeChild(h.stateNode)}catch(v){Ae(h,c,v)}break;case 18:Ue!==null&&(mt?(c=Ue,h=h.stateNode,c.nodeType===8?ma(c.parentNode,h):c.nodeType===1&&ma(c,h),Hr(c)):ma(Ue,h.stateNode));break;case 4:p=Ue,y=mt,Ue=h.stateNode.containerInfo,mt=!0,nn(l,c,h),Ue=p,mt=y;break;case 0:case 11:case 14:case 15:Be||Qn(2,h,c),Be||Qn(4,h,c),nn(l,c,h);break;case 1:Be||(gt(h,c),p=h.stateNode,typeof p.componentWillUnmount=="function"&&Du(h,c,p)),nn(l,c,h);break;case 21:nn(l,c,h);break;case 22:Be||gt(h,c),Be=(p=Be)||h.memoizedState!==null,nn(l,c,h),Be=p;break;default:nn(l,c,h)}}function Xu(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Hr(l)}catch(h){Ae(c,c.return,h)}}function nd(l){switch(l.tag){case 13:case 19:var c=l.stateNode;return c===null&&(c=l.stateNode=new ju),c;case 22:return l=l.stateNode,c=l._retryCache,c===null&&(c=l._retryCache=new ju),c;default:throw Error(s(435,l.tag))}}function Bl(l,c){var h=nd(l);c.forEach(function(p){var y=md.bind(null,l,p);h.has(p)||(h.add(p),p.then(y,y))})}function kt(l,c){var h=c.deletions;if(h!==null)for(var p=0;p<h.length;p++){var y=h[p],S=l,v=c,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:Ue=T.stateNode,mt=!1;break e;case 3:Ue=T.stateNode.containerInfo,mt=!0;break e;case 4:Ue=T.stateNode.containerInfo,mt=!0;break e}T=T.return}if(Ue===null)throw Error(s(160));zu(S,v,y),Ue=null,mt=!1,S=y.alternate,S!==null&&(S.return=null),y.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)qu(c,l),c=c.sibling}var Dt=null;function qu(l,c){var h=l.alternate,p=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:kt(c,l),Ct(l),p&4&&(Qn(3,l,l.return),Qr(3,l),Qn(5,l,l.return));break;case 1:kt(c,l),Ct(l),p&512&&(Be||h===null||gt(h,h.return)),p&64&&tn&&(l=l.updateQueue,l!==null&&(p=l.callbacks,p!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?p:h.concat(p))));break;case 26:var y=Dt;if(kt(c,l),Ct(l),p&512&&(Be||h===null||gt(h,h.return)),p&4){var S=h!==null?h.memoizedState:null;if(p=l.memoizedState,h===null)if(p===null)if(l.stateNode===null){e:{p=l.type,h=l.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":S=y.getElementsByTagName("title")[0],(!S||S[Wn]||S[Ie]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=y.createElement(p),y.head.insertBefore(S,y.querySelector("head > title"))),nt(S,p,h),S[Ie]=l,Xe(S),p=S;break e;case"link":var v=Zf("link","href",y).get(p+(h.href||""));if(v){for(var T=0;T<v.length;T++)if(S=v[T],S.getAttribute("href")===(h.href==null?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){v.splice(T,1);break t}}S=y.createElement(p),nt(S,p,h),y.head.appendChild(S);break;case"meta":if(v=Zf("meta","content",y).get(p+(h.content||""))){for(T=0;T<v.length;T++)if(S=v[T],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){v.splice(T,1);break t}}S=y.createElement(p),nt(S,p,h),y.head.appendChild(S);break;default:throw Error(s(468,p))}S[Ie]=l,Xe(S),p=S}l.stateNode=p}else Nf(y,l.type,l.stateNode);else l.stateNode=_f(y,p,l.memoizedProps);else S!==p?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,p===null?Nf(y,l.type,l.stateNode):_f(y,p,l.memoizedProps)):p===null&&l.stateNode!==null&&Zu(l,l.memoizedProps,h.memoizedProps)}break;case 27:if(p&4&&l.alternate===null){y=l.stateNode,S=l.memoizedProps;try{for(var N=y.firstChild;N;){var Y=N.nextSibling,se=N.nodeName;N[Wn]||se==="HEAD"||se==="BODY"||se==="SCRIPT"||se==="STYLE"||se==="LINK"&&N.rel.toLowerCase()==="stylesheet"||y.removeChild(N),N=Y}for(var ae=l.type,K=y.attributes;K.length;)y.removeAttributeNode(K[0]);nt(y,ae,S),y[Ie]=l,y[it]=S}catch(me){Ae(l,l.return,me)}}case 5:if(kt(c,l),Ct(l),p&512&&(Be||h===null||gt(h,h.return)),l.flags&32){y=l.stateNode;try{wi(y,"")}catch(me){Ae(l,l.return,me)}}p&4&&l.stateNode!=null&&(y=l.memoizedProps,Zu(l,y,h!==null?h.memoizedProps:y)),p&1024&&(jl=!0);break;case 6:if(kt(c,l),Ct(l),p&4){if(l.stateNode===null)throw Error(s(162));p=l.memoizedProps,h=l.stateNode;try{h.nodeValue=p}catch(me){Ae(l,l.return,me)}}break;case 3:if(to=null,y=Dt,Dt=Js(c.containerInfo),kt(c,l),Dt=y,Ct(l),p&4&&h!==null&&h.memoizedState.isDehydrated)try{Hr(c.containerInfo)}catch(me){Ae(l,l.return,me)}jl&&(jl=!1,Hu(l));break;case 4:p=Dt,Dt=Js(l.stateNode.containerInfo),kt(c,l),Ct(l),Dt=p;break;case 12:kt(c,l),Ct(l);break;case 13:kt(c,l),Ct(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Gl=ut()),p&4&&(p=l.updateQueue,p!==null&&(l.updateQueue=null,Bl(l,p)));break;case 22:if(p&512&&(Be||h===null||gt(h,h.return)),N=l.memoizedState!==null,Y=h!==null&&h.memoizedState!==null,se=tn,ae=Be,tn=se||N,Be=ae||Y,kt(c,l),Be=ae,tn=se,Ct(l),c=l.stateNode,c._current=l,c._visibility&=-3,c._visibility|=c._pendingVisibility&2,p&8192&&(c._visibility=N?c._visibility&-2:c._visibility|1,N&&(c=tn||Be,h===null||Y||c||Bi(l)),l.memoizedProps===null||l.memoizedProps.mode!=="manual"))e:for(h=null,c=l;;){if(c.tag===5||c.tag===26||c.tag===27){if(h===null){Y=h=c;try{if(y=Y.stateNode,N)S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{v=Y.stateNode,T=Y.memoizedProps.style;var re=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(me){Ae(Y,Y.return,me)}}}else if(c.tag===6){if(h===null){Y=c;try{Y.stateNode.nodeValue=N?"":Y.memoizedProps}catch(me){Ae(Y,Y.return,me)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}p&4&&(p=l.updateQueue,p!==null&&(h=p.retryQueue,h!==null&&(p.retryQueue=null,Bl(l,h))));break;case 19:kt(c,l),Ct(l),p&4&&(p=l.updateQueue,p!==null&&(l.updateQueue=null,Bl(l,p)));break;case 21:break;default:kt(c,l),Ct(l)}}function Ct(l){var c=l.flags;if(c&2){try{if(l.tag!==27){e:{for(var h=l.return;h!==null;){if(Nu(h)){var p=h;break e}h=h.return}throw Error(s(160))}switch(p.tag){case 27:var y=p.stateNode,S=Zl(l);js(l,S,y);break;case 5:var v=p.stateNode;p.flags&32&&(wi(v,""),p.flags&=-33);var T=Zl(l);js(l,T,v);break;case 3:case 4:var N=p.stateNode.containerInfo,Y=Zl(l);Nl(l,Y,N);break;default:throw Error(s(161))}}}catch(se){Ae(l,l.return,se)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function Hu(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var c=l;Hu(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),l=l.sibling}}function rn(l,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Lu(l,c.alternate,c),c=c.sibling}function Bi(l){for(l=l.child;l!==null;){var c=l;switch(c.tag){case 0:case 11:case 14:case 15:Qn(4,c,c.return),Bi(c);break;case 1:gt(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&Du(c,c.return,h),Bi(c);break;case 26:case 27:case 5:gt(c,c.return),Bi(c);break;case 22:gt(c,c.return),c.memoizedState===null&&Bi(c);break;default:Bi(c)}l=l.sibling}}function Tn(l,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var p=c.alternate,y=l,S=c,v=S.flags;switch(S.tag){case 0:case 11:case 15:Tn(y,S,h),Qr(4,S);break;case 1:if(Tn(y,S,h),p=S,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Y){Ae(p,p.return,Y)}if(p=S,y=p.updateQueue,y!==null){var T=p.stateNode;try{var N=y.shared.hiddenCallbacks;if(N!==null)for(y.shared.hiddenCallbacks=null,y=0;y<N.length;y++)Mu(N[y],T)}catch(Y){Ae(p,p.return,Y)}}h&&v&64&&Au(S),ui(S,S.return);break;case 26:case 27:case 5:Tn(y,S,h),h&&p===null&&v&4&&_u(S),ui(S,S.return);break;case 12:Tn(y,S,h);break;case 13:Tn(y,S,h),h&&v&4&&Xu(y,S);break;case 22:S.memoizedState===null&&Tn(y,S,h),ui(S,S.return);break;default:Tn(y,S,h)}c=c.sibling}}function Ll(l,c){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(l=c.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&Or(h))}function Vl(l,c){l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&Or(l))}function $n(l,c,h,p){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Uu(l,c,h,p),c=c.sibling}function Uu(l,c,h,p){var y=c.flags;switch(c.tag){case 0:case 11:case 15:$n(l,c,h,p),y&2048&&Qr(9,c);break;case 3:$n(l,c,h,p),y&2048&&(l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&Or(l)));break;case 12:if(y&2048){$n(l,c,h,p),l=c.stateNode;try{var S=c.memoizedProps,v=S.id,T=S.onPostCommit;typeof T=="function"&&T(v,c.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(N){Ae(c,c.return,N)}}else $n(l,c,h,p);break;case 23:break;case 22:S=c.stateNode,c.memoizedState!==null?S._visibility&4?$n(l,c,h,p):Tr(l,c):S._visibility&4?$n(l,c,h,p):(S._visibility|=4,Li(l,c,h,p,(c.subtreeFlags&10256)!==0)),y&2048&&Ll(c.alternate,c);break;case 24:$n(l,c,h,p),y&2048&&Vl(c.alternate,c);break;default:$n(l,c,h,p)}}function Li(l,c,h,p,y){for(y=y&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var S=l,v=c,T=h,N=p,Y=v.flags;switch(v.tag){case 0:case 11:case 15:Li(S,v,T,N,y),Qr(8,v);break;case 23:break;case 22:var se=v.stateNode;v.memoizedState!==null?se._visibility&4?Li(S,v,T,N,y):Tr(S,v):(se._visibility|=4,Li(S,v,T,N,y)),y&&Y&2048&&Ll(v.alternate,v);break;case 24:Li(S,v,T,N,y),y&&Y&2048&&Vl(v.alternate,v);break;default:Li(S,v,T,N,y)}c=c.sibling}}function Tr(l,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=l,p=c,y=p.flags;switch(p.tag){case 22:Tr(h,p),y&2048&&Ll(p.alternate,p);break;case 24:Tr(h,p),y&2048&&Vl(p.alternate,p);break;default:Tr(h,p)}c=c.sibling}}var $r=8192;function Vi(l){if(l.subtreeFlags&$r)for(l=l.child;l!==null;)Yu(l),l=l.sibling}function Yu(l){switch(l.tag){case 26:Vi(l),l.flags&$r&&l.memoizedState!==null&&Hd(Dt,l.memoizedState,l.memoizedProps);break;case 5:Vi(l);break;case 3:case 4:var c=Dt;Dt=Js(l.stateNode.containerInfo),Vi(l),Dt=c;break;case 22:l.memoizedState===null&&(c=l.alternate,c!==null&&c.memoizedState!==null?(c=$r,$r=16777216,Vi(l),$r=c):Vi(l));break;default:Vi(l)}}function Gu(l){var c=l.alternate;if(c!==null&&(l=c.child,l!==null)){c.child=null;do c=l.sibling,l.sibling=null,l=c;while(l!==null)}}function Rr(l){var c=l.deletions;if(l.flags&16){if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];Ke=p,Iu(p,l)}Gu(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Wu(l),l=l.sibling}function Wu(l){switch(l.tag){case 0:case 11:case 15:Rr(l),l.flags&2048&&Qn(9,l,l.return);break;case 3:Rr(l);break;case 12:Rr(l);break;case 22:var c=l.stateNode;l.memoizedState!==null&&c._visibility&4&&(l.return===null||l.return.tag!==13)?(c._visibility&=-5,Bs(l)):Rr(l);break;default:Rr(l)}}function Bs(l){var c=l.deletions;if(l.flags&16){if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];Ke=p,Iu(p,l)}Gu(l)}for(l=l.child;l!==null;){switch(c=l,c.tag){case 0:case 11:case 15:Qn(8,c,c.return),Bs(c);break;case 22:h=c.stateNode,h._visibility&4&&(h._visibility&=-5,Bs(c));break;default:Bs(c)}l=l.sibling}}function Iu(l,c){for(;Ke!==null;){var h=Ke;switch(h.tag){case 0:case 11:case 15:Qn(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var p=h.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Or(h.memoizedState.cache)}if(p=h.child,p!==null)p.return=h,Ke=p;else e:for(h=l;Ke!==null;){p=Ke;var y=p.sibling,S=p.return;if(Vu(p),p===h){Ke=null;break e}if(y!==null){y.return=S,Ke=y;break e}Ke=S}}}function rd(l,c,h,p){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(l,c,h,p){return new rd(l,c,h,p)}function zl(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Rn(l,c){var h=l.alternate;return h===null?(h=Qt(l.tag,c,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=c,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&31457280,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,c=l.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function Fu(l,c){l.flags&=31457282;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,c=h.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),l}function Ls(l,c,h,p,y,S){var v=0;if(p=l,typeof l=="function")zl(l)&&(v=1);else if(typeof l=="string")v=Xd(l,h,Se.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case d:return fi(h.children,y,S,c);case g:v=8,y|=24;break;case m:return l=Qt(12,h,c,y|2),l.elementType=m,l.lanes=S,l;case E:return l=Qt(13,h,c,y),l.elementType=E,l.lanes=S,l;case k:return l=Qt(19,h,c,y),l.elementType=k,l.lanes=S,l;case M:return Ku(h,y,S,c);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case O:case b:v=10;break e;case x:v=9;break e;case w:v=11;break e;case Q:v=14;break e;case A:v=16,p=null;break e}v=29,h=Error(s(130,l===null?"null":typeof l,"")),p=null}return c=Qt(v,h,c,y),c.elementType=l,c.type=p,c.lanes=S,c}function fi(l,c,h,p){return l=Qt(7,l,p,c),l.lanes=h,l}function Ku(l,c,h,p){l=Qt(22,l,p,c),l.elementType=M,l.lanes=h;var y={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var S=y._current;if(S===null)throw Error(s(456));if(!(y._pendingVisibility&2)){var v=yn(S,2);v!==null&&(y._pendingVisibility|=2,ct(v,S,2))}},attach:function(){var S=y._current;if(S===null)throw Error(s(456));if(y._pendingVisibility&2){var v=yn(S,2);v!==null&&(y._pendingVisibility&=-3,ct(v,S,2))}}};return l.stateNode=y,l}function Xl(l,c,h){return l=Qt(6,l,null,c),l.lanes=h,l}function ql(l,c,h){return c=Qt(4,l.children!==null?l.children:[],l.key,c),c.lanes=h,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}function sn(l){l.flags|=4}function Ju(l,c){if(c.type!=="stylesheet"||c.state.loading&4)l.flags&=-16777217;else if(l.flags|=16777216,!jf(c)){if(c=Et.current,c!==null&&((Qe&4194176)===Qe?Bt!==null:(Qe&62914560)!==Qe&&!(Qe&536870912)||c!==Bt))throw pr=Wo,mc;l.flags|=8192}}function Vs(l,c){c!==null&&(l.flags|=4),l.flags&16384&&(c=l.tag!==22?Gr():536870912,l.lanes|=c,Xi|=c)}function Mr(l,c){if(!Te)switch(l.tailMode){case"hidden":c=l.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:p.sibling=null}}function Ze(l){var c=l.alternate!==null&&l.alternate.child===l.child,h=0,p=0;if(c)for(var y=l.child;y!==null;)h|=y.lanes|y.childLanes,p|=y.subtreeFlags&31457280,p|=y.flags&31457280,y.return=l,y=y.sibling;else for(y=l.child;y!==null;)h|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=l,y=y.sibling;return l.subtreeFlags|=p,l.childLanes=h,c}function sd(l,c,h){var p=c.pendingProps;switch(Yo(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(c),null;case 1:return Ze(c),null;case 3:return h=c.stateNode,p=null,l!==null&&(p=l.memoizedState.cache),c.memoizedState.cache!==p&&(c.flags|=2048),en(Ge),We(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(ur(c)?sn(c):l===null||l.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,At!==null&&(Kl(At),At=null))),Ze(c),null;case 26:return h=c.memoizedState,l===null?(sn(c),h!==null?(Ze(c),Ju(c,h)):(Ze(c),c.flags&=-16777217)):h?h!==l.memoizedState?(sn(c),Ze(c),Ju(c,h)):(Ze(c),c.flags&=-16777217):(l.memoizedProps!==p&&sn(c),Ze(c),c.flags&=-16777217),null;case 27:un(c),h=we.current;var y=c.type;if(l!==null&&c.stateNode!=null)l.memoizedProps!==p&&sn(c);else{if(!p){if(c.stateNode===null)throw Error(s(166));return Ze(c),null}l=Se.current,ur(c)?pc(c):(l=Rf(y,p,h),c.stateNode=l,sn(c))}return Ze(c),null;case 5:if(un(c),h=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==p&&sn(c);else{if(!p){if(c.stateNode===null)throw Error(s(166));return Ze(c),null}if(l=Se.current,ur(c))pc(c);else{switch(y=Ks(we.current),l){case 1:l=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:l=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":l=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":l=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":l=y.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof p.is=="string"?y.createElement("select",{is:p.is}):y.createElement("select"),p.multiple?l.multiple=!0:p.size&&(l.size=p.size);break;default:l=typeof p.is=="string"?y.createElement(h,{is:p.is}):y.createElement(h)}}l[Ie]=c,l[it]=p;e:for(y=c.child;y!==null;){if(y.tag===5||y.tag===6)l.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===c)break e;for(;y.sibling===null;){if(y.return===null||y.return===c)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}c.stateNode=l;e:switch(nt(l,h,p),h){case"button":case"input":case"select":case"textarea":l=!!p.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&sn(c)}}return Ze(c),c.flags&=-16777217,null;case 6:if(l&&c.stateNode!=null)l.memoizedProps!==p&&sn(c);else{if(typeof p!="string"&&c.stateNode===null)throw Error(s(166));if(l=we.current,ur(c)){if(l=c.stateNode,h=c.memoizedProps,p=null,y=at,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}l[Ie]=c,l=!!(l.nodeValue===h||p!==null&&p.suppressHydrationWarning===!0||Ef(l.nodeValue,h)),l||ti(c)}else l=Ks(l).createTextNode(p),l[Ie]=c,c.stateNode=l}return Ze(c),null;case 13:if(p=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(y=ur(c),p!==null&&p.dehydrated!==null){if(l===null){if(!y)throw Error(s(318));if(y=c.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[Ie]=c}else fr(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;Ze(c),y=!1}else At!==null&&(Kl(At),At=null),y=!0;if(!y)return c.flags&256?(It(c),c):(It(c),null)}if(It(c),c.flags&128)return c.lanes=h,c;if(h=p!==null,l=l!==null&&l.memoizedState!==null,h){p=c.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool);var S=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(S=p.memoizedState.cachePool.pool),S!==y&&(p.flags|=2048)}return h!==l&&h&&(c.child.flags|=8192),Vs(c,c.updateQueue),Ze(c),null;case 4:return We(),l===null&&ca(c.stateNode.containerInfo),Ze(c),null;case 10:return en(c.type),Ze(c),null;case 19:if(pe(Ye),y=c.memoizedState,y===null)return Ze(c),null;if(p=(c.flags&128)!==0,S=y.rendering,S===null)if(p)Mr(y,!1);else{if(Le!==0||l!==null&&l.flags&128)for(l=c.child;l!==null;){if(S=Es(l),S!==null){for(c.flags|=128,Mr(y,!1),l=S.updateQueue,c.updateQueue=l,Vs(c,l),c.subtreeFlags=0,l=h,h=c.child;h!==null;)Fu(h,l),h=h.sibling;return ge(Ye,Ye.current&1|2),c.child}l=l.sibling}y.tail!==null&&ut()>zs&&(c.flags|=128,p=!0,Mr(y,!1),c.lanes=4194304)}else{if(!p)if(l=Es(S),l!==null){if(c.flags|=128,p=!0,l=l.updateQueue,c.updateQueue=l,Vs(c,l),Mr(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!Te)return Ze(c),null}else 2*ut()-y.renderingStartTime>zs&&h!==536870912&&(c.flags|=128,p=!0,Mr(y,!1),c.lanes=4194304);y.isBackwards?(S.sibling=c.child,c.child=S):(l=y.last,l!==null?l.sibling=S:c.child=S,y.last=S)}return y.tail!==null?(c=y.tail,y.rendering=c,y.tail=c.sibling,y.renderingStartTime=ut(),c.sibling=null,l=Ye.current,ge(Ye,p?l&1|2:l&1),c):(Ze(c),null);case 22:case 23:return It(c),Fo(),p=c.memoizedState!==null,l!==null?l.memoizedState!==null!==p&&(c.flags|=8192):p&&(c.flags|=8192),p?h&536870912&&!(c.flags&128)&&(Ze(c),c.subtreeFlags&6&&(c.flags|=8192)):Ze(c),h=c.updateQueue,h!==null&&Vs(c,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==h&&(c.flags|=2048),l!==null&&pe(ii),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),en(Ge),Ze(c),null;case 25:return null}throw Error(s(156,c.tag))}function od(l,c){switch(Yo(c),c.tag){case 1:return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return en(Ge),We(),l=c.flags,l&65536&&!(l&128)?(c.flags=l&-65537|128,c):null;case 26:case 27:case 5:return un(c),null;case 13:if(It(c),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(s(340));fr()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return pe(Ye),null;case 4:return We(),null;case 10:return en(c.type),null;case 22:case 23:return It(c),Fo(),l!==null&&pe(ii),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 24:return en(Ge),null;case 25:return null;default:return null}}function ef(l,c){switch(Yo(c),c.tag){case 3:en(Ge),We();break;case 26:case 27:case 5:un(c);break;case 4:We();break;case 13:It(c);break;case 19:pe(Ye);break;case 10:en(c.type);break;case 22:case 23:It(c),Fo(),l!==null&&pe(ii);break;case 24:en(Ge)}}var ld={getCacheForType:function(l){var c=rt(Ge),h=c.data.get(l);return h===void 0&&(h=l(),c.data.set(l,h)),h}},ad=typeof WeakMap=="function"?WeakMap:Map,Ne=0,De=null,ke=null,Qe=0,_e=0,Ot=null,on=!1,zi=!1,Hl=!1,ln=0,Le=0,Mn=0,hi=0,Ul=0,Tt=0,Xi=0,Pr=null,Vt=null,Yl=!1,Gl=0,zs=1/0,Xs=null,Pn=null,qs=!1,di=null,Ar=0,Wl=0,Il=null,Dr=0,Fl=null;function yt(){if(Ne&2&&Qe!==0)return Qe&-Qe;if(B.T!==null){var l=Di;return l!==0?l:sa()}return Kr()}function tf(){Tt===0&&(Tt=!(Qe&536870912)||Te?Yr():536870912);var l=Et.current;return l!==null&&(l.flags|=32),Tt}function ct(l,c,h){(l===De&&_e===2||l.cancelPendingCommit!==null)&&(qi(l,0),an(l,Qe,Tt,!1)),Gn(l,h),(!(Ne&2)||l!==De)&&(l===De&&(!(Ne&2)&&(hi|=h),Le===4&&an(l,Qe,Tt,!1)),zt(l))}function nf(l,c,h){if(Ne&6)throw Error(s(327));var p=!h&&(c&60)===0&&(c&l.expiredLanes)===0||Yn(l,c),y=p?fd(l,c):ta(l,c,!0),S=p;do{if(y===0){zi&&!p&&an(l,c,0,!1);break}else if(y===6)an(l,c,0,!on);else{if(h=l.current.alternate,S&&!cd(h)){y=ta(l,c,!1),S=!1;continue}if(y===2){if(S=c,l.errorRecoveryDisabledLanes&S)var v=0;else v=l.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){c=v;e:{var T=l;y=Pr;var N=T.current.memoizedState.isDehydrated;if(N&&(qi(T,v).flags|=256),v=ta(T,v,!1),v!==2){if(Hl&&!N){T.errorRecoveryDisabledLanes|=S,hi|=S,y=4;break e}S=Vt,Vt=y,S!==null&&Kl(S)}y=v}if(S=!1,y!==2)continue}}if(y===1){qi(l,0),an(l,c,0,!0);break}e:{switch(p=l,y){case 0:case 1:throw Error(s(345));case 4:if((c&4194176)===c){an(p,c,Tt,!on);break e}break;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(s(329))}if(p.finishedWork=h,p.finishedLanes=c,(c&62914560)===c&&(S=Gl+300-ut(),10<S)){if(an(p,c,Tt,!on),Un(p,0)!==0)break e;p.timeoutHandle=Qf(rf.bind(null,p,h,Vt,Xs,Yl,c,Tt,hi,Xi,on,2,-0,0),S);break e}rf(p,h,Vt,Xs,Yl,c,Tt,hi,Xi,on,0,-0,0)}}break}while(!0);zt(l)}function Kl(l){Vt===null?Vt=l:Vt.push.apply(Vt,l)}function rf(l,c,h,p,y,S,v,T,N,Y,se,ae,K){var re=c.subtreeFlags;if((re&8192||(re&16785408)===16785408)&&(Lr={stylesheets:null,count:0,unsuspend:qd},Yu(c),c=Ud(),c!==null)){l.cancelPendingCommit=c(ff.bind(null,l,h,p,y,v,T,N,1,ae,K)),an(l,S,v,!Y);return}ff(l,h,p,y,v,T,N,se,ae,K)}function cd(l){for(var c=l;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var p=0;p<h.length;p++){var y=h[p],S=y.getSnapshot;y=y.value;try{if(!pt(S(),y))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function an(l,c,h,p){c&=~Ul,c&=~hi,l.suspendedLanes|=c,l.pingedLanes&=~c,p&&(l.warmLanes|=c),p=l.expirationTimes;for(var y=c;0<y;){var S=31-ot(y),v=1<<S;p[S]=-1,y&=~v}h!==0&&Wr(l,h,c)}function Hs(){return Ne&6?!0:(_r(0),!1)}function Jl(){if(ke!==null){if(_e===0)var l=ke.return;else l=ke,Jt=ai=null,sl(l),Pi=null,gr=0,l=ke;for(;l!==null;)ef(l.alternate,l),l=l.return;ke=null}}function qi(l,c){l.finishedWork=null,l.finishedLanes=0;var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,Td(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),Jl(),De=l,ke=h=Rn(l.current,null),Qe=c,_e=0,Ot=null,on=!1,zi=Yn(l,c),Hl=!1,Xi=Tt=Ul=hi=Mn=Le=0,Vt=Pr=null,Yl=!1,c&8&&(c|=c&32);var p=l.entangledLanes;if(p!==0)for(l=l.entanglements,p&=c;0<p;){var y=31-ot(p),S=1<<y;c|=l[y],p&=~S}return ln=c,gs(),h}function sf(l,c){ve=null,B.H=Lt,c===dr?(c=xc(),_e=3):c===mc?(c=xc(),_e=4):_e=c===Ou?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ot=c,ke===null&&(Le=1,_s(l,bt(c,l.current)))}function of(){var l=B.H;return B.H=Lt,l===null?Lt:l}function lf(){var l=B.A;return B.A=ld,l}function ea(){Le=4,on||(Qe&4194176)!==Qe&&Et.current!==null||(zi=!0),!(Mn&134217727)&&!(hi&134217727)||De===null||an(De,Qe,Tt,!1)}function ta(l,c,h){var p=Ne;Ne|=2;var y=of(),S=lf();(De!==l||Qe!==c)&&(Xs=null,qi(l,c)),c=!1;var v=Le;e:do try{if(_e!==0&&ke!==null){var T=ke,N=Ot;switch(_e){case 8:Jl(),v=6;break e;case 3:case 2:case 6:Et.current===null&&(c=!0);var Y=_e;if(_e=0,Ot=null,Hi(l,T,N,Y),h&&zi){v=0;break e}break;default:Y=_e,_e=0,Ot=null,Hi(l,T,N,Y)}}ud(),v=Le;break}catch(se){sf(l,se)}while(!0);return c&&l.shellSuspendCounter++,Jt=ai=null,Ne=p,B.H=y,B.A=S,ke===null&&(De=null,Qe=0,gs()),v}function ud(){for(;ke!==null;)af(ke)}function fd(l,c){var h=Ne;Ne|=2;var p=of(),y=lf();De!==l||Qe!==c?(Xs=null,zs=ut()+500,qi(l,c)):zi=Yn(l,c);e:do try{if(_e!==0&&ke!==null){c=ke;var S=Ot;t:switch(_e){case 1:_e=0,Ot=null,Hi(l,c,S,1);break;case 2:if(Oc(S)){_e=0,Ot=null,cf(c);break}c=function(){_e===2&&De===l&&(_e=7),zt(l)},S.then(c,c);break e;case 3:_e=7;break e;case 4:_e=5;break e;case 7:Oc(S)?(_e=0,Ot=null,cf(c)):(_e=0,Ot=null,Hi(l,c,S,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var T=ke;if(!v||jf(v)){_e=0,Ot=null;var N=T.sibling;if(N!==null)ke=N;else{var Y=T.return;Y!==null?(ke=Y,Us(Y)):ke=null}break t}}_e=0,Ot=null,Hi(l,c,S,5);break;case 6:_e=0,Ot=null,Hi(l,c,S,6);break;case 8:Jl(),Le=6;break e;default:throw Error(s(462))}}hd();break}catch(se){sf(l,se)}while(!0);return Jt=ai=null,B.H=p,B.A=y,Ne=h,ke!==null?0:(De=null,Qe=0,gs(),Le)}function hd(){for(;ke!==null&&!Vn();)af(ke)}function af(l){var c=$u(l.alternate,l,ln);l.memoizedProps=l.pendingProps,c===null?Us(l):ke=c}function cf(l){var c=l,h=c.alternate;switch(c.tag){case 15:case 0:c=vu(h,c,c.pendingProps,c.type,void 0,Qe);break;case 11:c=vu(h,c,c.pendingProps,c.type.render,c.ref,Qe);break;case 5:sl(c);default:ef(h,c),c=ke=Fu(c,ln),c=$u(h,c,ln)}l.memoizedProps=l.pendingProps,c===null?Us(l):ke=c}function Hi(l,c,h,p){Jt=ai=null,sl(c),Pi=null,gr=0;var y=c.return;try{if(Jh(l,y,c,h,Qe)){Le=1,_s(l,bt(h,l.current)),ke=null;return}}catch(S){if(y!==null)throw ke=y,S;Le=1,_s(l,bt(h,l.current)),ke=null;return}c.flags&32768?(Te||p===1?l=!0:zi||Qe&536870912?l=!1:(on=l=!0,(p===2||p===3||p===6)&&(p=Et.current,p!==null&&p.tag===13&&(p.flags|=16384))),uf(c,l)):Us(c)}function Us(l){var c=l;do{if(c.flags&32768){uf(c,on);return}l=c.return;var h=sd(c.alternate,c,ln);if(h!==null){ke=h;return}if(c=c.sibling,c!==null){ke=c;return}ke=c=l}while(c!==null);Le===0&&(Le=5)}function uf(l,c){do{var h=od(l.alternate,l);if(h!==null){h.flags&=32767,ke=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(l=l.sibling,l!==null)){ke=l;return}ke=l=h}while(l!==null);Le=6,ke=null}function ff(l,c,h,p,y,S,v,T,N,Y){var se=B.T,ae=ne.p;try{ne.p=2,B.T=null,dd(l,c,h,p,ae,y,S,v,T,N,Y)}finally{B.T=se,ne.p=ae}}function dd(l,c,h,p,y,S,v,T){do Ui();while(di!==null);if(Ne&6)throw Error(s(327));var N=l.finishedWork;if(p=l.finishedLanes,N===null)return null;if(l.finishedWork=null,l.finishedLanes=0,N===l.current)throw Error(s(177));l.callbackNode=null,l.callbackPriority=0,l.cancelPendingCommit=null;var Y=N.lanes|N.childLanes;if(Y|=qo,xo(l,p,Y,S,v,T),l===De&&(ke=De=null,Qe=0),!(N.subtreeFlags&10256)&&!(N.flags&10256)||qs||(qs=!0,Wl=Y,Il=h,Od(gi,function(){return Ui(),null})),h=(N.flags&15990)!==0,N.subtreeFlags&15990||h?(h=B.T,B.T=null,S=ne.p,ne.p=2,v=Ne,Ne|=4,td(l,N),qu(N,l),Zh(da,l.containerInfo),ro=!!ha,da=ha=null,l.current=N,Lu(l,N.alternate,N),zn(),Ne=v,ne.p=S,B.T=h):l.current=N,qs?(qs=!1,di=l,Ar=p):hf(l,Y),Y=l.pendingLanes,Y===0&&(Pn=null),po(N.stateNode),zt(l),c!==null)for(y=l.onRecoverableError,N=0;N<c.length;N++)Y=c[N],y(Y.value,{componentStack:Y.stack});return Ar&3&&Ui(),Y=l.pendingLanes,p&4194218&&Y&42?l===Fl?Dr++:(Dr=0,Fl=l):Dr=0,_r(0),null}function hf(l,c){(l.pooledCacheLanes&=c)===0&&(c=l.pooledCache,c!=null&&(l.pooledCache=null,Or(c)))}function Ui(){if(di!==null){var l=di,c=Wl;Wl=0;var h=Fr(Ar),p=B.T,y=ne.p;try{if(ne.p=32>h?32:h,B.T=null,di===null)var S=!1;else{h=Il,Il=null;var v=di,T=Ar;if(di=null,Ar=0,Ne&6)throw Error(s(331));var N=Ne;if(Ne|=4,Wu(v.current),Uu(v,v.current,T,h),Ne=N,_r(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Hn,v)}catch{}S=!0}return S}finally{ne.p=y,B.T=p,hf(l,c)}}return!1}function df(l,c,h){c=bt(h,c),c=xl(l.stateNode,c,2),l=Cn(l,c,2),l!==null&&(Gn(l,2),zt(l))}function Ae(l,c,h){if(l.tag===3)df(l,l,h);else for(;c!==null;){if(c.tag===3){df(c,l,h);break}else if(c.tag===1){var p=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Pn===null||!Pn.has(p))){l=bt(h,l),h=gu(2),p=Cn(c,h,2),p!==null&&(mu(h,p,c,l),Gn(p,2),zt(p));break}}c=c.return}}function na(l,c,h){var p=l.pingCache;if(p===null){p=l.pingCache=new ad;var y=new Set;p.set(c,y)}else y=p.get(c),y===void 0&&(y=new Set,p.set(c,y));y.has(h)||(Hl=!0,y.add(h),l=pd.bind(null,l,c,h),c.then(l,l))}function pd(l,c,h){var p=l.pingCache;p!==null&&p.delete(c),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,De===l&&(Qe&h)===h&&(Le===4||Le===3&&(Qe&62914560)===Qe&&300>ut()-Gl?!(Ne&2)&&qi(l,0):Ul|=h,Xi===Qe&&(Xi=0)),zt(l)}function pf(l,c){c===0&&(c=Gr()),l=yn(l,c),l!==null&&(Gn(l,c),zt(l))}function gd(l){var c=l.memoizedState,h=0;c!==null&&(h=c.retryLane),pf(l,h)}function md(l,c){var h=0;switch(l.tag){case 13:var p=l.stateNode,y=l.memoizedState;y!==null&&(h=y.retryLane);break;case 19:p=l.stateNode;break;case 22:p=l.stateNode._retryCache;break;default:throw Error(s(314))}p!==null&&p.delete(c),pf(l,h)}function Od(l,c){return Xt(l,c)}var Ys=null,Yi=null,ia=!1,Gs=!1,ra=!1,pi=0;function zt(l){l!==Yi&&l.next===null&&(Yi===null?Ys=Yi=l:Yi=Yi.next=l),Gs=!0,ia||(ia=!0,xd(yd))}function _r(l,c){if(!ra&&Gs){ra=!0;do for(var h=!1,p=Ys;p!==null;){if(l!==0){var y=p.pendingLanes;if(y===0)var S=0;else{var v=p.suspendedLanes,T=p.pingedLanes;S=(1<<31-ot(42|l)+1)-1,S&=y&~(v&~T),S=S&201326677?S&201326677|1:S?S|2:0}S!==0&&(h=!0,Of(p,S))}else S=Qe,S=Un(p,p===De?S:0),!(S&3)||Yn(p,S)||(h=!0,Of(p,S));p=p.next}while(h);ra=!1}}function yd(){Gs=ia=!1;var l=0;pi!==0&&(Qd()&&(l=pi),pi=0);for(var c=ut(),h=null,p=Ys;p!==null;){var y=p.next,S=gf(p,c);S===0?(p.next=null,h===null?Ys=y:h.next=y,y===null&&(Yi=h)):(h=p,(l!==0||S&3)&&(Gs=!0)),p=y}_r(l)}function gf(l,c){for(var h=l.suspendedLanes,p=l.pingedLanes,y=l.expirationTimes,S=l.pendingLanes&-62914561;0<S;){var v=31-ot(S),T=1<<v,N=y[v];N===-1?(!(T&h)||T&p)&&(y[v]=yo(T,c)):N<=c&&(l.expiredLanes|=T),S&=~T}if(c=De,h=Qe,h=Un(l,l===c?h:0),p=l.callbackNode,h===0||l===c&&_e===2||l.cancelPendingCommit!==null)return p!==null&&p!==null&&Ln(p),l.callbackNode=null,l.callbackPriority=0;if(!(h&3)||Yn(l,h)){if(c=h&-h,c===l.callbackPriority)return c;switch(p!==null&&Ln(p),Fr(h)){case 2:case 8:h=qn;break;case 32:h=gi;break;case 268435456:h=Ur;break;default:h=gi}return p=mf.bind(null,l),h=Xt(h,p),l.callbackPriority=c,l.callbackNode=h,c}return p!==null&&p!==null&&Ln(p),l.callbackPriority=2,l.callbackNode=null,2}function mf(l,c){var h=l.callbackNode;if(Ui()&&l.callbackNode!==h)return null;var p=Qe;return p=Un(l,l===De?p:0),p===0?null:(nf(l,p,c),gf(l,ut()),l.callbackNode!=null&&l.callbackNode===h?mf.bind(null,l):null)}function Of(l,c){if(Ui())return null;nf(l,c,!0)}function xd(l){$d(function(){Ne&6?Xt(fn,l):l()})}function sa(){return pi===0&&(pi=Yr()),pi}function yf(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:as(""+l)}function xf(l,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,l.id&&h.setAttribute("form",l.id),c.parentNode.insertBefore(h,c),l=new FormData(l),h.parentNode.removeChild(h),l}function Sd(l,c,h,p,y){if(c==="submit"&&h&&h.stateNode===y){var S=yf((y[it]||null).action),v=p.submitter;v&&(c=(c=v[it]||null)?yf(c.formAction):v.getAttribute("formAction"),c!==null&&(S=c,v=null));var T=new hs("action","action",null,p,y);l.push({event:T,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(pi!==0){var N=v?xf(y,v):new FormData(y);pl(h,{pending:!0,data:N,method:y.method,action:S},null,N)}}else typeof S=="function"&&(T.preventDefault(),N=v?xf(y,v):new FormData(y),pl(h,{pending:!0,data:N,method:y.method,action:S},S,N))},currentTarget:y}]})}}for(var oa=0;oa<uc.length;oa++){var la=uc[oa],bd=la.toLowerCase(),wd=la[0].toUpperCase()+la.slice(1);Pt(bd,"on"+wd)}Pt(rc,"onAnimationEnd"),Pt(sc,"onAnimationIteration"),Pt(oc,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(jh,"onTransitionRun"),Pt(Bh,"onTransitionStart"),Pt(Lh,"onTransitionCancel"),Pt(lc,"onTransitionEnd"),gn("onMouseEnter",["mouseout","mouseover"]),gn("onMouseLeave",["mouseout","mouseover"]),gn("onPointerEnter",["pointerout","pointerover"]),gn("onPointerLeave",["pointerout","pointerover"]),Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zr));function Sf(l,c){c=(c&4)!==0;for(var h=0;h<l.length;h++){var p=l[h],y=p.event;p=p.listeners;e:{var S=void 0;if(c)for(var v=p.length-1;0<=v;v--){var T=p[v],N=T.instance,Y=T.currentTarget;if(T=T.listener,N!==S&&y.isPropagationStopped())break e;S=T,y.currentTarget=Y;try{S(y)}catch(se){Ds(se)}y.currentTarget=null,S=N}else for(v=0;v<p.length;v++){if(T=p[v],N=T.instance,Y=T.currentTarget,T=T.listener,N!==S&&y.isPropagationStopped())break e;S=T,y.currentTarget=Y;try{S(y)}catch(se){Ds(se)}y.currentTarget=null,S=N}}}}function Ce(l,c){var h=c[yi];h===void 0&&(h=c[yi]=new Set);var p=l+"__bubble";h.has(p)||(bf(c,l,2,!1),h.add(p))}function aa(l,c,h){var p=0;c&&(p|=4),bf(h,l,p,c)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function ca(l){if(!l[Ws]){l[Ws]=!0,es.forEach(function(h){h!=="selectionchange"&&(vd.has(h)||aa(h,!1,l),aa(h,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[Ws]||(c[Ws]=!0,aa("selectionchange",!1,c))}}function bf(l,c,h,p){switch(qf(c)){case 2:var y=Wd;break;case 8:y=Id;break;default:y=wa}h=y.bind(null,c,h,l),y=void 0,!Mo||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(y=!0),p?y!==void 0?l.addEventListener(c,h,{capture:!0,passive:y}):l.addEventListener(c,h,!0):y!==void 0?l.addEventListener(c,h,{passive:y}):l.addEventListener(c,h,!1)}function ua(l,c,h,p,y){var S=p;if(!(c&1)&&!(c&2)&&p!==null)e:for(;;){if(p===null)return;var v=p.tag;if(v===3||v===4){var T=p.stateNode.containerInfo;if(T===y||T.nodeType===8&&T.parentNode===y)break;if(v===4)for(v=p.return;v!==null;){var N=v.tag;if((N===3||N===4)&&(N=v.stateNode.containerInfo,N===y||N.nodeType===8&&N.parentNode===y))return;v=v.return}for(;T!==null;){if(v=Ut(T),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){p=S=v;continue e}T=T.parentNode}}p=p.return}Aa(function(){var Y=S,se=$o(h),ae=[];e:{var K=ac.get(l);if(K!==void 0){var re=hs,me=l;switch(l){case"keypress":if(us(h)===0)break e;case"keydown":case"keyup":re=gh;break;case"focusin":me="focus",re=_o;break;case"focusout":me="blur",re=_o;break;case"beforeblur":case"afterblur":re=_o;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Na;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=yh;break;case rc:case sc:case oc:re=oh;break;case lc:re=Sh;break;case"scroll":case"scrollend":re=th;break;case"wheel":re=wh;break;case"copy":case"cut":case"paste":re=ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Ba;break;case"toggle":case"beforetoggle":re=Eh}var be=(c&4)!==0,Ve=!be&&(l==="scroll"||l==="scrollend"),G=be?K!==null?K+"Capture":null:K;be=[];for(var X=Y,F;X!==null;){var le=X;if(F=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||F===null||G===null||(le=tr(X,G),le!=null&&be.push(Nr(X,le,F))),Ve)break;X=X.return}0<be.length&&(K=new re(K,me,null,h,se),ae.push({event:K,listeners:be}))}}if(!(c&7)){e:{if(K=l==="mouseover"||l==="pointerover",re=l==="mouseout"||l==="pointerout",K&&h!==To&&(me=h.relatedTarget||h.fromElement)&&(Ut(me)||me[Ht]))break e;if((re||K)&&(K=se.window===se?se:(K=se.ownerDocument)?K.defaultView||K.parentWindow:window,re?(me=h.relatedTarget||h.toElement,re=Y,me=me?Ut(me):null,me!==null&&(Ve=L(me),be=me.tag,me!==Ve||be!==5&&be!==27&&be!==6)&&(me=null)):(re=null,me=Y),re!==me)){if(be=Na,le="onMouseLeave",G="onMouseEnter",X="mouse",(l==="pointerout"||l==="pointerover")&&(be=Ba,le="onPointerLeave",G="onPointerEnter",X="pointer"),Ve=re==null?K:dn(re),F=me==null?K:dn(me),K=new be(le,X+"leave",re,h,se),K.target=Ve,K.relatedTarget=F,le=null,Ut(se)===Y&&(be=new be(G,X+"enter",me,h,se),be.target=F,be.relatedTarget=Ve,le=be),Ve=le,re&&me)t:{for(be=re,G=me,X=0,F=be;F;F=Gi(F))X++;for(F=0,le=G;le;le=Gi(le))F++;for(;0<X-F;)be=Gi(be),X--;for(;0<F-X;)G=Gi(G),F--;for(;X--;){if(be===G||G!==null&&be===G.alternate)break t;be=Gi(be),G=Gi(G)}be=null}else be=null;re!==null&&wf(ae,K,re,be,!1),me!==null&&Ve!==null&&wf(ae,Ve,me,be,!0)}}e:{if(K=Y?dn(Y):window,re=K.nodeName&&K.nodeName.toLowerCase(),re==="select"||re==="input"&&K.type==="file")var de=Ya;else if(Ha(K))if(Ga)de=Dh;else{de=Ph;var Ee=Mh}else re=K.nodeName,!re||re.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&Qo(Y.elementType)&&(de=Ya):de=Ah;if(de&&(de=de(l,Y))){Ua(ae,de,h,se);break e}Ee&&Ee(l,K,Y),l==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&Co(K,"number",K.value)}switch(Ee=Y?dn(Y):window,l){case"focusin":(Ha(Ee)||Ee.contentEditable==="true")&&(Ci=Ee,Vo=Y,cr=null);break;case"focusout":cr=Vo=Ci=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,nc(ae,h,se);break;case"selectionchange":if(Nh)break;case"keydown":case"keyup":nc(ae,h,se)}var ye;if(No)e:{switch(l){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else ki?Xa(l,h)&&(xe="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(xe="onCompositionStart");xe&&(La&&h.locale!=="ko"&&(ki||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&ki&&(ye=Da()):(On=se,Po="value"in On?On.value:On.textContent,ki=!0)),Ee=Is(Y,xe),0<Ee.length&&(xe=new ja(xe,l,null,h,se),ae.push({event:xe,listeners:Ee}),ye?xe.data=ye:(ye=qa(h),ye!==null&&(xe.data=ye)))),(ye=Ch?Qh(l,h):Th(l,h))&&(xe=Is(Y,"onBeforeInput"),0<xe.length&&(Ee=new ja("onBeforeInput","beforeinput",null,h,se),ae.push({event:Ee,listeners:xe}),Ee.data=ye)),Sd(ae,l,Y,h,se)}Sf(ae,c)})}function Nr(l,c,h){return{instance:l,listener:c,currentTarget:h}}function Is(l,c){for(var h=c+"Capture",p=[];l!==null;){var y=l,S=y.stateNode;y=y.tag,y!==5&&y!==26&&y!==27||S===null||(y=tr(l,h),y!=null&&p.unshift(Nr(l,y,S)),y=tr(l,c),y!=null&&p.push(Nr(l,y,S))),l=l.return}return p}function Gi(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function wf(l,c,h,p,y){for(var S=c._reactName,v=[];h!==null&&h!==p;){var T=h,N=T.alternate,Y=T.stateNode;if(T=T.tag,N!==null&&N===p)break;T!==5&&T!==26&&T!==27||Y===null||(N=Y,y?(Y=tr(h,S),Y!=null&&v.unshift(Nr(h,Y,N))):y||(Y=tr(h,S),Y!=null&&v.push(Nr(h,Y,N)))),h=h.return}v.length!==0&&l.push({event:c,listeners:v})}var Ed=/\r\n?/g,kd=/\u0000|\uFFFD/g;function vf(l){return(typeof l=="string"?l:""+l).replace(Ed,`
`).replace(kd,"")}function Ef(l,c){return c=vf(c),vf(l)===c}function Fs(){}function Pe(l,c,h,p,y,S){switch(h){case"children":typeof p=="string"?c==="body"||c==="textarea"&&p===""||wi(l,p):(typeof p=="number"||typeof p=="bigint")&&c!=="body"&&wi(l,""+p);break;case"className":Si(l,"class",p);break;case"tabIndex":Si(l,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Si(l,h,p);break;case"style":Ma(l,p,S);break;case"data":if(c!=="object"){Si(l,"data",p);break}case"src":case"href":if(p===""&&(c!=="a"||h!=="href")){l.removeAttribute(h);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){l.removeAttribute(h);break}p=as(""+p),l.setAttribute(h,p);break;case"action":case"formAction":if(typeof p=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(c!=="input"&&Pe(l,c,"name",y.name,y,null),Pe(l,c,"formEncType",y.formEncType,y,null),Pe(l,c,"formMethod",y.formMethod,y,null),Pe(l,c,"formTarget",y.formTarget,y,null)):(Pe(l,c,"encType",y.encType,y,null),Pe(l,c,"method",y.method,y,null),Pe(l,c,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){l.removeAttribute(h);break}p=as(""+p),l.setAttribute(h,p);break;case"onClick":p!=null&&(l.onclick=Fs);break;case"onScroll":p!=null&&Ce("scroll",l);break;case"onScrollEnd":p!=null&&Ce("scrollend",l);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(h=p.__html,h!=null){if(y.children!=null)throw Error(s(60));l.innerHTML=h}}break;case"multiple":l.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":l.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){l.removeAttribute("xlink:href");break}h=as(""+p),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?l.setAttribute(h,""+p):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":p===!0?l.setAttribute(h,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?l.setAttribute(h,p):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?l.setAttribute(h,p):l.removeAttribute(h);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?l.removeAttribute(h):l.setAttribute(h,p);break;case"popover":Ce("beforetoggle",l),Ce("toggle",l),xi(l,"popover",p);break;case"xlinkActuate":Mt(l,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Mt(l,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Mt(l,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Mt(l,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Mt(l,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Mt(l,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Mt(l,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Mt(l,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Mt(l,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":xi(l,"is",p);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Jf.get(h)||h,xi(l,h,p))}}function fa(l,c,h,p,y,S){switch(h){case"style":Ma(l,p,S);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(s(61));if(h=p.__html,h!=null){if(y.children!=null)throw Error(s(60));l.innerHTML=h}}break;case"children":typeof p=="string"?wi(l,p):(typeof p=="number"||typeof p=="bigint")&&wi(l,""+p);break;case"onScroll":p!=null&&Ce("scroll",l);break;case"onScrollEnd":p!=null&&Ce("scrollend",l);break;case"onClick":p!=null&&(l.onclick=Fs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ts.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(y=h.endsWith("Capture"),c=h.slice(2,y?h.length-7:void 0),S=l[it]||null,S=S!=null?S[h]:null,typeof S=="function"&&l.removeEventListener(c,S,y),typeof p=="function")){typeof S!="function"&&S!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(c,p,y);break e}h in l?l[h]=p:p===!0?l.setAttribute(h,""):xi(l,h,p)}}}function nt(l,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",l),Ce("load",l);var p=!1,y=!1,S;for(S in h)if(h.hasOwnProperty(S)){var v=h[S];if(v!=null)switch(S){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,c));default:Pe(l,c,S,v,h,null)}}y&&Pe(l,c,"srcSet",h.srcSet,h,null),p&&Pe(l,c,"src",h.src,h,null);return;case"input":Ce("invalid",l);var T=S=v=y=null,N=null,Y=null;for(p in h)if(h.hasOwnProperty(p)){var se=h[p];if(se!=null)switch(p){case"name":y=se;break;case"type":v=se;break;case"checked":N=se;break;case"defaultChecked":Y=se;break;case"value":S=se;break;case"defaultValue":T=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,c));break;default:Pe(l,c,p,se,h,null)}}Qa(l,S,T,N,Y,v,y,!1),mn(l);return;case"select":Ce("invalid",l),p=v=S=null;for(y in h)if(h.hasOwnProperty(y)&&(T=h[y],T!=null))switch(y){case"value":S=T;break;case"defaultValue":v=T;break;case"multiple":p=T;default:Pe(l,c,y,T,h,null)}c=S,h=v,l.multiple=!!p,c!=null?bi(l,!!p,c,!1):h!=null&&bi(l,!!p,h,!0);return;case"textarea":Ce("invalid",l),S=y=p=null;for(v in h)if(h.hasOwnProperty(v)&&(T=h[v],T!=null))switch(v){case"value":p=T;break;case"defaultValue":y=T;break;case"children":S=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Pe(l,c,v,T,h,null)}$a(l,p,y,S),mn(l);return;case"option":for(N in h)if(h.hasOwnProperty(N)&&(p=h[N],p!=null))switch(N){case"selected":l.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Pe(l,c,N,p,h,null)}return;case"dialog":Ce("cancel",l),Ce("close",l);break;case"iframe":case"object":Ce("load",l);break;case"video":case"audio":for(p=0;p<Zr.length;p++)Ce(Zr[p],l);break;case"image":Ce("error",l),Ce("load",l);break;case"details":Ce("toggle",l);break;case"embed":case"source":case"link":Ce("error",l),Ce("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in h)if(h.hasOwnProperty(Y)&&(p=h[Y],p!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,c));default:Pe(l,c,Y,p,h,null)}return;default:if(Qo(c)){for(se in h)h.hasOwnProperty(se)&&(p=h[se],p!==void 0&&fa(l,c,se,p,h,void 0));return}}for(T in h)h.hasOwnProperty(T)&&(p=h[T],p!=null&&Pe(l,c,T,p,h,null))}function Cd(l,c,h,p){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,S=null,v=null,T=null,N=null,Y=null,se=null;for(re in h){var ae=h[re];if(h.hasOwnProperty(re)&&ae!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":N=ae;default:p.hasOwnProperty(re)||Pe(l,c,re,null,p,ae)}}for(var K in p){var re=p[K];if(ae=h[K],p.hasOwnProperty(K)&&(re!=null||ae!=null))switch(K){case"type":S=re;break;case"name":y=re;break;case"checked":Y=re;break;case"defaultChecked":se=re;break;case"value":v=re;break;case"defaultValue":T=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,c));break;default:re!==ae&&Pe(l,c,K,re,p,ae)}}ko(l,v,T,N,Y,se,S,y);return;case"select":re=v=T=K=null;for(S in h)if(N=h[S],h.hasOwnProperty(S)&&N!=null)switch(S){case"value":break;case"multiple":re=N;default:p.hasOwnProperty(S)||Pe(l,c,S,null,p,N)}for(y in p)if(S=p[y],N=h[y],p.hasOwnProperty(y)&&(S!=null||N!=null))switch(y){case"value":K=S;break;case"defaultValue":T=S;break;case"multiple":v=S;default:S!==N&&Pe(l,c,y,S,p,N)}c=T,h=v,p=re,K!=null?bi(l,!!h,K,!1):!!p!=!!h&&(c!=null?bi(l,!!h,c,!0):bi(l,!!h,h?[]:"",!1));return;case"textarea":re=K=null;for(T in h)if(y=h[T],h.hasOwnProperty(T)&&y!=null&&!p.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Pe(l,c,T,null,p,y)}for(v in p)if(y=p[v],S=h[v],p.hasOwnProperty(v)&&(y!=null||S!=null))switch(v){case"value":K=y;break;case"defaultValue":re=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:y!==S&&Pe(l,c,v,y,p,S)}Ta(l,K,re);return;case"option":for(var me in h)if(K=h[me],h.hasOwnProperty(me)&&K!=null&&!p.hasOwnProperty(me))switch(me){case"selected":l.selected=!1;break;default:Pe(l,c,me,null,p,K)}for(N in p)if(K=p[N],re=h[N],p.hasOwnProperty(N)&&K!==re&&(K!=null||re!=null))switch(N){case"selected":l.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Pe(l,c,N,K,p,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in h)K=h[be],h.hasOwnProperty(be)&&K!=null&&!p.hasOwnProperty(be)&&Pe(l,c,be,null,p,K);for(Y in p)if(K=p[Y],re=h[Y],p.hasOwnProperty(Y)&&K!==re&&(K!=null||re!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,c));break;default:Pe(l,c,Y,K,p,re)}return;default:if(Qo(c)){for(var Ve in h)K=h[Ve],h.hasOwnProperty(Ve)&&K!==void 0&&!p.hasOwnProperty(Ve)&&fa(l,c,Ve,void 0,p,K);for(se in p)K=p[se],re=h[se],!p.hasOwnProperty(se)||K===re||K===void 0&&re===void 0||fa(l,c,se,K,p,re);return}}for(var G in h)K=h[G],h.hasOwnProperty(G)&&K!=null&&!p.hasOwnProperty(G)&&Pe(l,c,G,null,p,K);for(ae in p)K=p[ae],re=h[ae],!p.hasOwnProperty(ae)||K===re||K==null&&re==null||Pe(l,c,ae,K,p,re)}var ha=null,da=null;function Ks(l){return l.nodeType===9?l:l.ownerDocument}function kf(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cf(l,c){if(l===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&c==="foreignObject"?0:l}function pa(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var ga=null;function Qd(){var l=window.event;return l&&l.type==="popstate"?l===ga?!1:(ga=l,!0):(ga=null,!1)}var Qf=typeof setTimeout=="function"?setTimeout:void 0,Td=typeof clearTimeout=="function"?clearTimeout:void 0,Tf=typeof Promise=="function"?Promise:void 0,$d=typeof queueMicrotask=="function"?queueMicrotask:typeof Tf<"u"?function(l){return Tf.resolve(null).then(l).catch(Rd)}:Qf;function Rd(l){setTimeout(function(){throw l})}function ma(l,c){var h=c,p=0;do{var y=h.nextSibling;if(l.removeChild(h),y&&y.nodeType===8)if(h=y.data,h==="/$"){if(p===0){l.removeChild(y),Hr(c);return}p--}else h!=="$"&&h!=="$?"&&h!=="$!"||p++;h=y}while(h);Hr(c)}function Oa(l){var c=l.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Oa(h),er(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function Md(l,c,h,p){for(;l.nodeType===1;){var y=h;if(l.nodeName.toLowerCase()!==c.toLowerCase()){if(!p&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(p){if(!l[Wn])switch(c){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(S=l.getAttribute("rel"),S==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(S!==y.rel||l.getAttribute("href")!==(y.href==null?null:y.href)||l.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||l.getAttribute("title")!==(y.title==null?null:y.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(S=l.getAttribute("src"),(S!==(y.src==null?null:y.src)||l.getAttribute("type")!==(y.type==null?null:y.type)||l.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&S&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(c==="input"&&l.type==="hidden"){var S=y.name==null?null:""+y.name;if(y.type==="hidden"&&l.getAttribute("name")===S)return l}else return l;if(l=_t(l.nextSibling),l===null)break}return null}function Pd(l,c,h){if(c==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=_t(l.nextSibling),l===null))return null;return l}function _t(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return l}function $f(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return l;c--}else h==="/$"&&c++}l=l.previousSibling}return null}function Rf(l,c,h){switch(c=Ks(h),l){case"html":if(l=c.documentElement,!l)throw Error(s(452));return l;case"head":if(l=c.head,!l)throw Error(s(453));return l;case"body":if(l=c.body,!l)throw Error(s(454));return l;default:throw Error(s(451))}}var $t=new Map,Mf=new Set;function Js(l){return typeof l.getRootNode=="function"?l.getRootNode():l.ownerDocument}var cn=ne.d;ne.d={f:Ad,r:Dd,D:_d,C:Zd,L:Nd,m:jd,X:Ld,S:Bd,M:Vd};function Ad(){var l=cn.f(),c=Hs();return l||c}function Dd(l){var c=hn(l);c!==null&&c.tag===5&&c.type==="form"?iu(c):cn.r(l)}var Wi=typeof document>"u"?null:document;function Pf(l,c,h){var p=Wi;if(p&&typeof c=="string"&&c){var y=xt(c);y='link[rel="'+l+'"][href="'+y+'"]',typeof h=="string"&&(y+='[crossorigin="'+h+'"]'),Mf.has(y)||(Mf.add(y),l={rel:l,crossOrigin:h,href:c},p.querySelector(y)===null&&(c=p.createElement("link"),nt(c,"link",l),Xe(c),p.head.appendChild(c)))}}function _d(l){cn.D(l),Pf("dns-prefetch",l,null)}function Zd(l,c){cn.C(l,c),Pf("preconnect",l,c)}function Nd(l,c,h){cn.L(l,c,h);var p=Wi;if(p&&l&&c){var y='link[rel="preload"][as="'+xt(c)+'"]';c==="image"&&h&&h.imageSrcSet?(y+='[imagesrcset="'+xt(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(y+='[imagesizes="'+xt(h.imageSizes)+'"]')):y+='[href="'+xt(l)+'"]';var S=y;switch(c){case"style":S=Ii(l);break;case"script":S=Fi(l)}$t.has(S)||(l=H({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:l,as:c},h),$t.set(S,l),p.querySelector(y)!==null||c==="style"&&p.querySelector(jr(S))||c==="script"&&p.querySelector(Br(S))||(c=p.createElement("link"),nt(c,"link",l),Xe(c),p.head.appendChild(c)))}}function jd(l,c){cn.m(l,c);var h=Wi;if(h&&l){var p=c&&typeof c.as=="string"?c.as:"script",y='link[rel="modulepreload"][as="'+xt(p)+'"][href="'+xt(l)+'"]',S=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Fi(l)}if(!$t.has(S)&&(l=H({rel:"modulepreload",href:l},c),$t.set(S,l),h.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Br(S)))return}p=h.createElement("link"),nt(p,"link",l),Xe(p),h.head.appendChild(p)}}}function Bd(l,c,h){cn.S(l,c,h);var p=Wi;if(p&&l){var y=pn(p).hoistableStyles,S=Ii(l);c=c||"default";var v=y.get(S);if(!v){var T={loading:0,preload:null};if(v=p.querySelector(jr(S)))T.loading=5;else{l=H({rel:"stylesheet",href:l,"data-precedence":c},h),(h=$t.get(S))&&ya(l,h);var N=v=p.createElement("link");Xe(N),nt(N,"link",l),N._p=new Promise(function(Y,se){N.onload=Y,N.onerror=se}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,eo(v,c,p)}v={type:"stylesheet",instance:v,count:1,state:T},y.set(S,v)}}}function Ld(l,c){cn.X(l,c);var h=Wi;if(h&&l){var p=pn(h).hoistableScripts,y=Fi(l),S=p.get(y);S||(S=h.querySelector(Br(y)),S||(l=H({src:l,async:!0},c),(c=$t.get(y))&&xa(l,c),S=h.createElement("script"),Xe(S),nt(S,"link",l),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(y,S))}}function Vd(l,c){cn.M(l,c);var h=Wi;if(h&&l){var p=pn(h).hoistableScripts,y=Fi(l),S=p.get(y);S||(S=h.querySelector(Br(y)),S||(l=H({src:l,async:!0,type:"module"},c),(c=$t.get(y))&&xa(l,c),S=h.createElement("script"),Xe(S),nt(S,"link",l),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},p.set(y,S))}}function Af(l,c,h,p){var y=(y=we.current)?Js(y):null;if(!y)throw Error(s(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Ii(h.href),h=pn(y).hoistableStyles,p=h.get(c),p||(p={type:"style",instance:null,count:0,state:null},h.set(c,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=Ii(h.href);var S=pn(y).hoistableStyles,v=S.get(l);if(v||(y=y.ownerDocument||y,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(l,v),(S=y.querySelector(jr(l)))&&!S._p&&(v.instance=S,v.state.loading=5),$t.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},$t.set(l,h),S||zd(y,l,h,v.state))),c&&p===null)throw Error(s(528,""));return v}if(c&&p!==null)throw Error(s(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Fi(h),h=pn(y).hoistableScripts,p=h.get(c),p||(p={type:"script",instance:null,count:0,state:null},h.set(c,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,l))}}function Ii(l){return'href="'+xt(l)+'"'}function jr(l){return'link[rel="stylesheet"]['+l+"]"}function Df(l){return H({},l,{"data-precedence":l.precedence,precedence:null})}function zd(l,c,h,p){l.querySelector('link[rel="preload"][as="style"]['+c+"]")?p.loading=1:(c=l.createElement("link"),p.preload=c,c.addEventListener("load",function(){return p.loading|=1}),c.addEventListener("error",function(){return p.loading|=2}),nt(c,"link",h),Xe(c),l.head.appendChild(c))}function Fi(l){return'[src="'+xt(l)+'"]'}function Br(l){return"script[async]"+l}function _f(l,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var p=l.querySelector('style[data-href~="'+xt(h.href)+'"]');if(p)return c.instance=p,Xe(p),p;var y=H({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return p=(l.ownerDocument||l).createElement("style"),Xe(p),nt(p,"style",y),eo(p,h.precedence,l),c.instance=p;case"stylesheet":y=Ii(h.href);var S=l.querySelector(jr(y));if(S)return c.state.loading|=4,c.instance=S,Xe(S),S;p=Df(h),(y=$t.get(y))&&ya(p,y),S=(l.ownerDocument||l).createElement("link"),Xe(S);var v=S;return v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),nt(S,"link",p),c.state.loading|=4,eo(S,h.precedence,l),c.instance=S;case"script":return S=Fi(h.src),(y=l.querySelector(Br(S)))?(c.instance=y,Xe(y),y):(p=h,(y=$t.get(S))&&(p=H({},h),xa(p,y)),l=l.ownerDocument||l,y=l.createElement("script"),Xe(y),nt(y,"link",p),l.head.appendChild(y),c.instance=y);case"void":return null;default:throw Error(s(443,c.type))}else c.type==="stylesheet"&&!(c.state.loading&4)&&(p=c.instance,c.state.loading|=4,eo(p,h.precedence,l));return c.instance}function eo(l,c,h){for(var p=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,S=y,v=0;v<p.length;v++){var T=p[v];if(T.dataset.precedence===c)S=T;else if(S!==y)break}S?S.parentNode.insertBefore(l,S.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(l,c.firstChild))}function ya(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.title==null&&(l.title=c.title)}function xa(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.integrity==null&&(l.integrity=c.integrity)}var to=null;function Zf(l,c,h){if(to===null){var p=new Map,y=to=new Map;y.set(h,p)}else y=to,p=y.get(h),p||(p=new Map,y.set(h,p));if(p.has(l))return p;for(p.set(l,null),h=h.getElementsByTagName(l),y=0;y<h.length;y++){var S=h[y];if(!(S[Wn]||S[Ie]||l==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var v=S.getAttribute(c)||"";v=l+v;var T=p.get(v);T?T.push(S):p.set(v,[S])}}return p}function Nf(l,c,h){l=l.ownerDocument||l,l.head.insertBefore(h,c==="title"?l.querySelector("head > title"):null)}function Xd(l,c,h){if(h===1||c.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return l=c.disabled,typeof c.precedence=="string"&&l==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function jf(l){return!(l.type==="stylesheet"&&!(l.state.loading&3))}var Lr=null;function qd(){}function Hd(l,c,h){if(Lr===null)throw Error(s(475));var p=Lr;if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&!(c.state.loading&4)){if(c.instance===null){var y=Ii(h.href),S=l.querySelector(jr(y));if(S){l=S._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(p.count++,p=no.bind(p),l.then(p,p)),c.state.loading|=4,c.instance=S,Xe(S);return}S=l.ownerDocument||l,h=Df(h),(y=$t.get(y))&&ya(h,y),S=S.createElement("link"),Xe(S);var v=S;v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),nt(S,"link",h),c.instance=S}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(c,l),(l=c.state.preload)&&!(c.state.loading&3)&&(p.count++,c=no.bind(p),l.addEventListener("load",c),l.addEventListener("error",c))}}function Ud(){if(Lr===null)throw Error(s(475));var l=Lr;return l.stylesheets&&l.count===0&&Sa(l,l.stylesheets),0<l.count?function(c){var h=setTimeout(function(){if(l.stylesheets&&Sa(l,l.stylesheets),l.unsuspend){var p=l.unsuspend;l.unsuspend=null,p()}},6e4);return l.unsuspend=c,function(){l.unsuspend=null,clearTimeout(h)}}:null}function no(){if(this.count--,this.count===0){if(this.stylesheets)Sa(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var io=null;function Sa(l,c){l.stylesheets=null,l.unsuspend!==null&&(l.count++,io=new Map,c.forEach(Yd,l),io=null,no.call(l))}function Yd(l,c){if(!(c.state.loading&4)){var h=io.get(l);if(h)var p=h.get(null);else{h=new Map,io.set(l,h);for(var y=l.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<y.length;S++){var v=y[S];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(h.set(v.dataset.precedence,v),p=v)}p&&h.set(null,p)}y=c.instance,v=y.getAttribute("data-precedence"),S=h.get(v)||p,S===p&&h.set(null,y),h.set(v,y),this.count++,p=no.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),S?S.parentNode.insertBefore(y,S.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(y,l.firstChild)),c.state.loading|=4}}var Vr={$$typeof:b,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Gd(l,c,h,p,y,S,v,T){this.tag=1,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.hiddenUpdates=Ji(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=S,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Bf(l,c,h,p,y,S,v,T,N,Y,se,ae){return l=new Gd(l,c,h,v,T,N,Y,ae),c=1,S===!0&&(c|=24),S=Qt(3,null,null,c),l.current=S,S.stateNode=l,c=Ko(),c.refCount++,l.pooledCache=c,c.refCount++,S.memoizedState={element:p,isDehydrated:h,cache:c},Pl(S),l}function Lf(l){return l?(l=$i,l):$i}function Vf(l,c,h,p,y,S){y=Lf(y),p.context===null?p.context=y:p.pendingContext=y,p=kn(c),p.payload={element:h},S=S===void 0?null:S,S!==null&&(p.callback=S),h=Cn(l,p,c),h!==null&&(ct(h,l,c),Er(h,l,c))}function zf(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<c?h:c}}function ba(l,c){zf(l,c),(l=l.alternate)&&zf(l,c)}function Xf(l){if(l.tag===13){var c=yn(l,67108864);c!==null&&ct(c,l,67108864),ba(l,67108864)}}var ro=!0;function Wd(l,c,h,p){var y=B.T;B.T=null;var S=ne.p;try{ne.p=2,wa(l,c,h,p)}finally{ne.p=S,B.T=y}}function Id(l,c,h,p){var y=B.T;B.T=null;var S=ne.p;try{ne.p=8,wa(l,c,h,p)}finally{ne.p=S,B.T=y}}function wa(l,c,h,p){if(ro){var y=va(p);if(y===null)ua(l,c,p,so,h),Hf(l,p);else if(Kd(y,l,c,h,p))p.stopPropagation();else if(Hf(l,p),c&4&&-1<Fd.indexOf(l)){for(;y!==null;){var S=hn(y);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var v=qt(S.pendingLanes);if(v!==0){var T=S;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var N=1<<31-ot(v);T.entanglements[1]|=N,v&=~N}zt(S),!(Ne&6)&&(zs=ut()+500,_r(0))}}break;case 13:T=yn(S,2),T!==null&&ct(T,S,2),Hs(),ba(S,2)}if(S=va(p),S===null&&ua(l,c,p,so,h),S===y)break;y=S}y!==null&&p.stopPropagation()}else ua(l,c,p,null,h)}}function va(l){return l=$o(l),Ea(l)}var so=null;function Ea(l){if(so=null,l=Ut(l),l!==null){var c=L(l);if(c===null)l=null;else{var h=c.tag;if(h===13){if(l=z(c),l!==null)return l;l=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null)}}return so=l,null}function qf(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xn()){case fn:return 2;case qn:return 8;case gi:case Ki:return 32;case Ur:return 268435456;default:return 32}default:return 32}}var ka=!1,An=null,Dn=null,_n=null,zr=new Map,Xr=new Map,Zn=[],Fd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hf(l,c){switch(l){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":zr.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xr.delete(c.pointerId)}}function qr(l,c,h,p,y,S){return l===null||l.nativeEvent!==S?(l={blockedOn:c,domEventName:h,eventSystemFlags:p,nativeEvent:S,targetContainers:[y]},c!==null&&(c=hn(c),c!==null&&Xf(c)),l):(l.eventSystemFlags|=p,c=l.targetContainers,y!==null&&c.indexOf(y)===-1&&c.push(y),l)}function Kd(l,c,h,p,y){switch(c){case"focusin":return An=qr(An,l,c,h,p,y),!0;case"dragenter":return Dn=qr(Dn,l,c,h,p,y),!0;case"mouseover":return _n=qr(_n,l,c,h,p,y),!0;case"pointerover":var S=y.pointerId;return zr.set(S,qr(zr.get(S)||null,l,c,h,p,y)),!0;case"gotpointercapture":return S=y.pointerId,Xr.set(S,qr(Xr.get(S)||null,l,c,h,p,y)),!0}return!1}function Uf(l){var c=Ut(l.target);if(c!==null){var h=L(c);if(h!==null){if(c=h.tag,c===13){if(c=z(h),c!==null){l.blockedOn=c,So(l.priority,function(){if(h.tag===13){var p=yt(),y=yn(h,p);y!==null&&ct(y,h,p),ba(h,p)}});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function oo(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var h=va(l.nativeEvent);if(h===null){h=l.nativeEvent;var p=new h.constructor(h.type,h);To=p,h.target.dispatchEvent(p),To=null}else return c=hn(h),c!==null&&Xf(c),l.blockedOn=h,!1;c.shift()}return!0}function Yf(l,c,h){oo(l)&&h.delete(c)}function Jd(){ka=!1,An!==null&&oo(An)&&(An=null),Dn!==null&&oo(Dn)&&(Dn=null),_n!==null&&oo(_n)&&(_n=null),zr.forEach(Yf),Xr.forEach(Yf)}function lo(l,c){l.blockedOn===c&&(l.blockedOn=null,ka||(ka=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Jd)))}var ao=null;function Gf(l){ao!==l&&(ao=l,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ao===l&&(ao=null);for(var c=0;c<l.length;c+=3){var h=l[c],p=l[c+1],y=l[c+2];if(typeof p!="function"){if(Ea(p||h)===null)continue;break}var S=hn(h);S!==null&&(l.splice(c,3),c-=3,pl(S,{pending:!0,data:y,method:h.method,action:p},p,y))}}))}function Hr(l){function c(N){return lo(N,l)}An!==null&&lo(An,l),Dn!==null&&lo(Dn,l),_n!==null&&lo(_n,l),zr.forEach(c),Xr.forEach(c);for(var h=0;h<Zn.length;h++){var p=Zn[h];p.blockedOn===l&&(p.blockedOn=null)}for(;0<Zn.length&&(h=Zn[0],h.blockedOn===null);)Uf(h),h.blockedOn===null&&Zn.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(p=0;p<h.length;p+=3){var y=h[p],S=h[p+1],v=y[it]||null;if(typeof S=="function")v||Gf(h);else if(v){var T=null;if(S&&S.hasAttribute("formAction")){if(y=S,v=S[it]||null)T=v.formAction;else if(Ea(y)!==null)continue}else T=v.action;typeof T=="function"?h[p+1]=T:(h.splice(p,3),p-=3),Gf(h)}}}function Ca(l){this._internalRoot=l}co.prototype.render=Ca.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(s(409));var h=c.current,p=yt();Vf(h,p,l,c,null,null)},co.prototype.unmount=Ca.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;l.tag===0&&Ui(),Vf(l.current,2,null,l,null,null),Hs(),c[Ht]=null}};function co(l){this._internalRoot=l}co.prototype.unstable_scheduleHydration=function(l){if(l){var c=Kr();l={blockedOn:null,target:l,priority:c};for(var h=0;h<Zn.length&&c!==0&&c<Zn[h].priority;h++);Zn.splice(h,0,l),h===0&&Uf(l)}};var Wf=e.version;if(Wf!=="19.0.0")throw Error(s(527,Wf,"19.0.0"));ne.findDOMNode=function(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return l=U(c),l=l!==null?te(l):null,l=l===null?null:l.stateNode,l};var ep={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:B,findFiberByHostInstance:Ut,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uo.isDisabled&&uo.supportsFiber)try{Hn=uo.inject(ep),st=uo}catch{}}return reactDomClient_production.createRoot=function(l,c){if(!o(l))throw Error(s(299));var h=!1,p="",y=fu,S=hu,v=du,T=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(v=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(T=c.unstable_transitionCallbacks)),c=Bf(l,1,!1,null,null,h,p,y,S,v,T,null),l[Ht]=c.current,ca(l.nodeType===8?l.parentNode:l),new Ca(c)},reactDomClient_production.hydrateRoot=function(l,c,h){if(!o(l))throw Error(s(299));var p=!1,y="",S=fu,v=hu,T=du,N=null,Y=null;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(v=h.onCaughtError),h.onRecoverableError!==void 0&&(T=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(N=h.unstable_transitionCallbacks),h.formState!==void 0&&(Y=h.formState)),c=Bf(l,1,!0,c,h??null,p,y,S,v,T,N,Y),c.context=Lf(null),h=c.current,p=yt(),y=kn(p),y.callback=null,Cn(h,y,p),c.current.lanes=p,Gn(c,p),zt(c),l[Ht]=c.current,ca(l),new co(c)},reactDomClient_production.version="19.0.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();function Container({children:r}){const e=reactExports.useRef(null),[n,s]=reactExports.useState(0),[o,a]=reactExports.useState(0);return reactExports.useEffect(()=>{if(!e.current)return;const u=new ResizeObserver(([f])=>{s(f.contentRect.width),a(f.contentRect.height)});return u.observe(e.current),()=>u.disconnect()},[]),jsxRuntimeExports.jsx("div",{ref:e,className:"size-full",children:!n||!o?jsxRuntimeExports.jsx("div",{children:"Loading ..."}):r(n,o)})}var reactDomExports=requireReactDom();const DIALOG_FORM_NAME="dialogForm",Dialog=reactExports.forwardRef((r,e)=>{const{cancel:n,onSubmit:s,submit:o,onCancel:a,children:u,title:f}=r,[d,g]=reactExports.useState(null),m=reactExports.useRef(null);reactExports.useImperativeHandle(e,()=>m.current);const O=b=>{var k;b.preventDefault();const w=document.forms.namedItem(DIALOG_FORM_NAME),E=new FormData(w);try{s(E)}catch(Q){const A=Q;console.error(Q),g(`${A.name} - ${A.message}`);return}g(null),(k=m.current)==null||k.close()},x=()=>{var b;a==null||a(),(b=m.current)==null||b.close()};return reactDomExports.createPortal(jsxRuntimeExports.jsx("dialog",{ref:m,className:"m-auto p-6 rounded-lg border-2 border-t-color5 shadow-2xl backdrop:bg-black/50 backdrop:backdrop-blur-md w-fit max-w-[900px]",children:jsxRuntimeExports.jsx("form",{id:DIALOG_FORM_NAME,method:"dialog",onSubmit:O,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-xl text-center",children:f}),jsxRuntimeExports.jsx("hr",{}),u,d?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsx("p",{className:"text-red-700",children:d})]}):null,jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2 justify-end",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>x(),className:"inverse",children:n??"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",children:o??"Apply"})]})]})})}),document.body)}),sumCalc=(r,e,n)=>{const s=e+n;if(!(s%5)){const o={reason:`${s} is divisible by 5 ((${e} + ${n}) % 5 = ${s/5}) => halt`,result:s},a=JSON.stringify(o);throw new Error(a)}return s},sumStepCalc=(r,e)=>{const n=e+r;if(n>=1e3){const s={reason:`${n} reached 1000 ((${e} + ${r}) >= 1000)`,result:n},o=JSON.stringify(s);throw new Error(o)}return n},subCalc=(r,e,n)=>{const s=e-n;if(!(s%4)){const o={reason:`${s} is divisible by 4 ((${e} - ${n}) % 4 = ${s/4})`,result:s},a=JSON.stringify(o);throw new Error(a)}return s},evenCalc=(r,e,n)=>{const s=e+n;if(!(s%2)){const o={reason:`${s} is even ((${e} + ${n}) % 2 = ${s%2})`,result:s},a=JSON.stringify(o);throw new Error(a)}return s},oddCalc=(r,e,n)=>{const s=e+n;if(s%2){const o={reason:`${s} is odd ((${e} + ${n}) % 2 = ${s%2})`,result:s},a=JSON.stringify(o);throw new Error(a)}return s},CALCULATIONS={sum:{name:"Sum value",description:"Sum current and next values, halt if divisible by 5",tip:"Start with a small input number and wait until the counter reaches a number divisible by 5",fn:sumCalc},sumStep:{name:"Step sum",description:"Increment by the current step counter, halt when reaching 1000",fn:sumStepCalc},sub:{name:"Subtract value",description:"Subtract the next value from the current value, halt if divisible by 4",tip:"Start with a bigger number and wait until the counter descends to a number divisible by 4",fn:subCalc},even:{name:"Halt when even",description:"Sum values, halt when the result is even",fn:evenCalc},odd:{name:"Halt when odd",description:"Sum values, halt when the result is odd",fn:oddCalc}},createStoreImpl$1=r=>{let e;const n=new Set,s=(g,m)=>{const O=typeof g=="function"?g(e):g;if(!Object.is(O,e)){const x=e;e=m??(typeof O!="object"||O===null)?O:Object.assign({},e,O),n.forEach(b=>b(e,x))}},o=()=>e,f={setState:s,getState:o,getInitialState:()=>d,subscribe:g=>(n.add(g),()=>n.delete(g))},d=e=r(s,o,f);return f},createStore$2=r=>r?createStoreImpl$1(r):createStoreImpl$1,identity$3=r=>r;function useStore$1(r,e=identity$3){const n=ReactExports.useSyncExternalStore(r.subscribe,()=>e(r.getState()),()=>e(r.getInitialState()));return ReactExports.useDebugValue(n),n}const createImpl=r=>{const e=createStore$2(r),n=s=>useStore$1(e,s);return Object.assign(n,e),n},create$1=r=>createImpl,DEFAULT_CALCULATION="even",DEFAULT_LOGS=[],DEFAULT_POSITION=-1,DEFAULT_STEP_MS=300,DEFAULT_TAPE=Array(10).fill(0).map(()=>[0,0,8,1,2,3]).flat(),DEFAULT_VALUE=1,useVirtualStore=create$1()(r=>({stepMs:DEFAULT_STEP_MS,isRunning:!1,setStepMs:e=>r(()=>({stepMs:e})),setIsRunning:e=>r(()=>({isRunning:e})),addCalculation:e=>r(n=>{const s=`fn${Math.round(Math.random()*1e10)}`;return console.log("Adding calculation",e),{calculations:{...n.calculations,[s]:e},calculation:s}}),calculations:CALCULATIONS,calculation:DEFAULT_CALCULATION,currentProcess:"halt",initialInputValue:DEFAULT_VALUE,currentValue:DEFAULT_VALUE,setInitialInputValue:e=>r(()=>({initialInputValue:e})),calculate:async()=>{let e=null;return r(n=>{if(n.currentProcess!=="calc")return{};if(n.position>=n.tape.length)return e=new Error("Tape finished"),{currentProcess:"halt",isRunning:!1};const s=n.position,o=n.currentValue,a=n.tape[n.position],u=n.calculation,f="",d=`${u}(${s}, ${o}, ${a})`;let g="",m=o;try{m=executeCalculation(CALCULATIONS[n.calculation].fn,s,o,a)}catch(O){const x=O;e=x;const b=JSON.parse(x.message);return g=`${f} ${d} -> ${b.result} (Halted, reason: ${b.reason})`,{currentProcess:"halt",currentValue:b.result,isRunning:!1,logs:[...n.logs,g]}}return g=`${f} ${d} -> ${m}`,{currentValue:m,logs:[...n.logs,g]}}),e},reset:()=>r(e=>({currentProcess:"halt",currentValue:e.initialInputValue,logs:[],position:DEFAULT_POSITION})),setCalculation:e=>r(()=>({calculation:e})),setCurrentProcess:e=>r(()=>({currentProcess:e})),halted:!1,position:DEFAULT_POSITION,tape:DEFAULT_TAPE,tapeString:DEFAULT_TAPE.join(" "),setTape:e=>r(()=>({tape:e})),setTapeString:e=>r(()=>({tape:e.split(" ").map(Number),tapeString:e})),forward:(e=1)=>r(n=>({position:Math.min(n.position+e,n.tape.length)})),back:(e=1)=>r(n=>({position:Math.min(n.position-e,n.tape.length)})),logs:DEFAULT_LOGS,addLog:e=>r(n=>({logs:[...n.logs,e]}))}));function executeCalculation(calculation,currentPosition,currentValue,nextValue){if(typeof calculation=="string"){const params=[currentPosition,currentValue,nextValue];return eval(`(${calculation})(${params.join(",")})`)}return calculation(currentPosition,currentValue,nextValue)}function getState(){return useVirtualStore.getState()}function logState(...r){console.log("VirtualAction performed => Params:",r,"State: ",getState())}const VirtualAction={stop:()=>{console.info("Stopping Virtual machine..."),getState().setIsRunning(!1),logState("Stopped Virtual machine...")},back:(r=1)=>{console.log(`Advance tape back by ${r}`),getState().back()},forward:(r=1)=>{console.log(`Advance tape forward by ${r}`),getState().forward(2)}},TurningState={isRunning:()=>getState().isRunning};function FormInput({className:r,defaultValue:e,info:n,label:s="Input",name:o,placeholderValue:a,type:u="text",value:f}){return jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-10 grid-rows-1",children:[jsxRuntimeExports.jsxs("label",{className:"col-span-2",htmlFor:o,children:[s,":"]}),jsxRuntimeExports.jsxs("div",{className:"col-span-8 flex flex-col items-center",children:[u==="textarea"?jsxRuntimeExports.jsx("textarea",{className:`w-full resize-none ${r}`,defaultValue:e,name:o,placeholder:a,rows:10,onChange:()=>{},value:f}):jsxRuntimeExports.jsx("input",{className:`w-full ${r}`,type:"text",defaultValue:e,name:o,value:f,onChange:()=>{},placeholder:a}),jsxRuntimeExports.jsx("p",{className:"text-slate-400 w-full whitespace-pre",children:n})]})]})}function ListItem({title:r,children:e}){return jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("code",{children:r}),":"," ",e]})}function _extends(){return _extends=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},_extends.apply(null,arguments)}function _objectWithoutPropertiesLoose(r,e){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)!==-1)continue;n[s]=r[s]}return n}let rangeFrom=[],rangeTo=[];(()=>{let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<r.length;e++)(e%2?rangeTo:rangeFrom).push(n=n+r[e])})();function isExtendingChar(r){if(r<768)return!1;for(let e=0,n=rangeFrom.length;;){let s=e+n>>1;if(r<rangeFrom[s])n=s;else if(r>=rangeTo[s])e=s+1;else return!0;if(e==n)return!1}}function isRegionalIndicator(r){return r>=127462&&r<=127487}const ZWJ=8205;function findClusterBreak$1(r,e,n=!0,s=!0){return(n?nextClusterBreak:prevClusterBreak)(r,e,s)}function nextClusterBreak(r,e,n){if(e==r.length)return e;e&&surrogateLow$1(r.charCodeAt(e))&&surrogateHigh$1(r.charCodeAt(e-1))&&e--;let s=codePointAt$1(r,e);for(e+=codePointSize$1(s);e<r.length;){let o=codePointAt$1(r,e);if(s==ZWJ||o==ZWJ||n&&isExtendingChar(o))e+=codePointSize$1(o),s=o;else if(isRegionalIndicator(o)){let a=0,u=e-2;for(;u>=0&&isRegionalIndicator(codePointAt$1(r,u));)a++,u-=2;if(a%2==0)break;e+=2}else break}return e}function prevClusterBreak(r,e,n){for(;e>0;){let s=nextClusterBreak(r,e-2,n);if(s<e)return s;e--}return 0}function codePointAt$1(r,e){let n=r.charCodeAt(e);if(!surrogateHigh$1(n)||e+1==r.length)return n;let s=r.charCodeAt(e+1);return surrogateLow$1(s)?(n-55296<<10)+(s-56320)+65536:n}function surrogateLow$1(r){return r>=56320&&r<57344}function surrogateHigh$1(r){return r>=55296&&r<56320}function codePointSize$1(r){return r<65536?1:2}class Text{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,s){[e,n]=clip(this,e,n);let o=[];return this.decompose(0,e,o,2),s.length&&s.decompose(0,s.length,o,3),this.decompose(n,this.length,o,1),TextNode.from(o,this.length-(n-e)+s.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=clip(this,e,n);let s=[];return this.decompose(e,n,s,0),TextNode.from(s,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),s=this.length-this.scanIdentical(e,-1),o=new RawTextCursor(this),a=new RawTextCursor(e);for(let u=n,f=n;;){if(o.next(u),a.next(u),u=0,o.lineBreak!=a.lineBreak||o.done!=a.done||o.value!=a.value)return!1;if(f+=o.value.length,o.done||f>=s)return!0}}iter(e=1){return new RawTextCursor(this,e)}iterRange(e,n=this.length){return new PartialTextCursor(this,e,n)}iterLines(e,n){let s;if(e==null)s=this.iter();else{n==null&&(n=this.lines+1);let o=this.line(e).from;s=this.iterRange(o,Math.max(o,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new LineCursor(s)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Text.empty:e.length<=32?new TextLeaf(e):TextNode.from(TextLeaf.split(e,[]))}}class TextLeaf extends Text{constructor(e,n=textLength(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,s,o){for(let a=0;;a++){let u=this.text[a],f=o+u.length;if((n?s:f)>=e)return new Line(o,f,s,u);o=f+1,s++}}decompose(e,n,s,o){let a=e<=0&&n>=this.length?this:new TextLeaf(sliceText(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(o&1){let u=s.pop(),f=appendText(a.text,u.text.slice(),0,a.length);if(f.length<=32)s.push(new TextLeaf(f,u.length+a.length));else{let d=f.length>>1;s.push(new TextLeaf(f.slice(0,d)),new TextLeaf(f.slice(d)))}}else s.push(a)}replace(e,n,s){if(!(s instanceof TextLeaf))return super.replace(e,n,s);[e,n]=clip(this,e,n);let o=appendText(this.text,appendText(s.text,sliceText(this.text,0,e)),n),a=this.length+s.length-(n-e);return o.length<=32?new TextLeaf(o,a):TextNode.from(TextLeaf.split(o,[]),a)}sliceString(e,n=this.length,s=`
`){[e,n]=clip(this,e,n);let o="";for(let a=0,u=0;a<=n&&u<this.text.length;u++){let f=this.text[u],d=a+f.length;a>e&&u&&(o+=s),e<d&&n>a&&(o+=f.slice(Math.max(0,e-a),n-a)),a=d+1}return o}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let s=[],o=-1;for(let a of e)s.push(a),o+=a.length+1,s.length==32&&(n.push(new TextLeaf(s,o)),s=[],o=-1);return o>-1&&n.push(new TextLeaf(s,o)),n}}class TextNode extends Text{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let s of e)this.lines+=s.lines}lineInner(e,n,s,o){for(let a=0;;a++){let u=this.children[a],f=o+u.length,d=s+u.lines-1;if((n?d:f)>=e)return u.lineInner(e,n,s,o);o=f+1,s=d+1}}decompose(e,n,s,o){for(let a=0,u=0;u<=n&&a<this.children.length;a++){let f=this.children[a],d=u+f.length;if(e<=d&&n>=u){let g=o&((u<=e?1:0)|(d>=n?2:0));u>=e&&d<=n&&!g?s.push(f):f.decompose(e-u,n-u,s,g)}u=d+1}}replace(e,n,s){if([e,n]=clip(this,e,n),s.lines<this.lines)for(let o=0,a=0;o<this.children.length;o++){let u=this.children[o],f=a+u.length;if(e>=a&&n<=f){let d=u.replace(e-a,n-a,s),g=this.lines-u.lines+d.lines;if(d.lines<g>>4&&d.lines>g>>6){let m=this.children.slice();return m[o]=d,new TextNode(m,this.length-(n-e)+s.length)}return super.replace(a,f,d)}a=f+1}return super.replace(e,n,s)}sliceString(e,n=this.length,s=`
`){[e,n]=clip(this,e,n);let o="";for(let a=0,u=0;a<this.children.length&&u<=n;a++){let f=this.children[a],d=u+f.length;u>e&&a&&(o+=s),e<d&&n>u&&(o+=f.sliceString(e-u,n-u,s)),u=d+1}return o}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof TextNode))return 0;let s=0,[o,a,u,f]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;o+=n,a+=n){if(o==u||a==f)return s;let d=this.children[o],g=e.children[a];if(d!=g)return s+d.scanIdentical(g,n);s+=d.length+1}}static from(e,n=e.reduce((s,o)=>s+o.length+1,-1)){let s=0;for(let b of e)s+=b.lines;if(s<32){let b=[];for(let w of e)w.flatten(b);return new TextLeaf(b,n)}let o=Math.max(32,s>>5),a=o<<1,u=o>>1,f=[],d=0,g=-1,m=[];function O(b){let w;if(b.lines>a&&b instanceof TextNode)for(let E of b.children)O(E);else b.lines>u&&(d>u||!d)?(x(),f.push(b)):b instanceof TextLeaf&&d&&(w=m[m.length-1])instanceof TextLeaf&&b.lines+w.lines<=32?(d+=b.lines,g+=b.length+1,m[m.length-1]=new TextLeaf(w.text.concat(b.text),w.length+1+b.length)):(d+b.lines>o&&x(),d+=b.lines,g+=b.length+1,m.push(b))}function x(){d!=0&&(f.push(m.length==1?m[0]:TextNode.from(m,g)),g=-1,d=m.length=0)}for(let b of e)O(b);return x(),f.length==1?f[0]:new TextNode(f,n)}}Text.empty=new TextLeaf([""],0);function textLength(r){let e=-1;for(let n of r)e+=n.length+1;return e}function appendText(r,e,n=0,s=1e9){for(let o=0,a=0,u=!0;a<r.length&&o<=s;a++){let f=r[a],d=o+f.length;d>=n&&(d>s&&(f=f.slice(0,s-o)),o<n&&(f=f.slice(n-o)),u?(e[e.length-1]+=f,u=!1):e.push(f)),o=d+1}return e}function sliceText(r,e,n){return appendText(r,[""],e,n)}class RawTextCursor{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof TextLeaf?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let s=this.nodes.length-1,o=this.nodes[s],a=this.offsets[s],u=a>>1,f=o instanceof TextLeaf?o.text.length:o.children.length;if(u==(n>0?f:0)){if(s==0)return this.done=!0,this.value="",this;n>0&&this.offsets[s-1]++,this.nodes.pop(),this.offsets.pop()}else if((a&1)==(n>0?0:1)){if(this.offsets[s]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(o instanceof TextLeaf){let d=o.text[u+(n<0?-1:0)];if(this.offsets[s]+=n,d.length>Math.max(0,e))return this.value=e==0?d:n>0?d.slice(e):d.slice(0,d.length-e),this;e-=d.length}else{let d=o.children[u+(n<0?-1:0)];e>d.length?(e-=d.length,this.offsets[s]+=n):(n<0&&this.offsets[s]--,this.nodes.push(d),this.offsets.push(n>0?1:(d instanceof TextLeaf?d.text.length:d.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class PartialTextCursor{constructor(e,n,s){this.value="",this.done=!1,this.cursor=new RawTextCursor(e,n>s?-1:1),this.pos=n>s?e.length:0,this.from=Math.min(n,s),this.to=Math.max(n,s)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let s=n<0?this.pos-this.from:this.to-this.pos;e>s&&(e=s),s-=e;let{value:o}=this.cursor.next(e);return this.pos+=(o.length+e)*n,this.value=o.length<=s?o:n<0?o.slice(o.length-s):o.slice(0,s),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:s,value:o}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):s?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=o,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(e,n,s,o){this.from=e,this.to=n,this.number=s,this.text=o}get length(){return this.to-this.from}}function clip(r,e,n){return e=Math.max(0,Math.min(r.length,e)),[e,Math.max(e,Math.min(r.length,n))]}function findClusterBreak(r,e,n=!0,s=!0){return findClusterBreak$1(r,e,n,s)}function surrogateLow(r){return r>=56320&&r<57344}function surrogateHigh(r){return r>=55296&&r<56320}function codePointAt(r,e){let n=r.charCodeAt(e);if(!surrogateHigh(n)||e+1==r.length)return n;let s=r.charCodeAt(e+1);return surrogateLow(s)?(n-55296<<10)+(s-56320)+65536:n}function fromCodePoint(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function codePointSize(r){return r<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r}(MapMode||(MapMode={}));class ChangeDesc{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let s=this.sections[n+1];e+=s<0?this.sections[n]:s}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,s=0,o=0;n<this.sections.length;){let a=this.sections[n++],u=this.sections[n++];u<0?(e(s,o,a),o+=a):o+=u,s+=a}}iterChangedRanges(e,n=!1){iterChanges(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?e.push(s,o):e.push(o,s)}return new ChangeDesc(e)}composeDesc(e){return this.empty?e:e.empty?this:composeSets(this,e)}mapDesc(e,n=!1){return e.empty?this:mapSet(this,e,n)}mapPos(e,n=-1,s=MapMode.Simple){let o=0,a=0;for(let u=0;u<this.sections.length;){let f=this.sections[u++],d=this.sections[u++],g=o+f;if(d<0){if(g>e)return a+(e-o);a+=f}else{if(s!=MapMode.Simple&&g>=e&&(s==MapMode.TrackDel&&o<e&&g>e||s==MapMode.TrackBefore&&o<e||s==MapMode.TrackAfter&&g>e))return null;if(g>e||g==e&&n<0&&!f)return e==o||n<0?a:a+d;a+=d}o=g}if(e>o)throw new RangeError(`Position ${e} is out of range for changeset of length ${o}`);return a}touchesRange(e,n=e){for(let s=0,o=0;s<this.sections.length&&o<=n;){let a=this.sections[s++],u=this.sections[s++],f=o+a;if(u>=0&&o<=n&&f>=e)return o<e&&f>n?"cover":!0;o=f}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];e+=(e?" ":"")+s+(o>=0?":"+o:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(e)}static create(e){return new ChangeDesc(e)}}class ChangeSet extends ChangeDesc{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(n,s,o,a,u)=>e=e.replace(o,o+(s-n),u),!1),e}mapDesc(e,n=!1){return mapSet(this,e,n,!0)}invert(e){let n=this.sections.slice(),s=[];for(let o=0,a=0;o<n.length;o+=2){let u=n[o],f=n[o+1];if(f>=0){n[o]=f,n[o+1]=u;let d=o>>1;for(;s.length<d;)s.push(Text.empty);s.push(u?e.slice(a,a+u):Text.empty)}a+=u}return new ChangeSet(n,s)}compose(e){return this.empty?e:e.empty?this:composeSets(this,e,!0)}map(e,n=!1){return e.empty?this:mapSet(this,e,n,!0)}iterChanges(e,n=!1){iterChanges(this,e,n)}get desc(){return ChangeDesc.create(this.sections)}filter(e){let n=[],s=[],o=[],a=new SectionIter(this);e:for(let u=0,f=0;;){let d=u==e.length?1e9:e[u++];for(;f<d||f==d&&a.len==0;){if(a.done)break e;let m=Math.min(a.len,d-f);addSection(o,m,-1);let O=a.ins==-1?-1:a.off==0?a.ins:0;addSection(n,m,O),O>0&&addInsert(s,n,a.text),a.forward(m),f+=m}let g=e[u++];for(;f<g;){if(a.done)break e;let m=Math.min(a.len,g-f);addSection(n,m,-1),addSection(o,m,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(m),f+=m}}return{changes:new ChangeSet(n,s),filtered:ChangeDesc.create(o)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let s=this.sections[n],o=this.sections[n+1];o<0?e.push(s):o==0?e.push([s]):e.push([s].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,s){let o=[],a=[],u=0,f=null;function d(m=!1){if(!m&&!o.length)return;u<n&&addSection(o,n-u,-1);let O=new ChangeSet(o,a);f=f?f.compose(O.map(f)):O,o=[],a=[],u=0}function g(m){if(Array.isArray(m))for(let O of m)g(O);else if(m instanceof ChangeSet){if(m.length!=n)throw new RangeError(`Mismatched change set length (got ${m.length}, expected ${n})`);d(),f=f?f.compose(m.map(f)):m}else{let{from:O,to:x=O,insert:b}=m;if(O>x||O<0||x>n)throw new RangeError(`Invalid change range ${O} to ${x} (in doc of length ${n})`);let w=b?typeof b=="string"?Text.of(b.split(s||DefaultSplit)):b:Text.empty,E=w.length;if(O==x&&E==0)return;O<u&&d(),O>u&&addSection(o,O-u,-1),addSection(o,x-O,E),addInsert(a,o,w),u=x}}return g(e),d(!f),f}static empty(e){return new ChangeSet(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],s=[];for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")n.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((u,f)=>f&&typeof u!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)n.push(a[0],0);else{for(;s.length<o;)s.push(Text.empty);s[o]=Text.of(a.slice(1)),n.push(a[0],s[o].length)}}}return new ChangeSet(n,s)}static createSet(e,n){return new ChangeSet(e,n)}}function addSection(r,e,n,s=!1){if(e==0&&n<=0)return;let o=r.length-2;o>=0&&n<=0&&n==r[o+1]?r[o]+=e:o>=0&&e==0&&r[o]==0?r[o+1]+=n:s?(r[o]+=e,r[o+1]+=n):r.push(e,n)}function addInsert(r,e,n){if(n.length==0)return;let s=e.length-2>>1;if(s<r.length)r[r.length-1]=r[r.length-1].append(n);else{for(;r.length<s;)r.push(Text.empty);r.push(n)}}function iterChanges(r,e,n){let s=r.inserted;for(let o=0,a=0,u=0;u<r.sections.length;){let f=r.sections[u++],d=r.sections[u++];if(d<0)o+=f,a+=f;else{let g=o,m=a,O=Text.empty;for(;g+=f,m+=d,d&&s&&(O=O.append(s[u-2>>1])),!(n||u==r.sections.length||r.sections[u+1]<0);)f=r.sections[u++],d=r.sections[u++];e(o,g,a,m,O),o=g,a=m}}}function mapSet(r,e,n,s=!1){let o=[],a=s?[]:null,u=new SectionIter(r),f=new SectionIter(e);for(let d=-1;;){if(u.done&&f.len||f.done&&u.len)throw new Error("Mismatched change set lengths");if(u.ins==-1&&f.ins==-1){let g=Math.min(u.len,f.len);addSection(o,g,-1),u.forward(g),f.forward(g)}else if(f.ins>=0&&(u.ins<0||d==u.i||u.off==0&&(f.len<u.len||f.len==u.len&&!n))){let g=f.len;for(addSection(o,f.ins,-1);g;){let m=Math.min(u.len,g);u.ins>=0&&d<u.i&&u.len<=m&&(addSection(o,0,u.ins),a&&addInsert(a,o,u.text),d=u.i),u.forward(m),g-=m}f.next()}else if(u.ins>=0){let g=0,m=u.len;for(;m;)if(f.ins==-1){let O=Math.min(m,f.len);g+=O,m-=O,f.forward(O)}else if(f.ins==0&&f.len<m)m-=f.len,f.next();else break;addSection(o,g,d<u.i?u.ins:0),a&&d<u.i&&addInsert(a,o,u.text),d=u.i,u.forward(u.len-m)}else{if(u.done&&f.done)return a?ChangeSet.createSet(o,a):ChangeDesc.create(o);throw new Error("Mismatched change set lengths")}}}function composeSets(r,e,n=!1){let s=[],o=n?[]:null,a=new SectionIter(r),u=new SectionIter(e);for(let f=!1;;){if(a.done&&u.done)return o?ChangeSet.createSet(s,o):ChangeDesc.create(s);if(a.ins==0)addSection(s,a.len,0,f),a.next();else if(u.len==0&&!u.done)addSection(s,0,u.ins,f),o&&addInsert(o,s,u.text),u.next();else{if(a.done||u.done)throw new Error("Mismatched change set lengths");{let d=Math.min(a.len2,u.len),g=s.length;if(a.ins==-1){let m=u.ins==-1?-1:u.off?0:u.ins;addSection(s,d,m,f),o&&m&&addInsert(o,s,u.text)}else u.ins==-1?(addSection(s,a.off?0:a.len,d,f),o&&addInsert(o,s,a.textBit(d))):(addSection(s,a.off?0:a.len,u.off?0:u.ins,f),o&&!u.off&&addInsert(o,s,u.text));f=(a.ins>d||u.ins>=0&&u.len>d)&&(f||s.length>g),a.forward2(d),u.forward(d)}}}}class SectionIter{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Text.empty:e[n]}textBit(e){let{inserted:n}=this.set,s=this.i-2>>1;return s>=n.length&&!e?Text.empty:n[s].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class SelectionRange{constructor(e,n,s){this.from=e,this.to=n,this.flags=s}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let s,o;return this.empty?s=o=e.mapPos(this.from,n):(s=e.mapPos(this.from,1),o=e.mapPos(this.to,-1)),s==this.from&&o==this.to?this:new SelectionRange(s,o,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return EditorSelection.range(e,n);let s=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return EditorSelection.range(this.anchor,s)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(e.anchor,e.head)}static create(e,n,s){return new SelectionRange(e,n,s)}}class EditorSelection{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:EditorSelection.create(this.ranges.map(s=>s.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let s=0;s<this.ranges.length;s++)if(!this.ranges[s].eq(e.ranges[s],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(e,n=!0){return EditorSelection.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let s=this.ranges.slice();return s[n]=e,EditorSelection.create(s,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(e.ranges.map(n=>SelectionRange.fromJSON(n)),e.main)}static single(e,n=e){return new EditorSelection([EditorSelection.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let s=0,o=0;o<e.length;o++){let a=e[o];if(a.empty?a.from<=s:a.from<s)return EditorSelection.normalized(e.slice(),n);s=a.to}return new EditorSelection(e,n)}static cursor(e,n=0,s,o){return SelectionRange.create(e,e,(n==0?0:n<0?8:16)|(s==null?7:Math.min(6,s))|(o??16777215)<<6)}static range(e,n,s,o){let a=(s??16777215)<<6|(o==null?7:Math.min(6,o));return n<e?SelectionRange.create(n,e,48|a):SelectionRange.create(e,n,(n>e?8:0)|a)}static normalized(e,n=0){let s=e[n];e.sort((o,a)=>o.from-a.from),n=e.indexOf(s);for(let o=1;o<e.length;o++){let a=e[o],u=e[o-1];if(a.empty?a.from<=u.to:a.from<u.to){let f=u.from,d=Math.max(a.to,u.to);o<=n&&n--,e.splice(--o,2,a.anchor>a.head?EditorSelection.range(d,f):EditorSelection.range(f,d))}}return new EditorSelection(e,n)}}function checkSelection(r,e){for(let n of r.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(e,n,s,o,a){this.combine=e,this.compareInput=n,this.compare=s,this.isStatic=o,this.id=nextID++,this.default=e([]),this.extensions=typeof a=="function"?a(this):a}get reader(){return this}static define(e={}){return new Facet(e.combine||(n=>n),e.compareInput||((n,s)=>n===s),e.compare||(e.combine?(n,s)=>n===s:sameArray$1),!!e.static,e.enables)}of(e){return new FacetProvider([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(e,this,2,n)}from(e,n){return n||(n=s=>s),this.compute([e],s=>n(s.field(e)))}}function sameArray$1(r,e){return r==e||r.length==e.length&&r.every((n,s)=>n===e[s])}class FacetProvider{constructor(e,n,s,o){this.dependencies=e,this.facet=n,this.type=s,this.value=o,this.id=nextID++}dynamicSlot(e){var n;let s=this.value,o=this.facet.compareInput,a=this.id,u=e[a]>>1,f=this.type==2,d=!1,g=!1,m=[];for(let O of this.dependencies)O=="doc"?d=!0:O=="selection"?g=!0:((n=e[O.id])!==null&&n!==void 0?n:1)&1||m.push(e[O.id]);return{create(O){return O.values[u]=s(O),1},update(O,x){if(d&&x.docChanged||g&&(x.docChanged||x.selection)||ensureAll(O,m)){let b=s(O);if(f?!compareArray(b,O.values[u],o):!o(b,O.values[u]))return O.values[u]=b,1}return 0},reconfigure:(O,x)=>{let b,w=x.config.address[a];if(w!=null){let E=getAddr(x,w);if(this.dependencies.every(k=>k instanceof Facet?x.facet(k)===O.facet(k):k instanceof StateField?x.field(k,!1)==O.field(k,!1):!0)||(f?compareArray(b=s(O),E,o):o(b=s(O),E)))return O.values[u]=E,0}else b=s(O);return O.values[u]=b,1}}}}function compareArray(r,e,n){if(r.length!=e.length)return!1;for(let s=0;s<r.length;s++)if(!n(r[s],e[s]))return!1;return!0}function ensureAll(r,e){let n=!1;for(let s of e)ensureAddr(r,s)&1&&(n=!0);return n}function dynamicFacetSlot(r,e,n){let s=n.map(d=>r[d.id]),o=n.map(d=>d.type),a=s.filter(d=>!(d&1)),u=r[e.id]>>1;function f(d){let g=[];for(let m=0;m<s.length;m++){let O=getAddr(d,s[m]);if(o[m]==2)for(let x of O)g.push(x);else g.push(O)}return e.combine(g)}return{create(d){for(let g of s)ensureAddr(d,g);return d.values[u]=f(d),1},update(d,g){if(!ensureAll(d,a))return 0;let m=f(d);return e.compare(m,d.values[u])?0:(d.values[u]=m,1)},reconfigure(d,g){let m=ensureAll(d,s),O=g.config.facets[e.id],x=g.facet(e);if(O&&!m&&sameArray$1(n,O))return d.values[u]=x,0;let b=f(d);return e.compare(b,x)?(d.values[u]=x,0):(d.values[u]=b,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(e,n,s,o,a){this.id=e,this.createF=n,this.updateF=s,this.compareF=o,this.spec=a,this.provides=void 0}static define(e){let n=new StateField(nextID++,e.create,e.update,e.compare||((s,o)=>s===o),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(initField).find(s=>s.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:s=>(s.values[n]=this.create(s),1),update:(s,o)=>{let a=s.values[n],u=this.updateF(a,o);return this.compareF(a,u)?0:(s.values[n]=u,1)},reconfigure:(s,o)=>o.config.address[this.id]!=null?(s.values[n]=o.field(this),0):(s.values[n]=this.create(s),1)}}init(e){return[this,initField.of({field:this,create:e})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(r){return e=>new PrecExtension(e,r)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(e,n){this.inner=e,this.prec=n}}class Compartment{of(e){return new CompartmentInstance(this,e)}reconfigure(e){return Compartment.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class CompartmentInstance{constructor(e,n){this.compartment=e,this.inner=n}}class Configuration{constructor(e,n,s,o,a,u){for(this.base=e,this.compartments=n,this.dynamicSlots=s,this.address=o,this.staticValues=a,this.facets=u,this.statusTemplate=[];this.statusTemplate.length<s.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,s){let o=[],a=Object.create(null),u=new Map;for(let x of flatten(e,n,u))x instanceof StateField?o.push(x):(a[x.facet.id]||(a[x.facet.id]=[])).push(x);let f=Object.create(null),d=[],g=[];for(let x of o)f[x.id]=g.length<<1,g.push(b=>x.slot(b));let m=s==null?void 0:s.config.facets;for(let x in a){let b=a[x],w=b[0].facet,E=m&&m[x]||[];if(b.every(k=>k.type==0))if(f[w.id]=d.length<<1|1,sameArray$1(E,b))d.push(s.facet(w));else{let k=w.combine(b.map(Q=>Q.value));d.push(s&&w.compare(k,s.facet(w))?s.facet(w):k)}else{for(let k of b)k.type==0?(f[k.id]=d.length<<1|1,d.push(k.value)):(f[k.id]=g.length<<1,g.push(Q=>k.dynamicSlot(Q)));f[w.id]=g.length<<1,g.push(k=>dynamicFacetSlot(k,w,b))}}let O=g.map(x=>x(f));return new Configuration(e,u,O,f,d,a)}}function flatten(r,e,n){let s=[[],[],[],[],[]],o=new Map;function a(u,f){let d=o.get(u);if(d!=null){if(d<=f)return;let g=s[d].indexOf(u);g>-1&&s[d].splice(g,1),u instanceof CompartmentInstance&&n.delete(u.compartment)}if(o.set(u,f),Array.isArray(u))for(let g of u)a(g,f);else if(u instanceof CompartmentInstance){if(n.has(u.compartment))throw new RangeError("Duplicate use of compartment in extensions");let g=e.get(u.compartment)||u.inner;n.set(u.compartment,g),a(g,f)}else if(u instanceof PrecExtension)a(u.inner,u.prec);else if(u instanceof StateField)s[f].push(u),u.provides&&a(u.provides,f);else if(u instanceof FacetProvider)s[f].push(u),u.facet.extensions&&a(u.facet.extensions,Prec_.default);else{let g=u.extension;if(!g)throw new Error(`Unrecognized extension value in extension set (${u}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(g,f)}}return a(r,Prec_.default),s.reduce((u,f)=>u.concat(f))}function ensureAddr(r,e){if(e&1)return 2;let n=e>>1,s=r.status[n];if(s==4)throw new Error("Cyclic dependency between fields and/or facets");if(s&2)return s;r.status[n]=4;let o=r.computeSlot(r,r.config.dynamicSlots[n]);return r.status[n]=2|o}function getAddr(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:r=>r.some(e=>e),static:!0}),lineSeparator=Facet.define({combine:r=>r.length?r[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:r=>r.length?r[0]:!1});class Annotation{constructor(e,n){this.type=e,this.value=n}static define(){return new AnnotationType}}class AnnotationType{of(e){return new Annotation(this,e)}}class StateEffectType{constructor(e){this.map=e}of(e){return new StateEffect(this,e)}}class StateEffect{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new StateEffect(this.type,n)}is(e){return this.type==e}static define(e={}){return new StateEffectType(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let s=[];for(let o of e){let a=o.map(n);a&&s.push(a)}return s}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(e,n,s,o,a,u){this.startState=e,this.changes=n,this.selection=s,this.effects=o,this.annotations=a,this.scrollIntoView=u,this._doc=null,this._state=null,s&&checkSelection(s,n.newLength),a.some(f=>f.type==Transaction.time)||(this.annotations=a.concat(Transaction.time.of(Date.now())))}static create(e,n,s,o,a,u){return new Transaction(e,n,s,o,a,u)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Transaction.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(r,e){let n=[];for(let s=0,o=0;;){let a,u;if(s<r.length&&(o==e.length||e[o]>=r[s]))a=r[s++],u=r[s++];else if(o<e.length)a=e[o++],u=e[o++];else return n;!n.length||n[n.length-1]<a?n.push(a,u):n[n.length-1]<u&&(n[n.length-1]=u)}}function mergeTransaction(r,e,n){var s;let o,a,u;return n?(o=e.changes,a=ChangeSet.empty(e.changes.length),u=r.changes.compose(e.changes)):(o=e.changes.map(r.changes),a=r.changes.mapDesc(e.changes,!0),u=r.changes.compose(o)),{changes:u,selection:e.selection?e.selection.map(a):(s=r.selection)===null||s===void 0?void 0:s.map(o),effects:StateEffect.mapEffects(r.effects,o).concat(StateEffect.mapEffects(e.effects,a)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function resolveTransactionInner(r,e,n){let s=e.selection,o=asArray$1(e.annotations);return e.userEvent&&(o=o.concat(Transaction.userEvent.of(e.userEvent))),{changes:e.changes instanceof ChangeSet?e.changes:ChangeSet.of(e.changes||[],n,r.facet(lineSeparator)),selection:s&&(s instanceof EditorSelection?s:EditorSelection.single(s.anchor,s.head)),effects:asArray$1(e.effects),annotations:o,scrollIntoView:!!e.scrollIntoView}}function resolveTransaction(r,e,n){let s=resolveTransactionInner(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let a=1;a<e.length;a++){e[a].filter===!1&&(n=!1);let u=!!e[a].sequential;s=mergeTransaction(s,resolveTransactionInner(r,e[a],u?s.changes.newLength:r.doc.length),u)}let o=Transaction.create(r,s.changes,s.selection,s.effects,s.annotations,s.scrollIntoView);return extendTransaction(n?filterTransaction(o):o)}function filterTransaction(r){let e=r.startState,n=!0;for(let o of e.facet(changeFilter)){let a=o(r);if(a===!1){n=!1;break}Array.isArray(a)&&(n=n===!0?a:joinRanges(n,a))}if(n!==!0){let o,a;if(n===!1)a=r.changes.invertedDesc,o=ChangeSet.empty(e.doc.length);else{let u=r.changes.filter(n);o=u.changes,a=u.filtered.mapDesc(u.changes).invertedDesc}r=Transaction.create(e,o,r.selection&&r.selection.map(a),StateEffect.mapEffects(r.effects,a),r.annotations,r.scrollIntoView)}let s=e.facet(transactionFilter);for(let o=s.length-1;o>=0;o--){let a=s[o](r);a instanceof Transaction?r=a:Array.isArray(a)&&a.length==1&&a[0]instanceof Transaction?r=a[0]:r=resolveTransaction(e,asArray$1(a),!1)}return r}function extendTransaction(r){let e=r.startState,n=e.facet(transactionExtender),s=r;for(let o=n.length-1;o>=0;o--){let a=n[o](r);a&&Object.keys(a).length&&(s=mergeTransaction(s,resolveTransactionInner(e,a,r.changes.newLength),!0))}return s==r?r:Transaction.create(e,r.changes,r.selection,s.effects,s.annotations,s.scrollIntoView)}const none$3=[];function asArray$1(r){return r==null?none$3:Array.isArray(r)?r:[r]}var CharCategory=function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(r){}function hasWordChar(r){if(wordChar)return wordChar.test(r);for(let e=0;e<r.length;e++){let n=r[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||nonASCIISingleCaseWordChar.test(n)))return!0}return!1}function makeCategorizer(r){return e=>{if(!/\S/.test(e))return CharCategory.Space;if(hasWordChar(e))return CharCategory.Word;for(let n=0;n<r.length;n++)if(e.indexOf(r[n])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(e,n,s,o,a,u){this.config=e,this.doc=n,this.selection=s,this.values=o,this.status=e.statusTemplate.slice(),this.computeSlot=a,u&&(u._state=this);for(let f=0;f<this.config.dynamicSlots.length;f++)ensureAddr(this,f<<1);this.computeSlot=null}field(e,n=!0){let s=this.config.address[e.id];if(s==null){if(n)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,s),getAddr(this,s)}update(...e){return resolveTransaction(this,e,!0)}applyTransaction(e){let n=this.config,{base:s,compartments:o}=n;for(let f of e.effects)f.is(Compartment.reconfigure)?(n&&(o=new Map,n.compartments.forEach((d,g)=>o.set(g,d)),n=null),o.set(f.value.compartment,f.value.extension)):f.is(StateEffect.reconfigure)?(n=null,s=f.value):f.is(StateEffect.appendConfig)&&(n=null,s=asArray$1(s).concat(f.value));let a;n?a=e.startState.values.slice():(n=Configuration.resolve(s,o,this),a=new EditorState(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(d,g)=>g.reconfigure(d,this),null).values);let u=e.startState.facet(allowMultipleSelections)?e.newSelection:e.newSelection.asSingle();new EditorState(n,e.newDoc,u,a,(f,d)=>d.update(f,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:EditorSelection.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,s=e(n.ranges[0]),o=this.changes(s.changes),a=[s.range],u=asArray$1(s.effects);for(let f=1;f<n.ranges.length;f++){let d=e(n.ranges[f]),g=this.changes(d.changes),m=g.map(o);for(let x=0;x<f;x++)a[x]=a[x].map(m);let O=o.mapDesc(g,!0);a.push(d.range.map(O)),o=o.compose(m),u=StateEffect.mapEffects(u,m).concat(StateEffect.mapEffects(asArray$1(d.effects),O))}return{changes:o,selection:EditorSelection.create(a,n.mainIndex),effects:u}}changes(e=[]){return e instanceof ChangeSet?e:ChangeSet.of(e,this.doc.length,this.facet(EditorState.lineSeparator))}toText(e){return Text.of(e.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(ensureAddr(this,n),getAddr(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let s in e){let o=e[s];o instanceof StateField&&this.config.address[o.id]!=null&&(n[s]=o.spec.toJSON(this.field(e[s]),this))}return n}static fromJSON(e,n={},s){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let o=[];if(s){for(let a in s)if(Object.prototype.hasOwnProperty.call(e,a)){let u=s[a],f=e[a];o.push(u.init(d=>u.spec.fromJSON(f,d)))}}return EditorState.create({doc:e.doc,selection:EditorSelection.fromJSON(e.selection),extensions:n.extensions?o.concat([n.extensions]):o})}static create(e={}){let n=Configuration.resolve(e.extensions||[],new Map),s=e.doc instanceof Text?e.doc:Text.of((e.doc||"").split(n.staticFacet(EditorState.lineSeparator)||DefaultSplit)),o=e.selection?e.selection instanceof EditorSelection?e.selection:EditorSelection.single(e.selection.anchor,e.selection.head):EditorSelection.single(0);return checkSelection(o,s.length),n.staticFacet(allowMultipleSelections)||(o=o.asSingle()),new EditorState(n,s,o,n.dynamicSlots.map(()=>null),(a,u)=>u.create(a),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(e,...n){for(let s of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(s,e)){e=s[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(s,o)=>{if(o=="$")return"$";let a=+(o||1);return!a||a>n.length?s:n[a-1]})),e}languageDataAt(e,n,s=-1){let o=[];for(let a of this.facet(languageData))for(let u of a(this,n,s))Object.prototype.hasOwnProperty.call(u,e)&&o.push(u[e]);return o}charCategorizer(e){return makeCategorizer(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:s,length:o}=this.doc.lineAt(e),a=this.charCategorizer(e),u=e-s,f=e-s;for(;u>0;){let d=findClusterBreak(n,u,!1);if(a(n.slice(d,u))!=CharCategory.Word)break;u=d}for(;f<o;){let d=findClusterBreak(n,f);if(a(n.slice(f,d))!=CharCategory.Word)break;f=d}return u==f?null:EditorSelection.range(u+s,f+s)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:r=>r.length?r[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(r,e){let n=Object.keys(r),s=Object.keys(e);return n.length==s.length&&n.every(o=>r[o]==e[o])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(r,e,n={}){let s={};for(let o of r)for(let a of Object.keys(o)){let u=o[a],f=s[a];if(f===void 0)s[a]=u;else if(!(f===u||u===void 0))if(Object.hasOwnProperty.call(n,a))s[a]=n[a](f,u);else throw new Error("Config merge conflict for field "+a)}for(let o in e)s[o]===void 0&&(s[o]=e[o]);return s}class RangeValue{eq(e){return this==e}range(e,n=e){return Range$1.create(e,n,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;let Range$1=class If{constructor(e,n,s){this.from=e,this.to=n,this.value=s}static create(e,n,s){return new If(e,n,s)}};function cmpRange(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}class Chunk{constructor(e,n,s,o){this.from=e,this.to=n,this.value=s,this.maxPoint=o}get length(){return this.to[this.to.length-1]}findIndex(e,n,s,o=0){let a=s?this.to:this.from;for(let u=o,f=a.length;;){if(u==f)return u;let d=u+f>>1,g=a[d]-e||(s?this.value[d].endSide:this.value[d].startSide)-n;if(d==u)return g>=0?u:f;g>=0?f=d:u=d+1}}between(e,n,s,o){for(let a=this.findIndex(n,-1e9,!0),u=this.findIndex(s,1e9,!1,a);a<u;a++)if(o(this.from[a]+e,this.to[a]+e,this.value[a])===!1)return!1}map(e,n){let s=[],o=[],a=[],u=-1,f=-1;for(let d=0;d<this.value.length;d++){let g=this.value[d],m=this.from[d]+e,O=this.to[d]+e,x,b;if(m==O){let w=n.mapPos(m,g.startSide,g.mapMode);if(w==null||(x=b=w,g.startSide!=g.endSide&&(b=n.mapPos(m,g.endSide),b<x)))continue}else if(x=n.mapPos(m,g.startSide),b=n.mapPos(O,g.endSide),x>b||x==b&&g.startSide>0&&g.endSide<=0)continue;(b-x||g.endSide-g.startSide)<0||(u<0&&(u=x),g.point&&(f=Math.max(f,b-x)),s.push(g),o.push(x-u),a.push(b-u))}return{mapped:s.length?new Chunk(o,a,s,f):null,pos:u}}}class RangeSet{constructor(e,n,s,o){this.chunkPos=e,this.chunk=n,this.nextLayer=s,this.maxPoint=o}static create(e,n,s,o){return new RangeSet(e,n,s,o)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:s=!1,filterFrom:o=0,filterTo:a=this.length}=e,u=e.filter;if(n.length==0&&!u)return this;if(s&&(n=n.slice().sort(cmpRange)),this.isEmpty)return n.length?RangeSet.of(n):this;let f=new LayerCursor(this,null,-1).goto(0),d=0,g=[],m=new RangeSetBuilder;for(;f.value||d<n.length;)if(d<n.length&&(f.from-n[d].from||f.startSide-n[d].value.startSide)>=0){let O=n[d++];m.addInner(O.from,O.to,O.value)||g.push(O)}else f.rangeIndex==1&&f.chunkIndex<this.chunk.length&&(d==n.length||this.chunkEnd(f.chunkIndex)<n[d].from)&&(!u||o>this.chunkEnd(f.chunkIndex)||a<this.chunkPos[f.chunkIndex])&&m.addChunk(this.chunkPos[f.chunkIndex],this.chunk[f.chunkIndex])?f.nextChunk():((!u||o>f.to||a<f.from||u(f.from,f.to,f.value))&&(m.addInner(f.from,f.to,f.value)||g.push(Range$1.create(f.from,f.to,f.value))),f.next());return m.finishInner(this.nextLayer.isEmpty&&!g.length?RangeSet.empty:this.nextLayer.update({add:g,filter:u,filterFrom:o,filterTo:a}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],s=[],o=-1;for(let u=0;u<this.chunk.length;u++){let f=this.chunkPos[u],d=this.chunk[u],g=e.touchesRange(f,f+d.length);if(g===!1)o=Math.max(o,d.maxPoint),n.push(d),s.push(e.mapPos(f));else if(g===!0){let{mapped:m,pos:O}=d.map(f,e);m&&(o=Math.max(o,m.maxPoint),n.push(m),s.push(O))}}let a=this.nextLayer.map(e);return n.length==0?a:new RangeSet(s,n,a||RangeSet.empty,o)}between(e,n,s){if(!this.isEmpty){for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],u=this.chunk[o];if(n>=a&&e<=a+u.length&&u.between(a,e-a,n-a,s)===!1)return}this.nextLayer.between(e,n,s)}}iter(e=0){return HeapCursor.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return HeapCursor.from(e).goto(n)}static compare(e,n,s,o,a=-1){let u=e.filter(O=>O.maxPoint>0||!O.isEmpty&&O.maxPoint>=a),f=n.filter(O=>O.maxPoint>0||!O.isEmpty&&O.maxPoint>=a),d=findSharedChunks(u,f,s),g=new SpanCursor(u,d,a),m=new SpanCursor(f,d,a);s.iterGaps((O,x,b)=>compare(g,O,m,x,b,o)),s.empty&&s.length==0&&compare(g,0,m,0,0,o)}static eq(e,n,s=0,o){o==null&&(o=999999999);let a=e.filter(m=>!m.isEmpty&&n.indexOf(m)<0),u=n.filter(m=>!m.isEmpty&&e.indexOf(m)<0);if(a.length!=u.length)return!1;if(!a.length)return!0;let f=findSharedChunks(a,u),d=new SpanCursor(a,f,0).goto(s),g=new SpanCursor(u,f,0).goto(s);for(;;){if(d.to!=g.to||!sameValues(d.active,g.active)||d.point&&(!g.point||!d.point.eq(g.point)))return!1;if(d.to>o)return!0;d.next(),g.next()}}static spans(e,n,s,o,a=-1){let u=new SpanCursor(e,null,a).goto(n),f=n,d=u.openStart;for(;;){let g=Math.min(u.to,s);if(u.point){let m=u.activeForPoint(u.to),O=u.pointFrom<n?m.length+1:u.point.startSide<0?m.length:Math.min(m.length,d);o.point(f,g,u.point,m,O,u.pointRank),d=Math.min(u.openEnd(g),m.length)}else g>f&&(o.span(f,g,u.active,d),d=u.openEnd(g));if(u.to>s)return d+(u.point&&u.to>s?1:0);f=u.to,u.next()}}static of(e,n=!1){let s=new RangeSetBuilder;for(let o of e instanceof Range$1?[e]:n?lazySort(e):e)s.add(o.from,o.to,o.value);return s.finish()}static join(e){if(!e.length)return RangeSet.empty;let n=e[e.length-1];for(let s=e.length-2;s>=0;s--)for(let o=e[s];o!=RangeSet.empty;o=o.nextLayer)n=new RangeSet(o.chunkPos,o.chunk,n,Math.max(o.maxPoint,n.maxPoint));return n}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(r){if(r.length>1)for(let e=r[0],n=1;n<r.length;n++){let s=r[n];if(cmpRange(e,s)>0)return r.slice().sort(cmpRange);e=s}return r}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk(e){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,s){this.addInner(e,n,s)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(e,n,s)}addInner(e,n,s){let o=e-this.lastTo||s.startSide-this.last.endSide;if(o<=0&&(e-this.lastFrom||s.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return o<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=s,this.lastFrom=e,this.lastTo=n,this.value.push(s),s.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let s=n.value.length-1;return this.last=n.value[s],this.lastFrom=n.from[s]+e,this.lastTo=n.to[s]+e,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function findSharedChunks(r,e,n){let s=new Map;for(let a of r)for(let u=0;u<a.chunk.length;u++)a.chunk[u].maxPoint<=0&&s.set(a.chunk[u],a.chunkPos[u]);let o=new Set;for(let a of e)for(let u=0;u<a.chunk.length;u++){let f=s.get(a.chunk[u]);f!=null&&(n?n.mapPos(f):f)==a.chunkPos[u]&&!(n!=null&&n.touchesRange(f,f+a.chunk[u].length))&&o.add(a.chunk[u])}return o}class LayerCursor{constructor(e,n,s,o=0){this.layer=e,this.skip=n,this.minPoint=s,this.rank=o}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,s){for(;this.chunkIndex<this.layer.chunk.length;){let o=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(o)||this.layer.chunkEnd(this.chunkIndex)<e||o.maxPoint<this.minPoint))break;this.chunkIndex++,s=!1}if(this.chunkIndex<this.layer.chunk.length){let o=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!s||this.rangeIndex<o)&&this.setRangeIndex(o)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],s=e+n.from[this.rangeIndex];if(this.from=s,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class HeapCursor{constructor(e){this.heap=e}static from(e,n=null,s=-1){let o=[];for(let a=0;a<e.length;a++)for(let u=e[a];!u.isEmpty;u=u.nextLayer)u.maxPoint>=s&&o.push(new LayerCursor(u,n,s,a));return o.length==1?o[0]:new HeapCursor(o)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let s of this.heap)s.goto(e,n);for(let s=this.heap.length>>1;s>=0;s--)heapBubble(this.heap,s);return this.next(),this}forward(e,n){for(let s of this.heap)s.forward(e,n);for(let s=this.heap.length>>1;s>=0;s--)heapBubble(this.heap,s);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),heapBubble(this.heap,0)}}}function heapBubble(r,e){for(let n=r[e];;){let s=(e<<1)+1;if(s>=r.length)break;let o=r[s];if(s+1<r.length&&o.compare(r[s+1])>=0&&(o=r[s+1],s++),n.compare(o)<0)break;r[s]=n,r[e]=o,e=s}}class SpanCursor{constructor(e,n,s){this.minPoint=s,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(e,n,s)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){remove$1(this.active,e),remove$1(this.activeTo,e),remove$1(this.activeRank,e),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(e){let n=0,{value:s,to:o,rank:a}=this.cursor;for(;n<this.activeRank.length&&(a-this.activeRank[n]||o-this.activeTo[n])>0;)n++;insert(this.active,n,s),insert(this.activeTo,n,o),insert(this.activeRank,n,a),e&&insert(e,n,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let s=this.openStart<0?[]:null;for(;;){let o=this.minActive;if(o>-1&&(this.activeTo[o]-this.cursor.from||this.active[o].endSide-this.cursor.startSide)<0){if(this.activeTo[o]>e){this.to=this.activeTo[o],this.endSide=this.active[o].endSide;break}this.removeActive(o),s&&remove$1(s,o)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(!a.point)this.addActive(s),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(s){this.openStart=0;for(let o=s.length-1;o>=0&&s[o]<e;o--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let s=this.active.length-1;s>=0&&!(this.activeRank[s]<this.pointRank);s--)(this.activeTo[s]>e||this.activeTo[s]==e&&this.active[s].endSide>=this.point.endSide)&&n.push(this.active[s]);return n.reverse()}openEnd(e){let n=0;for(let s=this.activeTo.length-1;s>=0&&this.activeTo[s]>e;s--)n++;return n}}function compare(r,e,n,s,o,a){r.goto(e),n.goto(s);let u=s+o,f=s,d=s-e;for(;;){let g=r.to+d-n.to,m=g||r.endSide-n.endSide,O=m<0?r.to+d:n.to,x=Math.min(O,u);if(r.point||n.point?r.point&&n.point&&(r.point==n.point||r.point.eq(n.point))&&sameValues(r.activeForPoint(r.to),n.activeForPoint(n.to))||a.comparePoint(f,x,r.point,n.point):x>f&&!sameValues(r.active,n.active)&&a.compareRange(f,x,r.active,n.active),O>u)break;(g||r.openEnd!=n.openEnd)&&a.boundChange&&a.boundChange(O),f=O,m<=0&&r.next(),m>=0&&n.next()}}function sameValues(r,e){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(r[n]!=e[n]&&!r[n].eq(e[n]))return!1;return!0}function remove$1(r,e){for(let n=e,s=r.length-1;n<s;n++)r[n]=r[n+1];r.pop()}function insert(r,e,n){for(let s=r.length-1;s>=e;s--)r[s+1]=r[s];r[e]=n}function findMinIndex(r,e){let n=-1,s=1e9;for(let o=0;o<e.length;o++)(e[o]-s||r[o].endSide-r[n].endSide)<0&&(n=o,s=e[o]);return n}function countColumn(r,e,n=r.length){let s=0;for(let o=0;o<n&&o<r.length;)r.charCodeAt(o)==9?(s+=e-s%e,o++):(s++,o=findClusterBreak(r,o));return s}function findColumn(r,e,n,s){for(let o=0,a=0;;){if(a>=e)return o;if(o==r.length)break;a+=r.charCodeAt(o)==9?n-a%n:1,o=findClusterBreak(r,o)}return s===!0?-1:r.length}const C="",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(e,n){this.rules=[];let{finish:s}=n||{};function o(u){return/^@/.test(u)?[u]:u.split(/,\s*/)}function a(u,f,d,g){let m=[],O=/^@(\w+)\b/.exec(u[0]),x=O&&O[1]=="keyframes";if(O&&f==null)return d.push(u[0]+";");for(let b in f){let w=f[b];if(/&/.test(b))a(b.split(/,\s*/).map(E=>u.map(k=>E.replace(/&/,k))).reduce((E,k)=>E.concat(k)),w,d);else if(w&&typeof w=="object"){if(!O)throw new RangeError("The value of a property ("+b+") should be a primitive value.");a(o(b),w,m,x)}else w!=null&&m.push(b.replace(/_.*/,"").replace(/[A-Z]/g,E=>"-"+E.toLowerCase())+": "+w+";")}(m.length||x)&&d.push((s&&!O&&!g?u.map(s):u).join(", ")+" {"+m.join(" ")+"}")}for(let u in e)a(o(u),e[u],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=top[COUNT]||1;return top[COUNT]=e+1,C+e.toString(36)}static mount(e,n,s){let o=e[SET],a=s&&s.nonce;o?a&&o.setNonce(a):o=new StyleSet(e,a),o.mount(Array.isArray(n)?n:[n],e)}}let adoptedSet=new Map;class StyleSet{constructor(e,n){let s=e.ownerDocument||e,o=s.defaultView;if(!e.head&&e.adoptedStyleSheets&&o.CSSStyleSheet){let a=adoptedSet.get(s);if(a)return e[SET]=a;this.sheet=new o.CSSStyleSheet,adoptedSet.set(s,this)}else this.styleTag=s.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[SET]=this}mount(e,n){let s=this.sheet,o=0,a=0;for(let u=0;u<e.length;u++){let f=e[u],d=this.modules.indexOf(f);if(d<a&&d>-1&&(this.modules.splice(d,1),a--,d=-1),d==-1){if(this.modules.splice(a++,0,f),s)for(let g=0;g<f.rules.length;g++)s.insertRule(f.rules[g],o++)}else{for(;a<d;)o+=this.modules[a++].rules.length;o+=f.rules.length,a++}}if(s)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let u="";for(let d=0;d<this.modules.length;d++)u+=this.modules[d].getRules()+`
`;this.styleTag.textContent=u;let f=n.head||n;this.styleTag.parentNode!=f&&f.insertBefore(this.styleTag,f.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(r){var e=mac&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||ie$1&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",n=!e&&r.key||(r.shiftKey?shift:base)[r.keyCode]||r.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function getSelection(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function contains(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function hasSelection(r,e){if(!e.anchorNode)return!1;try{return contains(r,e.anchorNode)}catch{return!1}}function clientRectsFor(r){return r.nodeType==3?textRange(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function isEquivalentPosition(r,e,n,s){return n?scanFor(r,e,n,s,-1)||scanFor(r,e,n,s,1):!1}function domIndex(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function isBlockElement(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}function scanFor(r,e,n,s,o){for(;;){if(r==n&&e==s)return!0;if(e==(o<0?0:maxOffset(r))){if(r.nodeName=="DIV")return!1;let a=r.parentNode;if(!a||a.nodeType!=1)return!1;e=domIndex(r)+(o<0?0:1),r=a}else if(r.nodeType==1){if(r=r.childNodes[e+(o<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=o<0?maxOffset(r):0}else return!1}}function maxOffset(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function flattenRect(r,e){let n=e?r.left:r.right;return{left:n,right:n,top:r.top,bottom:r.bottom}}function windowRect(r){let e=r.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function getScale(r,e){let n=e.width/r.offsetWidth,s=e.height/r.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-r.offsetWidth)<1)&&(n=1),(s>.995&&s<1.005||!isFinite(s)||Math.abs(e.height-r.offsetHeight)<1)&&(s=1),{scaleX:n,scaleY:s}}function scrollRectIntoView(r,e,n,s,o,a,u,f){let d=r.ownerDocument,g=d.defaultView||window;for(let m=r,O=!1;m&&!O;)if(m.nodeType==1){let x,b=m==d.body,w=1,E=1;if(b)x=windowRect(g);else{if(/^(fixed|sticky)$/.test(getComputedStyle(m).position)&&(O=!0),m.scrollHeight<=m.clientHeight&&m.scrollWidth<=m.clientWidth){m=m.assignedSlot||m.parentNode;continue}let A=m.getBoundingClientRect();({scaleX:w,scaleY:E}=getScale(m,A)),x={left:A.left,right:A.left+m.clientWidth*w,top:A.top,bottom:A.top+m.clientHeight*E}}let k=0,Q=0;if(o=="nearest")e.top<x.top?(Q=-(x.top-e.top+u),n>0&&e.bottom>x.bottom+Q&&(Q=e.bottom-x.bottom+Q+u)):e.bottom>x.bottom&&(Q=e.bottom-x.bottom+u,n<0&&e.top-Q<x.top&&(Q=-(x.top+Q-e.top+u)));else{let A=e.bottom-e.top,M=x.bottom-x.top;Q=(o=="center"&&A<=M?e.top+A/2-M/2:o=="start"||o=="center"&&n<0?e.top-u:e.bottom-M+u)-x.top}if(s=="nearest"?e.left<x.left?(k=-(x.left-e.left+a),n>0&&e.right>x.right+k&&(k=e.right-x.right+k+a)):e.right>x.right&&(k=e.right-x.right+a,n<0&&e.left<x.left+k&&(k=-(x.left+k-e.left+a))):k=(s=="center"?e.left+(e.right-e.left)/2-(x.right-x.left)/2:s=="start"==f?e.left-a:e.right-(x.right-x.left)+a)-x.left,k||Q)if(b)g.scrollBy(k,Q);else{let A=0,M=0;if(Q){let $=m.scrollTop;m.scrollTop+=Q/E,M=(m.scrollTop-$)*E}if(k){let $=m.scrollLeft;m.scrollLeft+=k/w,A=(m.scrollLeft-$)*w}e={left:e.left-A,top:e.top-M,right:e.right-A,bottom:e.bottom-M},A&&Math.abs(A-k)<1&&(s="nearest"),M&&Math.abs(M-Q)<1&&(o="nearest")}if(b)break;m=m.assignedSlot||m.parentNode}else if(m.nodeType==11)m=m.host;else break}function scrollableParents(r){let e=r.ownerDocument,n,s;for(let o=r.parentNode;o&&!(o==e.body||n&&s);)if(o.nodeType==1)!s&&o.scrollHeight>o.clientHeight&&(s=o),!n&&o.scrollWidth>o.clientWidth&&(n=o),o=o.assignedSlot||o.parentNode;else if(o.nodeType==11)o=o.host;else break;return{x:n,y:s}}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:s}=e;this.set(n,Math.min(e.anchorOffset,n?maxOffset(n):0),s,Math.min(e.focusOffset,s?maxOffset(s):0))}set(e,n,s,o){this.anchorNode=e,this.anchorOffset=n,this.focusNode=s,this.focusOffset=o}}let preventScrollSupported=null;function focusPreventScroll(r){if(r.setActive)return r.setActive();if(preventScrollSupported)return r.focus(preventScrollSupported);let e=[];for(let n=r;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(r.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let n=0;n<e.length;){let s=e[n++],o=e[n++],a=e[n++];s.scrollTop!=o&&(s.scrollTop=o),s.scrollLeft!=a&&(s.scrollLeft=a)}}}let scratchRange;function textRange(r,e,n=e){let s=scratchRange||(scratchRange=document.createRange());return s.setEnd(r,n),s.setStart(r,e),s}function dispatchKey(r,e,n,s){let o={key:e,code:e,keyCode:n,which:n,cancelable:!0};s&&({altKey:o.altKey,ctrlKey:o.ctrlKey,shiftKey:o.shiftKey,metaKey:o.metaKey}=s);let a=new KeyboardEvent("keydown",o);a.synthetic=!0,r.dispatchEvent(a);let u=new KeyboardEvent("keyup",o);return u.synthetic=!0,r.dispatchEvent(u),a.defaultPrevented||u.defaultPrevented}function getRoot(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function clearAttributes(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function atElementStart(r,e){let n=e.focusNode,s=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=s)return!1;for(s=Math.min(s,maxOffset(n));;)if(s){if(n.nodeType!=1)return!1;let o=n.childNodes[s-1];o.contentEditable=="false"?s--:(n=o,s=maxOffset(n))}else{if(n==r)return!0;s=domIndex(n),n=n.parentNode}}function isScrolledToBottom(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}function textNodeBefore(r,e){for(let n=r,s=e;;){if(n.nodeType==3&&s>0)return{node:n,offset:s};if(n.nodeType==1&&s>0){if(n.contentEditable=="false")return null;n=n.childNodes[s-1],s=maxOffset(n)}else if(n.parentNode&&!isBlockElement(n))s=domIndex(n),n=n.parentNode;else return null}}function textNodeAfter(r,e){for(let n=r,s=e;;){if(n.nodeType==3&&s<n.nodeValue.length)return{node:n,offset:s};if(n.nodeType==1&&s<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[s],s=0}else if(n.parentNode&&!isBlockElement(n))s=domIndex(n)+1,n=n.parentNode;else return null}}class DOMPos{constructor(e,n,s=!0){this.node=e,this.offset=n,this.precise=s}static before(e,n){return new DOMPos(e.parentNode,domIndex(e),n)}static after(e,n){return new DOMPos(e.parentNode,domIndex(e)+1,n)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let s of this.children){if(s==e)return n;n+=s.length+s.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let s=this.dom,o=null,a;for(let u of this.children){if(u.flags&7){if(!u.dom&&(a=o?o.nextSibling:s.firstChild)){let f=ContentView.get(a);(!f||!f.parent&&f.canReuseDOM(u))&&u.reuseDOM(a)}u.sync(e,n),u.flags&=-8}if(a=o?o.nextSibling:s.firstChild,n&&!n.written&&n.node==s&&a!=u.dom&&(n.written=!0),u.dom.parentNode==s)for(;a&&a!=u.dom;)a=rm$1(a);else s.insertBefore(u.dom,a);o=u.dom}for(a=o?o.nextSibling:s.firstChild,a&&n&&n.node==s&&(n.written=!0);a;)a=rm$1(a)}else if(this.flags&1)for(let s of this.children)s.flags&7&&(s.sync(e,n),s.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let s;if(e==this.dom)s=this.dom.childNodes[n];else{let o=maxOffset(e)==0?0:n==0?-1:1;for(;;){let a=e.parentNode;if(a==this.dom)break;o==0&&a.firstChild!=a.lastChild&&(e==a.firstChild?o=-1:o=1),e=a}o<0?s=e:s=e.nextSibling}if(s==this.dom.firstChild)return 0;for(;s&&!ContentView.get(s);)s=s.nextSibling;if(!s)return this.length;for(let o=0,a=0;;o++){let u=this.children[o];if(u.dom==s)return a;a+=u.length+u.breakAfter}}domBoundsAround(e,n,s=0){let o=-1,a=-1,u=-1,f=-1;for(let d=0,g=s,m=s;d<this.children.length;d++){let O=this.children[d],x=g+O.length;if(g<e&&x>n)return O.domBoundsAround(e,n,g);if(x>=e&&o==-1&&(o=d,a=g),g>n&&O.dom.parentNode==this.dom){u=d,f=m;break}m=x,g=x+O.breakAfter}return{from:a,to:f<0?s+this.length:f,startDOM:(o?this.children[o-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:u<this.children.length&&u>=0?this.children[u].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,s=noChildren){this.markDirty();for(let o=e;o<n;o++){let a=this.children[o];a.parent==this&&s.indexOf(a)<0&&a.destroy()}s.length<250?this.children.splice(e,n-e,...s):this.children=[].concat(this.children.slice(0,e),s,this.children.slice(n));for(let o=0;o<s.length;o++)s[o].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ChildCursor(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,s,o,a,u){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class ChildCursor{constructor(e,n,s){this.children=e,this.pos=n,this.i=s,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let s=this.children[--this.i];this.pos-=s.length+s.breakAfter}}}function replaceRange(r,e,n,s,o,a,u,f,d){let{children:g}=r,m=g.length?g[e]:null,O=a.length?a[a.length-1]:null,x=O?O.breakAfter:u;if(!(e==s&&m&&!u&&!x&&a.length<2&&m.merge(n,o,a.length?O:null,n==0,f,d))){if(s<g.length){let b=g[s];b&&(o<b.length||b.breakAfter&&(O!=null&&O.breakAfter))?(e==s&&(b=b.split(o),o=0),!x&&O&&b.merge(0,o,O,!0,0,d)?a[a.length-1]=b:((o||b.children.length&&!b.children[0].length)&&b.merge(0,o,null,!1,0,d),a.push(b))):b!=null&&b.breakAfter&&(O?O.breakAfter=1:u=1),s++}for(m&&(m.breakAfter=u,n>0&&(!u&&a.length&&m.merge(n,m.length,a[0],!1,f,0)?m.breakAfter=a.shift().breakAfter:(n<m.length||m.children.length&&m.children[m.children.length-1].length==0)&&m.merge(n,m.length,null,!1,f,0),e++));e<s&&a.length;)if(g[s-1].become(a[a.length-1]))s--,a.pop(),d=a.length?0:f;else if(g[e].become(a[0]))e++,a.shift(),f=a.length?0:d;else break;!a.length&&e&&s<g.length&&!g[e-1].breakAfter&&g[s].merge(0,0,g[e-1],!1,f,d)&&e--,(e<s||a.length)&&r.replaceChildren(e,s,a)}}function mergeChildrenInto(r,e,n,s,o,a){let u=r.childCursor(),{i:f,off:d}=u.findPos(n,1),{i:g,off:m}=u.findPos(e,-1),O=e-n;for(let x of s)O+=x.length;r.length+=O,replaceRange(r,g,m,f,d,s,0,o,a)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit,safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,s){return this.flags&8||s&&(!(s instanceof TextView)||this.length-(n-e)+s.length>MaxJoinLen||s.flags&8)?!1:(this.text=this.text.slice(0,e)+(s?s.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new TextView(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new DOMPos(this.dom,e)}domBoundsAround(e,n,s){return{from:s,to:s+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return textCoords(this.dom,e,n)}}class MarkView extends ContentView{constructor(e,n=[],s=0){super(),this.mark=e,this.children=n,this.length=s;for(let o of n)o.setParent(this)}setAttrs(e){if(clearAttributes(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,s,o,a,u){return s&&(!(s instanceof MarkView&&s.mark.eq(this.mark))||e&&a<=0||n<this.length&&u<=0)?!1:(mergeChildrenInto(this,e,n,s?s.children.slice():[],a-1,u-1),this.markDirty(),!0)}split(e){let n=[],s=0,o=-1,a=0;for(let f of this.children){let d=s+f.length;d>e&&n.push(s<e?f.split(e-s):f),o<0&&s>=e&&(o=a),s=d,a++}let u=this.length-e;return this.length=e,o>-1&&(this.children.length=o,this.markDirty()),new MarkView(this.mark,n,u)}domAtPos(e){return inlineDOMAtPos(this,e)}coordsAt(e,n){return coordsInChildren(this,e,n)}}function textCoords(r,e,n){let s=r.nodeValue.length;e>s&&(e=s);let o=e,a=e,u=0;e==0&&n<0||e==s&&n>=0?browser.chrome||browser.gecko||(e?(o--,u=1):a<s&&(a++,u=-1)):n<0?o--:a<s&&a++;let f=textRange(r,o,a).getClientRects();if(!f.length)return null;let d=f[(u?u<0:n>=0)?0:f.length-1];return browser.safari&&!u&&d.width==0&&(d=Array.prototype.find.call(f,g=>g.width)||d),u?flattenRect(d,u<0):d||null}class WidgetView extends ContentView{static create(e,n,s){return new WidgetView(e,n,s)}constructor(e,n,s){super(),this.widget=e,this.length=n,this.side=s,this.prevWidget=null}split(e){let n=WidgetView.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,s,o,a,u){return s&&(!(s instanceof WidgetView)||!this.widget.compare(s.widget)||e>0&&a<=0||n<this.length&&u<=0)?!1:(this.length=e+(s?s.length:0)+(this.length-n),!0)}become(e){return e instanceof WidgetView&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Text.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,s=n&&n.state.doc,o=this.posAtStart;return s?s.slice(o,o+this.length):Text.empty}domAtPos(e){return(this.length?e==0:this.side>0)?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let s=this.widget.coordsAt(this.dom,e,n);if(s)return s;let o=this.dom.getClientRects(),a=null;if(!o.length)return null;let u=this.side?this.side<0:e>0;for(let f=u?o.length-1:0;a=o[f],!(e>0?f==0:f==o.length-1||a.top<a.bottom);f+=u?-1:1);return flattenRect(a,!u)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class WidgetBufferView extends ContentView{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof WidgetBufferView&&e.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text.empty}get isHidden(){return!0}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineDOMAtPos(r,e){let n=r.dom,{children:s}=r,o=0;for(let a=0;o<s.length;o++){let u=s[o],f=a+u.length;if(!(f==a&&u.getSide()<=0)){if(e>a&&e<f&&u.dom.parentNode==n)return u.domAtPos(e-a);if(e<=a)break;a=f}}for(let a=o;a>0;a--){let u=s[a-1];if(u.dom.parentNode==n)return u.domAtPos(u.length)}for(let a=o;a<s.length;a++){let u=s[a];if(u.dom.parentNode==n)return u.domAtPos(0)}return new DOMPos(n,0)}function joinInlineInto(r,e,n){let s,{children:o}=r;n>0&&e instanceof MarkView&&o.length&&(s=o[o.length-1])instanceof MarkView&&s.mark.eq(e.mark)?joinInlineInto(s,e.children[0],n-1):(o.push(e),e.setParent(r)),r.length+=e.length}function coordsInChildren(r,e,n){let s=null,o=-1,a=null,u=-1;function f(g,m){for(let O=0,x=0;O<g.children.length&&x<=m;O++){let b=g.children[O],w=x+b.length;w>=m&&(b.children.length?f(b,m-x):(!a||a.isHidden&&n>0)&&(w>m||x==w&&b.getSide()>0)?(a=b,u=m-x):(x<m||x==w&&b.getSide()<0&&!b.isHidden)&&(s=b,o=m-x)),x=w}}f(r,e);let d=(n<0?s:a)||s||a;return d?d.coordsAt(Math.max(0,d==s?o:u),n):fallbackRect(r)}function fallbackRect(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let n=clientRectsFor(e);return n[n.length-1]||null}function combineAttrs(r,e){for(let n in r)n=="class"&&e.class?e.class+=" "+r.class:n=="style"&&e.style?e.style+=";"+r.style:e[n]=r[n];return e}const noAttrs$1=Object.create(null);function attrsEq(r,e,n){if(r==e)return!0;r||(r=noAttrs$1),e||(e=noAttrs$1);let s=Object.keys(r),o=Object.keys(e);if(s.length-(n&&s.indexOf(n)>-1?1:0)!=o.length-(n&&o.indexOf(n)>-1?1:0))return!1;for(let a of s)if(a!=n&&(o.indexOf(a)==-1||r[a]!==e[a]))return!1;return!0}function updateAttrs(r,e,n){let s=!1;if(e)for(let o in e)n&&o in n||(s=!0,o=="style"?r.style.cssText="":r.removeAttribute(o));if(n)for(let o in n)e&&e[o]==n[o]||(s=!0,o=="style"?r.style.cssText=n[o]:r.setAttribute(o,n[o]));return s}function getAttrs(r){let e=Object.create(null);for(let n=0;n<r.attributes.length;n++){let s=r.attributes[n];e[s.name]=s.value}return e}class WidgetType{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,s){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var BlockType=function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(e,n,s,o){super(),this.startSide=e,this.endSide=n,this.widget=s,this.spec=o}get heightRelevant(){return!1}static mark(e){return new MarkDecoration(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),s=!!e.block;return n+=s&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new PointDecoration(e,n,n,s,e.widget||null,!1)}static replace(e){let n=!!e.block,s,o;if(e.isBlockGap)s=-5e8,o=4e8;else{let{start:a,end:u}=getInclusive(e,n);s=(a?n?-3e8:-1:5e8)-1,o=(u?n?2e8:1:-6e8)+1}return new PointDecoration(e,s,o,n,e.widget||null,!0)}static line(e){return new LineDecoration(e)}static set(e,n=!1){return RangeSet.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(e){let{start:n,end:s}=getInclusive(e);super(n?-1:5e8,s?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,s;return this==e||e instanceof MarkDecoration&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((s=e.attrs)===null||s===void 0?void 0:s.class))&&attrsEq(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof LineDecoration&&this.spec.class==e.spec.class&&attrsEq(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(e,n,s,o,a,u){super(n,s,a,e),this.block=o,this.isReplace=u,this.mapMode=o?n<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof PointDecoration&&widgetsEq(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}PointDecoration.prototype.point=!0;function getInclusive(r,e=!1){let{inclusiveStart:n,inclusiveEnd:s}=r;return n==null&&(n=r.inclusive),s==null&&(s=r.inclusive),{start:n??e,end:s??e}}function widgetsEq(r,e){return r==e||!!(r&&e&&r.compare(e))}function addRange(r,e,n,s=0){let o=n.length-1;o>=0&&n[o]+s>=r?n[o]=Math.max(n[o],e):n.push(r,e)}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,s,o,a,u){if(s){if(!(s instanceof LineView))return!1;this.dom||s.transferDOM(this)}return o&&this.setDeco(s?s.attrs:null),mergeChildrenInto(this,e,n,s?s.children.slice():[],a,u),!0}split(e){let n=new LineView;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:s,off:o}=this.childPos(e);o&&(n.append(this.children[s].split(o),0),this.children[s].merge(o,this.children[s].length,null,!1,0,0),s++);for(let a=s;a<this.children.length;a++)n.append(this.children[a],0);for(;s>0&&this.children[s-1].length==0;)this.children[--s].destroy();return this.children.length=s,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){attrsEq(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){joinInlineInto(this,e,n)}addLineDeco(e){let n=e.spec.attributes,s=e.spec.class;n&&(this.attrs=combineAttrs(n,this.attrs||{})),s&&(this.attrs=combineAttrs({class:s},this.attrs||{}))}domAtPos(e){return inlineDOMAtPos(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var s;this.dom?this.flags&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let o=this.dom.lastChild;for(;o&&ContentView.get(o)instanceof MarkView;)o=o.lastChild;if(!o||!this.length||o.nodeName!="BR"&&((s=ContentView.get(o))===null||s===void 0?void 0:s.isEditable)==!1&&(!browser.ios||!this.children.some(a=>a instanceof TextView))){let a=document.createElement("BR");a.cmIgnore=!0,this.dom.appendChild(a)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let s of this.children){if(!(s instanceof TextView)||/[^ -~]/.test(s.text))return null;let o=clientRectsFor(s.dom);if(o.length!=1)return null;e+=o[0].width,n=o[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let s=coordsInChildren(this,e,n);if(!this.children.length&&s&&this.parent){let{heightOracle:o}=this.parent.view.viewState,a=s.bottom-s.top;if(Math.abs(a-o.lineHeight)<2&&o.textHeight<a){let u=(a-o.textHeight)/2;return{top:s.top+u,bottom:s.bottom-u,left:s.left,right:s.left}}}return s}become(e){return e instanceof LineView&&this.children.length==0&&e.children.length==0&&attrsEq(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let s=0,o=0;s<e.children.length;s++){let a=e.children[s],u=o+a.length;if(u>=n){if(a instanceof LineView)return a;if(u>n)break}o=u+a.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor(e,n,s){super(),this.widget=e,this.length=n,this.deco=s,this.breakAfter=0,this.prevWidget=null}merge(e,n,s,o,a,u){return s&&(!(s instanceof BlockWidgetView)||!this.widget.compare(s.widget)||e>0&&a<=0||n<this.length&&u<=0)?!1:(this.length=e+(s?s.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?DOMPos.before(this.dom):DOMPos.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let s=new BlockWidgetView(this.widget,n,this.deco);return s.breakAfter=this.breakAfter,s}get children(){return noChildren}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(e){return e instanceof BlockWidgetView&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let s=this.widget.coordsAt(this.dom,e,n);return s||(this.widget instanceof BlockGapWidget?null:flattenRect(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:s}=this.deco;return n==s?!1:e<0?n<0:s>0}}class BlockGapWidget extends WidgetType{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class ContentBuilder{constructor(e,n,s,o){this.doc=e,this.pos=n,this.end=s,this.disallowBlockEffectsFor=o,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof BlockWidgetView&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof BlockWidgetView)&&this.getLine()}buildText(e,n,s){for(;e>0;){if(this.textOff==this.text.length){let{value:a,lineBreak:u,done:f}=this.cursor.next(this.skip);if(this.skip=0,f)throw new Error("Ran out of text content when drawing inline views");if(u){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=a,this.textOff=0}let o=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-s)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+o)),n),s),this.atCursorPos=!0,this.textOff+=o,e-=o,s=0}}span(e,n,s,o){this.buildText(n-e,s,o),this.pos=n,this.openStart<0&&(this.openStart=o)}point(e,n,s,o,a,u){if(this.disallowBlockEffectsFor[u]&&s instanceof PointDecoration){if(s.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let f=n-e;if(s instanceof PointDecoration)if(s.block)s.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(s.widget||NullWidget.block,f,s));else{let d=WidgetView.create(s.widget||NullWidget.inline,f,f?0:s.startSide),g=this.atCursorPos&&!d.isEditable&&a<=o.length&&(e<n||s.startSide>0),m=!d.isEditable&&(e<n||a>o.length||s.startSide<=0),O=this.getLine();this.pendingBuffer==2&&!g&&!d.isEditable&&(this.pendingBuffer=0),this.flushBuffer(o),g&&(O.append(wrapMarks(new WidgetBufferView(1),o),a),a=o.length+Math.max(0,a-o.length)),O.append(wrapMarks(d,o),a),this.atCursorPos=m,this.pendingBuffer=m?e<n||a>o.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=o.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(s);f&&(this.textOff+f<=this.text.length?this.textOff+=f:(this.skip+=f-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=a)}static build(e,n,s,o,a){let u=new ContentBuilder(e,n,s,a);return u.openEnd=RangeSet.spans(o,n,s,u),u.openStart<0&&(u.openStart=u.openEnd),u.finish(u.openEnd),u}}function wrapMarks(r,e){for(let n of e)r=new MarkView(n,[r],r.length);return r}class NullWidget extends WidgetType{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");var Direction=function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(r){let e=[];for(let n=0;n<r.length;n++)e.push(1<<+r[n]);return e}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),n=r.charCodeAt(1);Brackets[e]=n,Brackets[n]=-e}function charType(r){return r<=247?LowTypes[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?ArabicTypes[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8204?256:64336<=r&&r<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor(e,n,s){this.from=e,this.to=n,this.level=s}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,s,o){let a=-1;for(let u=0;u<e.length;u++){let f=e[u];if(f.from<=n&&f.to>=n){if(f.level==s)return u;(a<0||(o!=0?o<0?f.from<n:f.to>n:e[a].level>f.level))&&(a=u)}}if(a<0)throw new RangeError("Index out of range");return a}}function isolatesEq(r,e){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++){let s=r[n],o=e[n];if(s.from!=o.from||s.to!=o.to||s.direction!=o.direction||!isolatesEq(s.inner,o.inner))return!1}return!0}const types=[];function computeCharTypes(r,e,n,s,o){for(let a=0;a<=s.length;a++){let u=a?s[a-1].to:e,f=a<s.length?s[a].from:n,d=a?256:o;for(let g=u,m=d,O=d;g<f;g++){let x=charType(r.charCodeAt(g));x==512?x=m:x==8&&O==4&&(x=16),types[g]=x==4?2:x,x&7&&(O=x),m=x}for(let g=u,m=d,O=d;g<f;g++){let x=types[g];if(x==128)g<f-1&&m==types[g+1]&&m&24?x=types[g]=m:types[g]=256;else if(x==64){let b=g+1;for(;b<f&&types[b]==64;)b++;let w=g&&m==8||b<n&&types[b]==8?O==1?1:8:256;for(let E=g;E<b;E++)types[E]=w;g=b-1}else x==8&&O==1&&(types[g]=1);m=x,x&7&&(O=x)}}}function processBracketPairs(r,e,n,s,o){let a=o==1?2:1;for(let u=0,f=0,d=0;u<=s.length;u++){let g=u?s[u-1].to:e,m=u<s.length?s[u].from:n;for(let O=g,x,b,w;O<m;O++)if(b=Brackets[x=r.charCodeAt(O)])if(b<0){for(let E=f-3;E>=0;E-=3)if(BracketStack[E+1]==-b){let k=BracketStack[E+2],Q=k&2?o:k&4?k&1?a:o:0;Q&&(types[O]=types[BracketStack[E]]=Q),f=E;break}}else{if(BracketStack.length==189)break;BracketStack[f++]=O,BracketStack[f++]=x,BracketStack[f++]=d}else if((w=types[O])==2||w==1){let E=w==o;d=E?0:1;for(let k=f-3;k>=0;k-=3){let Q=BracketStack[k+2];if(Q&2)break;if(E)BracketStack[k+2]|=2;else{if(Q&4)break;BracketStack[k+2]|=4}}}}}function processNeutrals(r,e,n,s){for(let o=0,a=s;o<=n.length;o++){let u=o?n[o-1].to:r,f=o<n.length?n[o].from:e;for(let d=u;d<f;){let g=types[d];if(g==256){let m=d+1;for(;;)if(m==f){if(o==n.length)break;m=n[o++].to,f=o<n.length?n[o].from:e}else if(types[m]==256)m++;else break;let O=a==1,x=(m<e?types[m]:s)==1,b=O==x?O?1:2:s;for(let w=m,E=o,k=E?n[E-1].to:r;w>d;)w==k&&(w=n[--E].from,k=E?n[E-1].to:r),types[--w]=b;d=m}else a=g,d++}}}function emitSpans(r,e,n,s,o,a,u){let f=s%2?2:1;if(s%2==o%2)for(let d=e,g=0;d<n;){let m=!0,O=!1;if(g==a.length||d<a[g].from){let E=types[d];E!=f&&(m=!1,O=E==16)}let x=!m&&f==1?[]:null,b=m?s:s+1,w=d;e:for(;;)if(g<a.length&&w==a[g].from){if(O)break e;let E=a[g];if(!m)for(let k=E.to,Q=g+1;;){if(k==n)break e;if(Q<a.length&&a[Q].from==k)k=a[Q++].to;else{if(types[k]==f)break e;break}}if(g++,x)x.push(E);else{E.from>d&&u.push(new BidiSpan(d,E.from,b));let k=E.direction==LTR!=!(b%2);computeSectionOrder(r,k?s+1:s,o,E.inner,E.from,E.to,u),d=E.to}w=E.to}else{if(w==n||(m?types[w]!=f:types[w]==f))break;w++}x?emitSpans(r,d,w,s+1,o,x,u):d<w&&u.push(new BidiSpan(d,w,b)),d=w}else for(let d=n,g=a.length;d>e;){let m=!0,O=!1;if(!g||d>a[g-1].to){let E=types[d-1];E!=f&&(m=!1,O=E==16)}let x=!m&&f==1?[]:null,b=m?s:s+1,w=d;e:for(;;)if(g&&w==a[g-1].to){if(O)break e;let E=a[--g];if(!m)for(let k=E.from,Q=g;;){if(k==e)break e;if(Q&&a[Q-1].to==k)k=a[--Q].from;else{if(types[k-1]==f)break e;break}}if(x)x.push(E);else{E.to<d&&u.push(new BidiSpan(E.to,d,b));let k=E.direction==LTR!=!(b%2);computeSectionOrder(r,k?s+1:s,o,E.inner,E.from,E.to,u),d=E.from}w=E.from}else{if(w==e||(m?types[w-1]!=f:types[w-1]==f))break;w--}x?emitSpans(r,w,d,s+1,o,x,u):w<d&&u.push(new BidiSpan(w,d,b)),d=w}}function computeSectionOrder(r,e,n,s,o,a,u){let f=e%2?2:1;computeCharTypes(r,o,a,s,f),processBracketPairs(r,o,a,s,f),processNeutrals(o,a,s,f),emitSpans(r,o,a,e,n,s,u)}function computeOrder(r,e,n){if(!r)return[new BidiSpan(0,0,e==RTL?1:0)];if(e==LTR&&!n.length&&!BidiRE.test(r))return trivialOrder(r.length);if(n.length)for(;r.length>types.length;)types[types.length]=256;let s=[],o=e==LTR?0:1;return computeSectionOrder(r,o,o,n,0,r.length,s),s}function trivialOrder(r){return[new BidiSpan(0,r,0)]}let movedOver="";function moveVisually(r,e,n,s,o){var a;let u=s.head-r.from,f=BidiSpan.find(e,u,(a=s.bidiLevel)!==null&&a!==void 0?a:-1,s.assoc),d=e[f],g=d.side(o,n);if(u==g){let x=f+=o?1:-1;if(x<0||x>=e.length)return null;d=e[f=x],u=d.side(!o,n),g=d.side(o,n)}let m=findClusterBreak(r.text,u,d.forward(o,n));(m<d.from||m>d.to)&&(m=g),movedOver=r.text.slice(Math.min(u,m),Math.max(u,m));let O=f==(o?e.length-1:0)?null:e[f+(o?1:-1)];return O&&m==g&&O.level+(o?0:1)<d.level?EditorSelection.cursor(O.side(!o,n)+r.from,O.forward(o,n)?1:-1,O.level):EditorSelection.cursor(m+r.from,d.forward(o,n)?-1:1,d.level)}function autoDirection(r,e,n){for(let s=e;s<n;s++){let o=charType(r.charCodeAt(s));if(o==1)return LTR;if(o==2||o==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),clipboardInputFilter=Facet.define(),clipboardOutputFilter=Facet.define(),perLineTextDirection=Facet.define({combine:r=>r.some(e=>e)}),nativeSelectionHidden=Facet.define({combine:r=>r.some(e=>e)}),scrollHandler=Facet.define();class ScrollTarget{constructor(e,n="nearest",s="nearest",o=5,a=5,u=!1){this.range=e,this.y=n,this.x=s,this.yMargin=o,this.xMargin=a,this.isSnapshot=u}map(e){return e.empty?this:new ScrollTarget(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ScrollTarget(EditorSelection.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(r,e)=>r.map(e)}),setEditContextFormatting=StateEffect.define();function logException(r,e,n){let s=r.facet(exceptionSink);s.length?s[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const editable=Facet.define({combine:r=>r.length?r[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define();class ViewPlugin{constructor(e,n,s,o,a){this.id=e,this.create=n,this.domEventHandlers=s,this.domEventObservers=o,this.extension=a(this)}static define(e,n){const{eventHandlers:s,eventObservers:o,provide:a,decorations:u}=n||{};return new ViewPlugin(nextPluginID++,e,s,o,f=>{let d=[viewPlugin.of(f)];return u&&d.push(decorations.of(g=>{let m=g.plugin(f);return m?u(m):Decoration.none})),a&&d.push(a(f)),d})}static fromClass(e,n){return ViewPlugin.define(s=>new e(s),n)}}class PluginInstance{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(s){if(logException(n.state,s,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){logException(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(s){logException(e.state,s,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(r,e){let n=r.state.facet(bidiIsolatedRanges);if(!n.length)return n;let s=n.map(a=>a instanceof Function?a(r):a),o=[];return RangeSet.spans(s,e.from,e.to,{point(){},span(a,u,f,d){let g=a-e.from,m=u-e.from,O=o;for(let x=f.length-1;x>=0;x--,d--){let b=f[x].spec.bidiIsolate,w;if(b==null&&(b=autoDirection(e.text,g,m)),d>0&&O.length&&(w=O[O.length-1]).to==g&&w.direction==b)w.to=m,O=w.inner;else{let E={from:g,to:m,direction:b,inner:[]};O.push(E),O=E.inner}}}}),o}const scrollMargins=Facet.define();function getScrollMargins(r){let e=0,n=0,s=0,o=0;for(let a of r.state.facet(scrollMargins)){let u=a(r);u&&(u.left!=null&&(e=Math.max(e,u.left)),u.right!=null&&(n=Math.max(n,u.right)),u.top!=null&&(s=Math.max(s,u.top)),u.bottom!=null&&(o=Math.max(o,u.bottom)))}return{left:e,right:n,top:s,bottom:o}}const styleModule=Facet.define();class ChangedRange{constructor(e,n,s,o){this.fromA=e,this.toA=n,this.fromB=s,this.toB=o}join(e){return new ChangedRange(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,s=this;for(;n>0;n--){let o=e[n-1];if(!(o.fromA>s.toA)){if(o.toA<s.fromA)break;s=s.join(o),e.splice(n-1,1)}}return e.splice(n,0,s),e}static extendWithRanges(e,n){if(n.length==0)return e;let s=[];for(let o=0,a=0,u=0,f=0;;o++){let d=o==e.length?null:e[o],g=u-f,m=d?d.fromB:1e9;for(;a<n.length&&n[a]<m;){let O=n[a],x=n[a+1],b=Math.max(f,O),w=Math.min(m,x);if(b<=w&&new ChangedRange(b+g,w+g,b,w).addToSet(s),x>m)break;a+=2}if(!d)return s;new ChangedRange(d.fromA,d.toA,d.fromB,d.toB).addToSet(s),u=d.toA,f=d.toB}}}class ViewUpdate{constructor(e,n,s){this.view=e,this.state=n,this.transactions=s,this.flags=0,this.startState=e.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let a of s)this.changes=this.changes.compose(a.changes);let o=[];this.changes.iterChangedRanges((a,u,f,d)=>o.push(new ChangedRange(a,u,f,d))),this.changedRanges=o}static create(e,n,s){return new ViewUpdate(e,n,s)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class DocView extends ContentView{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let s=e.changedRanges;this.minWidth>0&&s.length&&(s.every(({fromA:g,toA:m})=>m<this.minWidthFrom||g>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let o=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?o=this.domChanged.newSel.head:!touchesComposition(e.changes,this.hasComposition)&&!e.selectionSet&&(o=e.state.selection.main.head));let a=o>-1?findCompositionRange(this.view,e.changes,o):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:g,to:m}=this.hasComposition;s=new ChangedRange(g,m,e.changes.mapPos(g,-1),e.changes.mapPos(m,1)).addToSet(s.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(browser.ie||browser.chrome)&&!a&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let u=this.decorations,f=this.updateDeco(),d=findChangedDeco(u,f,e.changes);return s=ChangedRange.extendWithRanges(s,d),!(this.flags&7)&&s.length==0?!1:(this.updateInner(s,e.startState.doc.length,a),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,s){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,s);let{observer:o}=this.view;o.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let u=browser.chrome||browser.ios?{node:o.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,u),this.flags&=-8,u&&(u.written||o.selectionRange.focusNode!=u.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(u=>u.flags&=-9);let a=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let u of this.children)u instanceof BlockWidgetView&&u.widget instanceof BlockGapWidget&&a.push(u.dom);o.updateGaps(a)}updateChildren(e,n,s){let o=s?s.range.addToSet(e.slice()):e,a=this.childCursor(n);for(let u=o.length-1;;u--){let f=u>=0?o[u]:null;if(!f)break;let{fromA:d,toA:g,fromB:m,toB:O}=f,x,b,w,E;if(s&&s.range.fromB<O&&s.range.toB>m){let $=ContentBuilder.build(this.view.state.doc,m,s.range.fromB,this.decorations,this.dynamicDecorationMap),_=ContentBuilder.build(this.view.state.doc,s.range.toB,O,this.decorations,this.dynamicDecorationMap);b=$.breakAtStart,w=$.openStart,E=_.openEnd;let j=this.compositionView(s);_.breakAtStart?j.breakAfter=1:_.content.length&&j.merge(j.length,j.length,_.content[0],!1,_.openStart,0)&&(j.breakAfter=_.content[0].breakAfter,_.content.shift()),$.content.length&&j.merge(0,0,$.content[$.content.length-1],!0,0,$.openEnd)&&$.content.pop(),x=$.content.concat(j).concat(_.content)}else({content:x,breakAtStart:b,openStart:w,openEnd:E}=ContentBuilder.build(this.view.state.doc,m,O,this.decorations,this.dynamicDecorationMap));let{i:k,off:Q}=a.findPos(g,1),{i:A,off:M}=a.findPos(d,-1);replaceRange(this,A,M,k,Q,x,b,w,E)}s&&this.fixCompositionDOM(s)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let s of n.effects)s.is(setEditContextFormatting)&&(this.editContextFormatting=s.value)}compositionView(e){let n=new TextView(e.text.nodeValue);n.flags|=8;for(let{deco:o}of e.marks)n=new MarkView(o,[n],n.length);let s=new LineView;return s.append(n,0),s}fixCompositionDOM(e){let n=(a,u)=>{u.flags|=8|(u.children.some(d=>d.flags&7)?1:0),this.markedForComposition.add(u);let f=ContentView.get(a);f&&f!=u&&(f.dom=null),u.setDOM(a)},s=this.childPos(e.range.fromB,1),o=this.children[s.i];n(e.line,o);for(let a=e.marks.length-1;a>=-1;a--)s=o.childPos(s.off,1),o=o.children[s.i],n(a>=0?e.marks[a].node:e.text,o)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let s=this.view.root.activeElement,o=s==this.dom,a=!o&&!(this.view.state.facet(editable)||this.dom.tabIndex>-1)&&hasSelection(this.dom,this.view.observer.selectionRange)&&!(s&&this.dom.contains(s));if(!(o||n||a))return;let u=this.forceSelection;this.forceSelection=!1;let f=this.view.state.selection.main,d=this.moveToLine(this.domAtPos(f.anchor)),g=f.empty?d:this.moveToLine(this.domAtPos(f.head));if(browser.gecko&&f.empty&&!this.hasComposition&&betweenUneditable(d)){let O=document.createTextNode("");this.view.observer.ignore(()=>d.node.insertBefore(O,d.node.childNodes[d.offset]||null)),d=g=new DOMPos(O,0),u=!0}let m=this.view.observer.selectionRange;(u||!m.focusNode||(!isEquivalentPosition(d.node,d.offset,m.anchorNode,m.anchorOffset)||!isEquivalentPosition(g.node,g.offset,m.focusNode,m.focusOffset))&&!this.suppressWidgetCursorChange(m,f))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(m.focusNode)&&inUneditable(m.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let O=getSelection(this.view.root);if(O)if(f.empty){if(browser.gecko){let x=nextToUneditable(d.node,d.offset);if(x&&x!=3){let b=(x==1?textNodeBefore:textNodeAfter)(d.node,d.offset);b&&(d=new DOMPos(b.node,b.offset))}}O.collapse(d.node,d.offset),f.bidiLevel!=null&&O.caretBidiLevel!==void 0&&(O.caretBidiLevel=f.bidiLevel)}else if(O.extend){O.collapse(d.node,d.offset);try{O.extend(g.node,g.offset)}catch{}}else{let x=document.createRange();f.anchor>f.head&&([d,g]=[g,d]),x.setEnd(g.node,g.offset),x.setStart(d.node,d.offset),O.removeAllRanges(),O.addRange(x)}a&&this.view.root.activeElement==this.dom&&(this.dom.blur(),s&&s.focus())}),this.view.observer.setSelectionRange(d,g)),this.impreciseAnchor=d.precise?null:new DOMPos(m.anchorNode,m.anchorOffset),this.impreciseHead=g.precise?null:new DOMPos(m.focusNode,m.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,s=getSelection(e.root),{anchorNode:o,anchorOffset:a}=e.observer.selectionRange;if(!s||!n.empty||!n.assoc||!s.modify)return;let u=LineView.find(this,n.head);if(!u)return;let f=u.posAtStart;if(n.head==f||n.head==f+u.length)return;let d=this.coordsAt(n.head,-1),g=this.coordsAt(n.head,1);if(!d||!g||d.bottom>g.top)return;let m=this.domAtPos(n.head+n.assoc);s.collapse(m.node,m.offset),s.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let O=e.observer.selectionRange;e.docView.posFromDOM(O.anchorNode,O.anchorOffset)!=n.from&&s.collapse(o,a)}moveToLine(e){let n=this.dom,s;if(e.node!=n)return e;for(let o=e.offset;!s&&o<n.childNodes.length;o++){let a=ContentView.get(n.childNodes[o]);a instanceof LineView&&(s=a.domAtPos(0))}for(let o=e.offset-1;!s&&o>=0;o--){let a=ContentView.get(n.childNodes[o]);a instanceof LineView&&(s=a.domAtPos(a.length))}return s?new DOMPos(s.node,s.offset,!0):e}nearest(e){for(let n=e;n;){let s=ContentView.get(n);if(s&&s.rootView==this)return s;n=n.parentNode}return null}posFromDOM(e,n){let s=this.nearest(e);if(!s)throw new RangeError("Trying to find position for a DOM position outside of the document");return s.localPosFromDOM(e,n)+s.posAtStart}domAtPos(e){let{i:n,off:s}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let o=this.children[n];if(s<o.length||o instanceof LineView)break;n++,s=0}return this.children[n].domAtPos(s)}coordsAt(e,n){let s=null,o=0;for(let a=this.length,u=this.children.length-1;u>=0;u--){let f=this.children[u],d=a-f.breakAfter,g=d-f.length;if(d<e)break;if(g<=e&&(g<e||f.covers(-1))&&(d>e||f.covers(1))&&(!s||f instanceof LineView&&!(s instanceof LineView&&n>=0)))s=f,o=g;else if(s&&g==e&&d==e&&f instanceof BlockWidgetView&&Math.abs(n)<2){if(f.deco.startSide<0)break;u&&(s=null)}a=g}return s?s.coordsAt(e-o,n):null}coordsForChar(e){let{i:n,off:s}=this.childPos(e,1),o=this.children[n];if(!(o instanceof LineView))return null;for(;o.children.length;){let{i:f,off:d}=o.childPos(s,1);for(;;f++){if(f==o.children.length)return null;if((o=o.children[f]).length)break}s=d}if(!(o instanceof TextView))return null;let a=findClusterBreak(o.text,s);if(a==s)return null;let u=textRange(o.dom,s,a).getClientRects();for(let f=0;f<u.length;f++){let d=u[f];if(f==u.length-1||d.top<d.bottom&&d.left<d.right)return d}return null}measureVisibleLineHeights(e){let n=[],{from:s,to:o}=e,a=this.view.contentDOM.clientWidth,u=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,f=-1,d=this.view.textDirection==Direction.LTR;for(let g=0,m=0;m<this.children.length;m++){let O=this.children[m],x=g+O.length;if(x>o)break;if(g>=s){let b=O.dom.getBoundingClientRect();if(n.push(b.height),u){let w=O.dom.lastChild,E=w?clientRectsFor(w):[];if(E.length){let k=E[E.length-1],Q=d?k.right-b.left:b.right-k.left;Q>f&&(f=Q,this.minWidth=a,this.minWidthFrom=g,this.minWidthTo=x)}}}g=x+O.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let a of this.children)if(a instanceof LineView){let u=a.measureTextSize();if(u)return u}let e=document.createElement("div"),n,s,o;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let a=clientRectsFor(e.firstChild)[0];n=e.getBoundingClientRect().height,s=a?a.width/27:7,o=a?a.height:n,e.remove()}),{lineHeight:n,charWidth:s,textHeight:o}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new ChildCursor(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let s=0,o=0;;o++){let a=o==n.viewports.length?null:n.viewports[o],u=a?a.from-1:this.length;if(u>s){let f=(n.lineBlockAt(u).bottom-n.lineBlockAt(s).top)/this.view.scaleY;e.push(Decoration.replace({widget:new BlockGapWidget(f),block:!0,inclusive:!0,isBlockGap:!0}).range(s,u))}if(!a)break;s=a.to+1}return Decoration.set(e)}updateDeco(){let e=1,n=this.view.state.facet(decorations).map(a=>(this.dynamicDecorationMap[e++]=typeof a=="function")?a(this.view):a),s=!1,o=this.view.state.facet(outerDecorations).map((a,u)=>{let f=typeof a=="function";return f&&(s=!0),f?a(this.view):a});for(o.length&&(this.dynamicDecorationMap[e++]=s,n.push(RangeSet.join(o))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let g=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=g.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let g of this.view.state.facet(scrollHandler))try{if(g(this.view,e.range,e))return!0}catch(m){logException(this.view.state,m,"scroll handler")}let{range:n}=e,s=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),o;if(!s)return;!n.empty&&(o=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(s={left:Math.min(s.left,o.left),top:Math.min(s.top,o.top),right:Math.max(s.right,o.right),bottom:Math.max(s.bottom,o.bottom)});let a=getScrollMargins(this.view),u={left:s.left-a.left,top:s.top-a.top,right:s.right+a.right,bottom:s.bottom+a.bottom},{offsetWidth:f,offsetHeight:d}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,u,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,f),-f),Math.max(Math.min(e.yMargin,d),-d),this.view.textDirection==Direction.LTR)}}function betweenUneditable(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}function findCompositionNode(r,e){let n=r.observer.selectionRange;if(!n.focusNode)return null;let s=textNodeBefore(n.focusNode,n.focusOffset),o=textNodeAfter(n.focusNode,n.focusOffset),a=s||o;if(o&&s&&o.node!=s.node){let f=ContentView.get(o.node);if(!f||f instanceof TextView&&f.text!=o.node.nodeValue)a=o;else if(r.docView.lastCompositionAfterCursor){let d=ContentView.get(s.node);!d||d instanceof TextView&&d.text!=s.node.nodeValue||(a=o)}}if(r.docView.lastCompositionAfterCursor=a!=s,!a)return null;let u=e-a.offset;return{from:u,to:u+a.node.nodeValue.length,node:a.node}}function findCompositionRange(r,e,n){let s=findCompositionNode(r,n);if(!s)return null;let{node:o,from:a,to:u}=s,f=o.nodeValue;if(/[\n\r]/.test(f)||r.state.doc.sliceString(s.from,s.to)!=f)return null;let d=e.invertedDesc,g=new ChangedRange(d.mapPos(a),d.mapPos(u),a,u),m=[];for(let O=o.parentNode;;O=O.parentNode){let x=ContentView.get(O);if(x instanceof MarkView)m.push({node:O,deco:x.mark});else{if(x instanceof LineView||O.nodeName=="DIV"&&O.parentNode==r.contentDOM)return{range:g,text:o,marks:m,line:O};if(O!=r.contentDOM)m.push({node:O,deco:new MarkDecoration({inclusive:!0,attributes:getAttrs(O),tagName:O.tagName.toLowerCase()})});else return null}}}function nextToUneditable(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange(e,n){addRange(e,n,this.changes)}comparePoint(e,n){addRange(e,n,this.changes)}boundChange(e){addRange(e,e,this.changes)}};function findChangedDeco(r,e,n){let s=new DecorationComparator$1;return RangeSet.compare(r,e,n,s),s.changes}function inUneditable(r,e){for(let n=r;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function touchesComposition(r,e){let n=!1;return e&&r.iterChangedRanges((s,o)=>{s<e.to&&o>e.from&&(n=!0)}),n}function groupAt(r,e,n=1){let s=r.charCategorizer(e),o=r.doc.lineAt(e),a=e-o.from;if(o.length==0)return EditorSelection.cursor(e);a==0?n=1:a==o.length&&(n=-1);let u=a,f=a;n<0?u=findClusterBreak(o.text,a,!1):f=findClusterBreak(o.text,a);let d=s(o.text.slice(u,f));for(;u>0;){let g=findClusterBreak(o.text,u,!1);if(s(o.text.slice(g,u))!=d)break;u=g}for(;f<o.length;){let g=findClusterBreak(o.text,f);if(s(o.text.slice(f,g))!=d)break;f=g}return EditorSelection.range(u+o.from,f+o.from)}function getdx(r,e){return e.left>r?e.left-r:Math.max(0,r-e.right)}function getdy(r,e){return e.top>r?e.top-r:Math.max(0,r-e.bottom)}function yOverlap(r,e){return r.top<e.bottom-1&&r.bottom>e.top+1}function upTop(r,e){return e<r.top?{top:e,left:r.left,right:r.right,bottom:r.bottom}:r}function upBot(r,e){return e>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:e}:r}function domPosAtCoords(r,e,n){let s,o,a,u,f=!1,d,g,m,O;for(let w=r.firstChild;w;w=w.nextSibling){let E=clientRectsFor(w);for(let k=0;k<E.length;k++){let Q=E[k];o&&yOverlap(o,Q)&&(Q=upTop(upBot(Q,o.bottom),o.top));let A=getdx(e,Q),M=getdy(n,Q);if(A==0&&M==0)return w.nodeType==3?domPosInText(w,e,n):domPosAtCoords(w,e,n);if(!s||u>M||u==M&&a>A){s=w,o=Q,a=A,u=M;let $=M?n<Q.top?-1:1:A?e<Q.left?-1:1:0;f=!$||($>0?k<E.length-1:k>0)}A==0?n>Q.bottom&&(!m||m.bottom<Q.bottom)?(d=w,m=Q):n<Q.top&&(!O||O.top>Q.top)&&(g=w,O=Q):m&&yOverlap(m,Q)?m=upBot(m,Q.bottom):O&&yOverlap(O,Q)&&(O=upTop(O,Q.top))}}if(m&&m.bottom>=n?(s=d,o=m):O&&O.top<=n&&(s=g,o=O),!s)return{node:r,offset:0};let x=Math.max(o.left,Math.min(o.right,e));if(s.nodeType==3)return domPosInText(s,x,n);if(f&&s.contentEditable!="false")return domPosAtCoords(s,x,n);let b=Array.prototype.indexOf.call(r.childNodes,s)+(e>=(o.left+o.right)/2?1:0);return{node:r,offset:b}}function domPosInText(r,e,n){let s=r.nodeValue.length,o=-1,a=1e9,u=0;for(let f=0;f<s;f++){let d=textRange(r,f,f+1).getClientRects();for(let g=0;g<d.length;g++){let m=d[g];if(m.top==m.bottom)continue;u||(u=e-m.left);let O=(m.top>n?m.top-n:n-m.bottom)-1;if(m.left-1<=e&&m.right+1>=e&&O<a){let x=e>=(m.left+m.right)/2,b=x;if((browser.chrome||browser.gecko)&&textRange(r,f).getBoundingClientRect().left==m.right&&(b=!x),O<=0)return{node:r,offset:f+(b?1:0)};o=f+(b?1:0),a=O}}}return{node:r,offset:o>-1?o:u>0?r.nodeValue.length:0}}function posAtCoords(r,e,n,s=-1){var o,a;let u=r.contentDOM.getBoundingClientRect(),f=u.top+r.viewState.paddingTop,d,{docHeight:g}=r.viewState,{x:m,y:O}=e,x=O-f;if(x<0)return 0;if(x>g)return r.state.doc.length;for(let $=r.viewState.heightOracle.textHeight/2,_=!1;d=r.elementAtHeight(x),d.type!=BlockType.Text;)for(;x=s>0?d.bottom+$:d.top-$,!(x>=0&&x<=g);){if(_)return n?null:0;_=!0,s=-s}O=f+x;let b=d.from;if(b<r.viewport.from)return r.viewport.from==0?0:n?null:posAtCoordsImprecise(r,u,d,m,O);if(b>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:n?null:posAtCoordsImprecise(r,u,d,m,O);let w=r.dom.ownerDocument,E=r.root.elementFromPoint?r.root:w,k=E.elementFromPoint(m,O);k&&!r.contentDOM.contains(k)&&(k=null),k||(m=Math.max(u.left+1,Math.min(u.right-1,m)),k=E.elementFromPoint(m,O),k&&!r.contentDOM.contains(k)&&(k=null));let Q,A=-1;if(k&&((o=r.docView.nearest(k))===null||o===void 0?void 0:o.isEditable)!=!1){if(w.caretPositionFromPoint){let $=w.caretPositionFromPoint(m,O);$&&({offsetNode:Q,offset:A}=$)}else if(w.caretRangeFromPoint){let $=w.caretRangeFromPoint(m,O);$&&({startContainer:Q,startOffset:A}=$,(!r.contentDOM.contains(Q)||browser.safari&&isSuspiciousSafariCaretResult(Q,A,m)||browser.chrome&&isSuspiciousChromeCaretResult(Q,A,m))&&(Q=void 0))}Q&&(A=Math.min(maxOffset(Q),A))}if(!Q||!r.docView.dom.contains(Q)){let $=LineView.find(r.docView,b);if(!$)return x>d.top+d.height/2?d.to:d.from;({node:Q,offset:A}=domPosAtCoords($.dom,m,O))}let M=r.docView.nearest(Q);if(!M)return null;if(M.isWidget&&((a=M.dom)===null||a===void 0?void 0:a.nodeType)==1){let $=M.dom.getBoundingClientRect();return e.y<$.top||e.y<=$.bottom&&e.x<=($.left+$.right)/2?M.posAtStart:M.posAtEnd}else return M.localPosFromDOM(Q,A)+M.posAtStart}function posAtCoordsImprecise(r,e,n,s,o){let a=Math.round((s-e.left)*r.defaultCharacterWidth);if(r.lineWrapping&&n.height>r.defaultLineHeight*1.5){let f=r.viewState.heightOracle.textHeight,d=Math.floor((o-n.top-(r.defaultLineHeight-f)*.5)/f);a+=d*r.viewState.heightOracle.lineLength}let u=r.state.sliceDoc(n.from,n.to);return n.from+findColumn(u,a,r.state.tabSize)}function isSuspiciousSafariCaretResult(r,e,n){let s;if(r.nodeType!=3||e!=(s=r.nodeValue.length))return!1;for(let o=r.nextSibling;o;o=o.nextSibling)if(o.nodeType!=1||o.nodeName!="BR")return!1;return textRange(r,s-1,s).getBoundingClientRect().left>n}function isSuspiciousChromeCaretResult(r,e,n){if(e!=0)return!1;for(let o=r;;){let a=o.parentNode;if(!a||a.nodeType!=1||a.firstChild!=o)return!1;if(a.classList.contains("cm-line"))break;o=a}let s=r.nodeType==1?r.getBoundingClientRect():textRange(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return n-s.left>5}function blockAt(r,e){let n=r.lineBlockAt(e);if(Array.isArray(n.type)){for(let s of n.type)if(s.to>e||s.to==e&&(s.to==n.to||s.type==BlockType.Text))return s}return n}function moveToLineBoundary(r,e,n,s){let o=blockAt(r,e.head),a=!s||o.type!=BlockType.Text||!(r.lineWrapping||o.widgetLineBreaks)?null:r.coordsAtPos(e.assoc<0&&e.head>o.from?e.head-1:e.head);if(a){let u=r.dom.getBoundingClientRect(),f=r.textDirectionAt(o.from),d=r.posAtCoords({x:n==(f==Direction.LTR)?u.right-1:u.left+1,y:(a.top+a.bottom)/2});if(d!=null)return EditorSelection.cursor(d,n?-1:1)}return EditorSelection.cursor(n?o.to:o.from,n?-1:1)}function moveByChar(r,e,n,s){let o=r.state.doc.lineAt(e.head),a=r.bidiSpans(o),u=r.textDirectionAt(o.from);for(let f=e,d=null;;){let g=moveVisually(o,a,u,f,n),m=movedOver;if(!g){if(o.number==(n?r.state.doc.lines:1))return f;m=`
`,o=r.state.doc.line(o.number+(n?1:-1)),a=r.bidiSpans(o),g=r.visualLineSide(o,!n)}if(d){if(!d(m))return f}else{if(!s)return g;d=s(m)}f=g}}function byGroup(r,e,n){let s=r.state.charCategorizer(e),o=s(n);return a=>{let u=s(a);return o==CharCategory.Space&&(o=u),o==u}}function moveVertically(r,e,n,s){let o=e.head,a=n?1:-1;if(o==(n?r.state.doc.length:0))return EditorSelection.cursor(o,e.assoc);let u=e.goalColumn,f,d=r.contentDOM.getBoundingClientRect(),g=r.coordsAtPos(o,e.assoc||-1),m=r.documentTop;if(g)u==null&&(u=g.left-d.left),f=a<0?g.top:g.bottom;else{let b=r.viewState.lineBlockAt(o);u==null&&(u=Math.min(d.right-d.left,r.defaultCharacterWidth*(o-b.from))),f=(a<0?b.top:b.bottom)+m}let O=d.left+u,x=s??r.viewState.heightOracle.textHeight>>1;for(let b=0;;b+=10){let w=f+(x+b)*a,E=posAtCoords(r,{x:O,y:w},!1,a);if(w<d.top||w>d.bottom||(a<0?E<o:E>o)){let k=r.docView.coordsForChar(E),Q=!k||w<k.top?-1:1;return EditorSelection.cursor(E,Q,void 0,u)}}}function skipAtomicRanges(r,e,n){for(;;){let s=0;for(let o of r)o.between(e-1,e+1,(a,u,f)=>{if(e>a&&e<u){let d=s||n||(e-a<u-e?-1:1);e=d<0?a:u,s=d}});if(!s)return e}}function skipAtoms(r,e,n){let s=skipAtomicRanges(r.state.facet(atomicRanges).map(o=>o(r)),n.from,e.head>n.from?-1:1);return s==n.from?n:EditorSelection.cursor(s,s<n.from?1:-1)}const LineBreakPlaceholder="";class DOMReader{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(EditorState.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=LineBreakPlaceholder}readRange(e,n){if(!e)return this;let s=e.parentNode;for(let o=e;;){this.findPointBefore(s,o);let a=this.text.length;this.readNode(o);let u=o.nextSibling;if(u==n)break;let f=ContentView.get(o),d=ContentView.get(u);(f&&d?f.breakAfter:(f?f.breakAfter:isBlockElement(o))||isBlockElement(u)&&(o.nodeName!="BR"||o.cmIgnore)&&this.text.length>a)&&this.lineBreak(),o=u}return this.findPointBefore(s,n),this}readTextNode(e){let n=e.nodeValue;for(let s of this.points)s.node==e&&(s.pos=this.text.length+Math.min(s.offset,n.length));for(let s=0,o=this.lineSeparator?null:/\r\n?|\n/g;;){let a=-1,u=1,f;if(this.lineSeparator?(a=n.indexOf(this.lineSeparator,s),u=this.lineSeparator.length):(f=o.exec(n))&&(a=f.index,u=f[0].length),this.append(n.slice(s,a<0?n.length:a)),a<0)break;if(this.lineBreak(),u>1)for(let d of this.points)d.node==e&&d.pos>this.text.length&&(d.pos-=u-1);s=a+u}}readNode(e){if(e.cmIgnore)return;let n=ContentView.get(e),s=n&&n.overrideDOMText;if(s!=null){this.findPointInside(e,s.length);for(let o=s.iter();!o.next().done;)o.lineBreak?this.lineBreak():this.append(o.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let s of this.points)s.node==e&&e.childNodes[s.offset]==n&&(s.pos=this.text.length)}findPointInside(e,n){for(let s of this.points)(e.nodeType==3?s.node==e:e.contains(s.node))&&(s.pos=this.text.length+(isAtEnd(e,s.node,s.offset)?n:0))}}function isAtEnd(r,e,n){for(;;){if(!e||n<maxOffset(e))return!1;if(e==r)return!0;n=domIndex(e)+1,e=e.parentNode}}class DOMPoint{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class DOMChange{constructor(e,n,s,o){this.typeOver=o,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:a,impreciseAnchor:u}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,s,0))){let f=a||u?[]:selectionPoints(e),d=new DOMReader(f,e.state);d.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=d.text,this.newSel=selectionFromPoints(f,this.bounds.from)}else{let f=e.observer.selectionRange,d=a&&a.node==f.focusNode&&a.offset==f.focusOffset||!contains(e.contentDOM,f.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(f.focusNode,f.focusOffset),g=u&&u.node==f.anchorNode&&u.offset==f.anchorOffset||!contains(e.contentDOM,f.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(f.anchorNode,f.anchorOffset),m=e.viewport;if((browser.ios||browser.chrome)&&e.state.selection.main.empty&&d!=g&&(m.from>0||m.to<e.state.doc.length)){let O=Math.min(d,g),x=Math.max(d,g),b=m.from-O,w=m.to-x;(b==0||b==1||O==0)&&(w==0||w==-1||x==e.state.doc.length)&&(d=0,g=e.state.doc.length)}this.newSel=EditorSelection.single(g,d)}}}function applyDOMChange(r,e){let n,{newSel:s}=e,o=r.state.selection.main,a=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(e.bounds){let{from:u,to:f}=e.bounds,d=o.from,g=null;(a===8||browser.android&&e.text.length<f-u)&&(d=o.to,g="end");let m=findDiff(r.state.doc.sliceString(u,f,LineBreakPlaceholder),e.text,d-u,g);m&&(browser.chrome&&a==13&&m.toB==m.from+2&&e.text.slice(m.from,m.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&m.toB--,n={from:u+m.from,to:u+m.toA,insert:Text.of(e.text.slice(m.from,m.toB).split(LineBreakPlaceholder))})}else s&&(!r.hasFocus&&r.state.facet(editable)||s.main.eq(o))&&(s=null);if(!n&&!s)return!1;if(!n&&e.typeOver&&!o.empty&&s&&s.main.empty?n={from:o.from,to:o.to,insert:r.state.doc.slice(o.from,o.to)}:(browser.mac||browser.android)&&n&&n.from==n.to&&n.from==o.head-1&&/^\. ?$/.test(n.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(s&&n.insert.length==2&&(s=EditorSelection.single(s.main.anchor-1,s.main.head-1)),n={from:n.from,to:n.to,insert:Text.of([n.insert.toString().replace("."," ")])}):n&&n.from>=o.from&&n.to<=o.to&&(n.from!=o.from||n.to!=o.to)&&o.to-o.from-(n.to-n.from)<=4?n={from:o.from,to:o.to,insert:r.state.doc.slice(o.from,n.from).append(n.insert).append(r.state.doc.slice(n.to,o.to))}:browser.chrome&&n&&n.from==n.to&&n.from==o.head&&n.insert.toString()==`
 `&&r.lineWrapping&&(s&&(s=EditorSelection.single(s.main.anchor-1,s.main.head-1)),n={from:o.from,to:o.to,insert:Text.of([" "])}),n)return applyDOMChangeInner(r,n,s,a);if(s&&!s.main.eq(o)){let u=!1,f="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(u=!0),f=r.inputState.lastSelectionOrigin),r.dispatch({selection:s,scrollIntoView:u,userEvent:f}),!0}else return!1}function applyDOMChangeInner(r,e,n,s=-1){if(browser.ios&&r.inputState.flushIOSKey(e))return!0;let o=r.state.selection.main;if(browser.android&&(e.to==o.to&&(e.from==o.from||e.from==o.from-1&&r.state.sliceDoc(e.from,o.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&dispatchKey(r.contentDOM,"Enter",13)||(e.from==o.from-1&&e.to==o.to&&e.insert.length==0||s==8&&e.insert.length<e.to-e.from&&e.to>o.head)&&dispatchKey(r.contentDOM,"Backspace",8)||e.from==o.from&&e.to==o.to+1&&e.insert.length==0&&dispatchKey(r.contentDOM,"Delete",46)))return!0;let a=e.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let u,f=()=>u||(u=applyDefaultInsert(r,e,n));return r.state.facet(inputHandler$1).some(d=>d(r,e.from,e.to,a,f))||r.dispatch(f()),!0}function applyDefaultInsert(r,e,n){let s,o=r.state,a=o.selection.main;if(e.from>=a.from&&e.to<=a.to&&e.to-e.from>=(a.to-a.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&r.inputState.composing<0){let f=a.from<e.from?o.sliceDoc(a.from,e.from):"",d=a.to>e.to?o.sliceDoc(e.to,a.to):"";s=o.replaceSelection(r.state.toText(f+e.insert.sliceString(0,void 0,r.state.lineBreak)+d))}else{let f=o.changes(e),d=n&&n.main.to<=f.newLength?n.main:void 0;if(o.selection.ranges.length>1&&r.inputState.composing>=0&&e.to<=a.to&&e.to>=a.to-10){let g=r.state.sliceDoc(e.from,e.to),m,O=n&&findCompositionNode(r,n.main.head);if(O){let w=e.insert.length-(e.to-e.from);m={from:O.from,to:O.to-w}}else m=r.state.doc.lineAt(a.head);let x=a.to-e.to,b=a.to-a.from;s=o.changeByRange(w=>{if(w.from==a.from&&w.to==a.to)return{changes:f,range:d||w.map(f)};let E=w.to-x,k=E-g.length;if(w.to-w.from!=b||r.state.sliceDoc(k,E)!=g||w.to>=m.from&&w.from<=m.to)return{range:w};let Q=o.changes({from:k,to:E,insert:e.insert}),A=w.to-a.to;return{changes:Q,range:d?EditorSelection.range(Math.max(0,d.anchor+A),Math.max(0,d.head+A)):w.map(Q)}})}else s={changes:f,selection:d&&o.selection.replaceRange(d)}}let u="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,u+=".compose",r.inputState.compositionFirstChange&&(u+=".start",r.inputState.compositionFirstChange=!1)),o.update(s,{userEvent:u,scrollIntoView:!0})}function findDiff(r,e,n,s){let o=Math.min(r.length,e.length),a=0;for(;a<o&&r.charCodeAt(a)==e.charCodeAt(a);)a++;if(a==o&&r.length==e.length)return null;let u=r.length,f=e.length;for(;u>0&&f>0&&r.charCodeAt(u-1)==e.charCodeAt(f-1);)u--,f--;if(s=="end"){let d=Math.max(0,a-Math.min(u,f));n-=u+d-a}if(u<a&&r.length<e.length){let d=n<=a&&n>=u?a-n:0;a-=d,f=a+(f-u),u=a}else if(f<a){let d=n<=a&&n>=f?a-n:0;a-=d,u=a+(u-f),f=a}return{from:a,toA:u,toB:f}}function selectionPoints(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:n,anchorOffset:s,focusNode:o,focusOffset:a}=r.observer.selectionRange;return n&&(e.push(new DOMPoint(n,s)),(o!=n||a!=s)&&e.push(new DOMPoint(o,a))),e}function selectionFromPoints(r,e){if(r.length==0)return null;let n=r[0].pos,s=r.length==2?r[1].pos:n;return n>-1&&s>-1?EditorSelection.single(n+e,s+e):null}class InputState{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,browser.safari&&e.contentDOM.addEventListener("input",()=>null),browser.gecko&&firefoxCopyCutHack(e.contentDOM.ownerDocument)}handleEvent(e){!eventBelongsToEditor(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,n){let s=this.handlers[e];if(s){for(let o of s.observers)o(this.view,n);for(let o of s.handlers){if(n.defaultPrevented)break;if(o(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=computeHandlers(e),s=this.handlers,o=this.view.contentDOM;for(let a in n)if(a!="scroll"){let u=!n[a].handlers.length,f=s[a];f&&u!=!f.handlers.length&&(o.removeEventListener(a,this.handleEvent),f=null),f||o.addEventListener(a,this.handleEvent,{passive:u})}for(let a in s)a!="scroll"&&!n[a]&&o.removeEventListener(a,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&modifierCodes.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),browser.android&&browser.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return browser.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=PendingKeys.find(s=>s.keyCode==e.keyCode))&&!e.ctrlKey||EmacsyPendingKeys.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:browser.safari&&!browser.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(r,e){return(n,s)=>{try{return e.call(r,s,n)}catch(o){logException(n.state,o)}}}function computeHandlers(r){let e=Object.create(null);function n(s){return e[s]||(e[s]={observers:[],handlers:[]})}for(let s of r){let o=s.spec;if(o&&o.domEventHandlers)for(let a in o.domEventHandlers){let u=o.domEventHandlers[a];u&&n(a).handlers.push(bindHandler(s.value,u))}if(o&&o.domEventObservers)for(let a in o.domEventObservers){let u=o.domEventObservers[a];u&&n(a).observers.push(bindHandler(s.value,u))}}for(let s in handlers)n(s).handlers.push(handlers[s]);for(let s in observers)n(s).observers.push(observers[s]);return e}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(r){return Math.max(0,r)*.7+8}function dist(r,e){return Math.max(Math.abs(r.clientX-e.clientX),Math.abs(r.clientY-e.clientY))}class MouseSelection{constructor(e,n,s,o){this.view=e,this.startEvent=n,this.style=s,this.mustSelect=o,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=scrollableParents(e.contentDOM),this.atoms=e.state.facet(atomicRanges).map(u=>u(e));let a=e.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(e,n),this.dragging=isInPrimarySelection(e,n)&&getClickType(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,s=0,o=0,a=0,u=this.view.win.innerWidth,f=this.view.win.innerHeight;this.scrollParents.x&&({left:o,right:u}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:f}=this.scrollParents.y.getBoundingClientRect());let d=getScrollMargins(this.view);e.clientX-d.left<=o+dragScrollMargin?n=-dragScrollSpeed(o-e.clientX):e.clientX+d.right>=u-dragScrollMargin&&(n=dragScrollSpeed(e.clientX-u)),e.clientY-d.top<=a+dragScrollMargin?s=-dragScrollSpeed(a-e.clientY):e.clientY+d.bottom>=f-dragScrollMargin&&(s=dragScrollSpeed(e.clientY-f)),this.setScrollSpeed(n,s)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let s=0;s<e.ranges.length;s++){let o=e.ranges[s],a=null;if(o.empty){let u=skipAtomicRanges(this.atoms,o.from,0);u!=o.from&&(a=EditorSelection.cursor(u,-1))}else{let u=skipAtomicRanges(this.atoms,o.from,-1),f=skipAtomicRanges(this.atoms,o.to,1);(u!=o.from||f!=o.to)&&(a=EditorSelection.range(o.from==o.anchor?u:f,o.from==o.head?u:f))}a&&(n||(n=e.ranges.slice()),n[s]=a)}return n?EditorSelection.create(n,e.mainIndex):e}select(e){let{view:n}=this,s=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!s.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:s,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(r,e){let n=r.state.facet(clickAddsSelectionRange);return n.length?n[0](e):browser.mac?e.metaKey:e.ctrlKey}function dragMovesSelection(r,e){let n=r.state.facet(dragMovesSelection$1);return n.length?n[0](e):browser.mac?!e.altKey:!e.ctrlKey}function isInPrimarySelection(r,e){let{main:n}=r.state.selection;if(n.empty)return!1;let s=getSelection(r.root);if(!s||s.rangeCount==0)return!0;let o=s.getRangeAt(0).getClientRects();for(let a=0;a<o.length;a++){let u=o[a];if(u.left<=e.clientX&&u.right>=e.clientX&&u.top<=e.clientY&&u.bottom>=e.clientY)return!0}return!1}function eventBelongsToEditor(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,s;n!=r.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(s=ContentView.get(n))&&s.ignoreEvent(e))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(r){let e=r.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{r.focus(),n.remove(),doPaste(r,n.value)},50)}function textFilter(r,e,n){for(let s of r.facet(e))n=s(n,r);return n}function doPaste(r,e){e=textFilter(r.state,clipboardInputFilter,e);let{state:n}=r,s,o=1,a=n.toText(e),u=a.lines==n.selection.ranges.length;if(lastLinewiseCopy!=null&&n.selection.ranges.every(d=>d.empty)&&lastLinewiseCopy==a.toString()){let d=-1;s=n.changeByRange(g=>{let m=n.doc.lineAt(g.from);if(m.from==d)return{range:g};d=m.from;let O=n.toText((u?a.line(o++).text:e)+n.lineBreak);return{changes:{from:m.from,insert:O},range:EditorSelection.cursor(g.from+O.length)}})}else u?s=n.changeByRange(d=>{let g=a.line(o++);return{changes:{from:d.from,to:d.to,insert:g.text},range:EditorSelection.cursor(d.from+g.length)}}):s=n.replaceSelection(a);r.dispatch(s,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};handlers.keydown=(r,e)=>(r.inputState.setSelectionOrigin("select"),e.keyCode==27&&r.inputState.tabFocusMode!=0&&(r.inputState.tabFocusMode=Date.now()+2e3),!1);observers.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};handlers.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let s of r.state.facet(mouseSelectionStyle))if(n=s(r,e),n)break;if(!n&&e.button==0&&(n=basicMouseSelection(r,e)),n){let s=!r.hasFocus;r.inputState.startMouseSelection(new MouseSelection(r,e,n,s)),s&&r.observer.ignore(()=>{focusPreventScroll(r.contentDOM);let a=r.root.activeElement;a&&!a.contains(r.contentDOM)&&a.blur()});let o=r.inputState.mouseSelection;if(o)return o.start(e),o.dragging===!1}return!1};function rangeForClick(r,e,n,s){if(s==1)return EditorSelection.cursor(e,n);if(s==2)return groupAt(r.state,e,n);{let o=LineView.find(r.docView,e),a=r.state.doc.lineAt(o?o.posAtEnd:e),u=o?o.posAtStart:a.from,f=o?o.posAtEnd:a.to;return f<r.state.doc.length&&f==a.to&&f++,EditorSelection.range(u,f)}}let inside=(r,e,n)=>e>=n.top&&e<=n.bottom&&r>=n.left&&r<=n.right;function findPositionSide(r,e,n,s){let o=LineView.find(r.docView,e);if(!o)return 1;let a=e-o.posAtStart;if(a==0)return 1;if(a==o.length)return-1;let u=o.coordsAt(a,-1);if(u&&inside(n,s,u))return-1;let f=o.coordsAt(a,1);return f&&inside(n,s,f)?1:u&&u.bottom>=s?-1:1}function queryPos(r,e){let n=r.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:findPositionSide(r,n,e.clientX,e.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(r){if(!BadMouseDetail)return r.detail;let e=lastMouseDown,n=lastMouseDownTime;return lastMouseDown=r,lastMouseDownTime=Date.now(),lastMouseDownCount=!e||n>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(r,e){let n=queryPos(r,e),s=getClickType(e),o=r.state.selection;return{update(a){a.docChanged&&(n.pos=a.changes.mapPos(n.pos),o=o.map(a.changes))},get(a,u,f){let d=queryPos(r,a),g,m=rangeForClick(r,d.pos,d.bias,s);if(n.pos!=d.pos&&!u){let O=rangeForClick(r,n.pos,n.bias,s),x=Math.min(O.from,m.from),b=Math.max(O.to,m.to);m=x<m.from?EditorSelection.range(x,b):EditorSelection.range(b,x)}return u?o.replaceRange(o.main.extend(m.from,m.to)):f&&s==1&&o.ranges.length>1&&(g=removeRangeAround(o,d.pos))?g:f?o.addRange(m):EditorSelection.create([m])}}}function removeRangeAround(r,e){for(let n=0;n<r.ranges.length;n++){let{from:s,to:o}=r.ranges[n];if(s<=e&&o>=e)return EditorSelection.create(r.ranges.slice(0,n).concat(r.ranges.slice(n+1)),r.mainIndex==n?0:r.mainIndex-(r.mainIndex>n?1:0))}return null}handlers.dragstart=(r,e)=>{let{selection:{main:n}}=r.state;if(e.target.draggable){let o=r.docView.nearest(e.target);if(o&&o.isWidget){let a=o.posAtStart,u=a+o.length;(a>=n.to||u<=n.from)&&(n=EditorSelection.range(a,u))}}let{inputState:s}=r;return s.mouseSelection&&(s.mouseSelection.dragging=!0),s.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",textFilter(r.state,clipboardOutputFilter,r.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};handlers.dragend=r=>(r.inputState.draggedContent=null,!1);function dropText(r,e,n,s){if(n=textFilter(r.state,clipboardInputFilter,n),!n)return;let o=r.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:a}=r.inputState,u=s&&a&&dragMovesSelection(r,e)?{from:a.from,to:a.to}:null,f={from:o,insert:n},d=r.state.changes(u?[u,f]:f);r.focus(),r.dispatch({changes:d,selection:{anchor:d.mapPos(o,-1),head:d.mapPos(o,1)},userEvent:u?"move.drop":"input.drop"}),r.inputState.draggedContent=null}handlers.drop=(r,e)=>{if(!e.dataTransfer)return!1;if(r.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let s=Array(n.length),o=0,a=()=>{++o==n.length&&dropText(r,e,s.filter(u=>u!=null).join(r.state.lineBreak),!1)};for(let u=0;u<n.length;u++){let f=new FileReader;f.onerror=a,f.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(f.result)||(s[u]=f.result),a()},f.readAsText(n[u])}return!0}else{let s=e.dataTransfer.getData("Text");if(s)return dropText(r,e,s,!0),!0}return!1};handlers.paste=(r,e)=>{if(r.state.readOnly)return!0;r.observer.flush();let n=brokenClipboardAPI?null:e.clipboardData;return n?(doPaste(r,n.getData("text/plain")||n.getData("text/uri-list")),!0):(capturePaste(r),!1)};function captureCopy(r,e){let n=r.dom.parentNode;if(!n)return;let s=n.appendChild(document.createElement("textarea"));s.style.cssText="position: fixed; left: -10000px; top: 10px",s.value=e,s.focus(),s.selectionEnd=e.length,s.selectionStart=0,setTimeout(()=>{s.remove(),r.focus()},50)}function copiedRange(r){let e=[],n=[],s=!1;for(let o of r.selection.ranges)o.empty||(e.push(r.sliceDoc(o.from,o.to)),n.push(o));if(!e.length){let o=-1;for(let{from:a}of r.selection.ranges){let u=r.doc.lineAt(a);u.number>o&&(e.push(u.text),n.push({from:u.from,to:Math.min(r.doc.length,u.to+1)})),o=u.number}s=!0}return{text:textFilter(r,clipboardOutputFilter,e.join(r.lineBreak)),ranges:n,linewise:s}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(r,e)=>{let{text:n,ranges:s,linewise:o}=copiedRange(r.state);if(!n&&!o)return!1;lastLinewiseCopy=o?n:null,e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:s,scrollIntoView:!0,userEvent:"delete.cut"});let a=brokenClipboardAPI?null:e.clipboardData;return a?(a.clearData(),a.setData("text/plain",n),!0):(captureCopy(r,n),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(r,e){let n=[];for(let s of r.facet(focusChangeEffect)){let o=s(r,e);o&&n.push(o)}return n?r.update({effects:n,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(r){setTimeout(()=>{let e=r.hasFocus;if(e!=r.inputState.notifiedFocused){let n=focusChangeTransaction(r.state,e);n?r.dispatch(n):r.update([])}},10)}observers.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),updateForFocusChange(r)};observers.blur=r=>{r.observer.clearSelectionRange(),updateForFocusChange(r)};observers.compositionstart=observers.compositionupdate=r=>{r.observer.editContext||(r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0))};observers.compositionend=r=>{r.observer.editContext||(r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,browser.chrome&&browser.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50))};observers.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(r,e)=>{var n,s;if(e.inputType=="insertReplacementText"&&r.observer.editContext){let a=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),u=e.getTargetRanges();if(a&&u.length){let f=u[0],d=r.posAtDOM(f.startContainer,f.startOffset),g=r.posAtDOM(f.endContainer,f.endOffset);return applyDOMChangeInner(r,{from:d,to:g,insert:r.state.toText(a)},null),!0}}let o;if(browser.chrome&&browser.android&&(o=PendingKeys.find(a=>a.inputType==e.inputType))&&(r.observer.delayAndroidKey(o.key,o.keyCode),o.key=="Backspace"||o.key=="Delete")){let a=((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0;setTimeout(()=>{var u;(((u=window.visualViewport)===null||u===void 0?void 0:u.height)||0)>a+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return browser.ios&&e.inputType=="deleteContentForward"&&r.observer.flushSoon(),browser.safari&&e.inputType=="insertText"&&r.inputState.composing>=0&&setTimeout(()=>observers.compositionend(r,e),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(r){appliedFirefoxHack.has(r)||(appliedFirefoxHack.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];let heightChangeFlag=!1;function clearHeightChangeFlag(){heightChangeFlag=!1}class HeightOracle{constructor(e){this.lineWrapping=e,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let s=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(s+=Math.max(0,Math.ceil((n-e-s*this.lineLength*.5)/this.lineLength))),this.lineHeight*s}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return wrappingWhiteSpace.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let s=0;s<e.length;s++){let o=e[s];o<0?s++:this.heightSamples[Math.floor(o*10)]||(n=!0,this.heightSamples[Math.floor(o*10)]=!0)}return n}refresh(e,n,s,o,a,u){let f=wrappingWhiteSpace.indexOf(e)>-1,d=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=f;if(this.lineWrapping=f,this.lineHeight=n,this.charWidth=s,this.textHeight=o,this.lineLength=a,d){this.heightSamples={};for(let g=0;g<u.length;g++){let m=u[g];m<0?g++:this.heightSamples[Math.floor(m*10)]=!0}}return d}}class MeasuredHeights{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(e,n,s,o,a){this.from=e,this.length=n,this.top=s,this.height=o,this._content=a}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new BlockInfo(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var QueryType$1=function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r}(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(e,n,s=2){this.length=e,this.height=n,this.flags=s}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Epsilon&&(heightChangeFlag=!0),this.height=e)}replace(e,n,s){return HeightMap.of(s)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,s,o){let a=this,u=s.doc;for(let f=o.length-1;f>=0;f--){let{fromA:d,toA:g,fromB:m,toB:O}=o[f],x=a.lineAt(d,QueryType$1.ByPosNoHeight,s.setDoc(n),0,0),b=x.to>=g?x:a.lineAt(g,QueryType$1.ByPosNoHeight,s,0,0);for(O+=b.to-g,g=b.to;f>0&&x.from<=o[f-1].toA;)d=o[f-1].fromA,m=o[f-1].fromB,f--,d<x.from&&(x=a.lineAt(d,QueryType$1.ByPosNoHeight,s,0,0));m+=x.from-d,d=x.from;let w=NodeBuilder.build(s.setDoc(u),e,m,O);a=replace(a,a.replace(d,g,w))}return a.updateHeight(s,0)}static empty(){return new HeightMapText(0,0)}static of(e){if(e.length==1)return e[0];let n=0,s=e.length,o=0,a=0;for(;;)if(n==s)if(o>a*2){let f=e[n-1];f.break?e.splice(--n,1,f.left,null,f.right):e.splice(--n,1,f.left,f.right),s+=1+f.break,o-=f.size}else if(a>o*2){let f=e[s];f.break?e.splice(s,1,f.left,null,f.right):e.splice(s,1,f.left,f.right),s+=2+f.break,a-=f.size}else break;else if(o<a){let f=e[n++];f&&(o+=f.size)}else{let f=e[--s];f&&(a+=f.size)}let u=0;return e[n-1]==null?(u=1,n--):e[n]==null&&(u=1,s++),new HeightMapBranch(HeightMap.of(e.slice(0,n)),u,HeightMap.of(e.slice(s)))}}function replace(r,e){return r==e?r:(r.constructor!=e.constructor&&(heightChangeFlag=!0),e)}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor(e,n,s){super(e,n),this.deco=s}blockAt(e,n,s,o){return new BlockInfo(o,this.length,s,this.height,this.deco||0)}lineAt(e,n,s,o,a){return this.blockAt(0,s,o,a)}forEachLine(e,n,s,o,a,u){e<=a+this.length&&n>=a&&u(this.blockAt(0,s,o,a))}updateHeight(e,n=0,s=!1,o){return o&&o.from<=n&&o.more&&this.setHeight(o.heights[o.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,s,o){return new BlockInfo(o,this.length,s,this.height,this.breaks)}replace(e,n,s){let o=s[0];return s.length==1&&(o instanceof HeightMapText||o instanceof HeightMapGap&&o.flags&4)&&Math.abs(this.length-o.length)<10?(o instanceof HeightMapGap?o=new HeightMapText(o.length,this.height):o.height=this.height,this.outdated||(o.outdated=!1),o):HeightMap.of(s)}updateHeight(e,n=0,s=!1,o){return o&&o.from<=n&&o.more?this.setHeight(o.heights[o.index++]):(s||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(e){super(e,0)}heightMetrics(e,n){let s=e.doc.lineAt(n).number,o=e.doc.lineAt(n+this.length).number,a=o-s+1,u,f=0;if(e.lineWrapping){let d=Math.min(this.height,e.lineHeight*a);u=d/a,this.length>a+1&&(f=(this.height-d)/(this.length-a-1))}else u=this.height/a;return{firstLine:s,lastLine:o,perLine:u,perChar:f}}blockAt(e,n,s,o){let{firstLine:a,lastLine:u,perLine:f,perChar:d}=this.heightMetrics(n,o);if(n.lineWrapping){let g=o+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-s)/this.height))*this.length)),m=n.doc.lineAt(g),O=f+m.length*d,x=Math.max(s,e-O/2);return new BlockInfo(m.from,m.length,x,O,0)}else{let g=Math.max(0,Math.min(u-a,Math.floor((e-s)/f))),{from:m,length:O}=n.doc.line(a+g);return new BlockInfo(m,O,s+f*g,f,0)}}lineAt(e,n,s,o,a){if(n==QueryType$1.ByHeight)return this.blockAt(e,s,o,a);if(n==QueryType$1.ByPosNoHeight){let{from:b,to:w}=s.doc.lineAt(e);return new BlockInfo(b,w-b,0,0,0)}let{firstLine:u,perLine:f,perChar:d}=this.heightMetrics(s,a),g=s.doc.lineAt(e),m=f+g.length*d,O=g.number-u,x=o+f*O+d*(g.from-a-O);return new BlockInfo(g.from,g.length,Math.max(o,Math.min(x,o+this.height-m)),m,0)}forEachLine(e,n,s,o,a,u){e=Math.max(e,a),n=Math.min(n,a+this.length);let{firstLine:f,perLine:d,perChar:g}=this.heightMetrics(s,a);for(let m=e,O=o;m<=n;){let x=s.doc.lineAt(m);if(m==e){let w=x.number-f;O+=d*w+g*(e-a-w)}let b=d+g*x.length;u(new BlockInfo(x.from,x.length,O,b,0)),O+=b,m=x.to+1}}replace(e,n,s){let o=this.length-n;if(o>0){let a=s[s.length-1];a instanceof HeightMapGap?s[s.length-1]=new HeightMapGap(a.length+o):s.push(null,new HeightMapGap(o-1))}if(e>0){let a=s[0];a instanceof HeightMapGap?s[0]=new HeightMapGap(e+a.length):s.unshift(new HeightMapGap(e-1),null)}return HeightMap.of(s)}decomposeLeft(e,n){n.push(new HeightMapGap(e-1),null)}decomposeRight(e,n){n.push(null,new HeightMapGap(this.length-e-1))}updateHeight(e,n=0,s=!1,o){let a=n+this.length;if(o&&o.from<=n+this.length&&o.more){let u=[],f=Math.max(n,o.from),d=-1;for(o.from>n&&u.push(new HeightMapGap(o.from-n-1).updateHeight(e,n));f<=a&&o.more;){let m=e.doc.lineAt(f).length;u.length&&u.push(null);let O=o.heights[o.index++];d==-1?d=O:Math.abs(O-d)>=Epsilon&&(d=-2);let x=new HeightMapText(m,O);x.outdated=!1,u.push(x),f+=m+1}f<=a&&u.push(null,new HeightMapGap(a-f).updateHeight(e,f));let g=HeightMap.of(u);return(d<0||Math.abs(g.height-this.height)>=Epsilon||Math.abs(d-this.heightMetrics(e,n).perLine)>=Epsilon)&&(heightChangeFlag=!0),replace(this,g)}else(s||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(e,n,s){super(e.length+n+s.length,e.height+s.height,n|(e.outdated||s.outdated?2:0)),this.left=e,this.right=s,this.size=e.size+s.size}get break(){return this.flags&1}blockAt(e,n,s,o){let a=s+this.left.height;return e<a?this.left.blockAt(e,n,s,o):this.right.blockAt(e,n,a,o+this.left.length+this.break)}lineAt(e,n,s,o,a){let u=o+this.left.height,f=a+this.left.length+this.break,d=n==QueryType$1.ByHeight?e<u:e<f,g=d?this.left.lineAt(e,n,s,o,a):this.right.lineAt(e,n,s,u,f);if(this.break||(d?g.to<f:g.from>f))return g;let m=n==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return d?g.join(this.right.lineAt(f,m,s,u,f)):this.left.lineAt(f,m,s,o,a).join(g)}forEachLine(e,n,s,o,a,u){let f=o+this.left.height,d=a+this.left.length+this.break;if(this.break)e<d&&this.left.forEachLine(e,n,s,o,a,u),n>=d&&this.right.forEachLine(e,n,s,f,d,u);else{let g=this.lineAt(d,QueryType$1.ByPos,s,o,a);e<g.from&&this.left.forEachLine(e,g.from-1,s,o,a,u),g.to>=e&&g.from<=n&&u(g),n>g.to&&this.right.forEachLine(g.to+1,n,s,f,d,u)}}replace(e,n,s){let o=this.left.length+this.break;if(n<o)return this.balanced(this.left.replace(e,n,s),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-o,n-o,s));let a=[];e>0&&this.decomposeLeft(e,a);let u=a.length;for(let f of s)a.push(f);if(e>0&&mergeGaps(a,u-1),n<this.length){let f=a.length;this.decomposeRight(n,a),mergeGaps(a,f)}return HeightMap.of(a)}decomposeLeft(e,n){let s=this.left.length;if(e<=s)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(s++,e>=s&&n.push(null)),e>s&&this.right.decomposeLeft(e-s,n)}decomposeRight(e,n){let s=this.left.length,o=s+this.break;if(e>=o)return this.right.decomposeRight(e-o,n);e<s&&this.left.decomposeRight(e,n),this.break&&e<o&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?HeightMap.of(this.break?[e,null,n]:[e,n]):(this.left=replace(this.left,e),this.right=replace(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,s=!1,o){let{left:a,right:u}=this,f=n+a.length+this.break,d=null;return o&&o.from<=n+a.length&&o.more?d=a=a.updateHeight(e,n,s,o):a.updateHeight(e,n,s),o&&o.from<=f+u.length&&o.more?d=u=u.updateHeight(e,f,s,o):u.updateHeight(e,f,s),d?this.balanced(a,u):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(r,e){let n,s;r[e]==null&&(n=r[e-1])instanceof HeightMapGap&&(s=r[e+1])instanceof HeightMapGap&&r.splice(e-1,3,new HeightMapGap(n.length+1+s.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let s=Math.min(n,this.lineEnd),o=this.nodes[this.nodes.length-1];o instanceof HeightMapText?o.length+=s-this.pos:(s>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(s-this.pos,-1)),this.writtenTo=s,n>s&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,s){if(e<n||s.heightRelevant){let o=s.widget?s.widget.estimatedHeight:0,a=s.widget?s.widget.lineBreaks:0;o<0&&(o=this.oracle.lineHeight);let u=n-e;s.block?this.addBlock(new HeightMapBlock(u,o,s)):(u||a||o>=relevantWidgetHeight)&&this.addLineDeco(o,a,u)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new HeightMapText(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let s=new HeightMapGap(n-e);return this.oracle.doc.lineAt(e).to==n&&(s.flags|=4),s}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof HeightMapText)return e;let n=new HeightMapText(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,s){let o=this.ensureLine();o.length+=s,o.collapsed+=s,o.widgetHeight=Math.max(o.widgetHeight,e),o.breaks+=n,this.writtenTo=this.pos=this.pos+s}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let s=e;for(let o of this.nodes)o instanceof HeightMapText&&o.updateHeight(this.oracle,s),s+=o?o.length:1;return this.nodes}static build(e,n,s,o){let a=new NodeBuilder(s,e);return RangeSet.spans(n,s,o,a,0),a.finish(s)}}function heightRelevantDecoChanges(r,e,n){let s=new DecorationComparator;return RangeSet.compare(r,e,n,s,0),s.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,s,o){(e<n||s&&s.heightRelevant||o&&o.heightRelevant)&&addRange(e,n,this.changes,5)}}function visiblePixelRange(r,e){let n=r.getBoundingClientRect(),s=r.ownerDocument,o=s.defaultView||window,a=Math.max(0,n.left),u=Math.min(o.innerWidth,n.right),f=Math.max(0,n.top),d=Math.min(o.innerHeight,n.bottom);for(let g=r.parentNode;g&&g!=s.body;)if(g.nodeType==1){let m=g,O=window.getComputedStyle(m);if((m.scrollHeight>m.clientHeight||m.scrollWidth>m.clientWidth)&&O.overflow!="visible"){let x=m.getBoundingClientRect();a=Math.max(a,x.left),u=Math.min(u,x.right),f=Math.max(f,x.top),d=Math.min(g==r.parentNode?o.innerHeight:d,x.bottom)}g=O.position=="absolute"||O.position=="fixed"?m.offsetParent:m.parentNode}else if(g.nodeType==11)g=g.host;else break;return{left:a-n.left,right:Math.max(a,u)-n.left,top:f-(n.top+e),bottom:Math.max(f,d)-(n.top+e)}}function inWindow(r){let e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function fullPixelRange(r,e){let n=r.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class LineGap{constructor(e,n,s,o){this.from=e,this.to=n,this.size=s,this.displaySize=o}static same(e,n){if(e.length!=n.length)return!1;for(let s=0;s<e.length;s++){let o=e[s],a=n[s];if(o.from!=a.from||o.to!=a.to||o.size!=a.size)return!1}return!0}draw(e,n){return Decoration.replace({widget:new LineGapWidget(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(contentAttributes).some(s=>typeof s!="function"&&s.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(n),this.stateDeco=e.facet(decorations).filter(s=>typeof s!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(e.doc),[new ChangedRange(0,0,0,e.doc.length)]);for(let s=0;s<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());s++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(s=>s.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let s=0;s<=1;s++){let o=s?n.head:n.anchor;if(!e.some(({from:a,to:u})=>o>=a&&o<=u)){let{from:a,to:u}=this.lineBlockAt(o);e.push(new Viewport$1(a,u))}}return this.viewports=e.sort((s,o)=>s.from-o.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(scaleBlock(e,this.scaler))})}update(e,n=null){this.state=e.state;let s=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(m=>typeof m!="function");let o=e.changedRanges,a=ChangedRange.extendWithRanges(o,heightRelevantDecoChanges(s,this.stateDeco,e?e.changes:ChangeSet.empty(this.state.doc.length))),u=this.heightMap.height,f=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);clearHeightChangeFlag(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=u||heightChangeFlag)&&(e.flags|=2),f?(this.scrollAnchorPos=e.changes.mapPos(f.from,-1),this.scrollAnchorHeight=f.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let d=a.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<d.from||n.range.head>d.to)||!this.viewportIsAppropriate(d))&&(d=this.getViewport(0,n));let g=d.from!=this.viewport.from||d.to!=this.viewport.to;this.viewport=d,e.flags|=this.updateForViewport(),(g||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,s=window.getComputedStyle(n),o=this.heightOracle,a=s.whiteSpace;this.defaultTextDirection=s.direction=="rtl"?Direction.RTL:Direction.LTR;let u=this.heightOracle.mustRefreshForWrapping(a),f=n.getBoundingClientRect(),d=u||this.mustMeasureContent||this.contentDOMHeight!=f.height;this.contentDOMHeight=f.height,this.mustMeasureContent=!1;let g=0,m=0;if(f.width&&f.height){let{scaleX:$,scaleY:_}=getScale(n,f);($>.005&&Math.abs(this.scaleX-$)>.005||_>.005&&Math.abs(this.scaleY-_)>.005)&&(this.scaleX=$,this.scaleY=_,g|=16,u=d=!0)}let O=(parseInt(s.paddingTop)||0)*this.scaleY,x=(parseInt(s.paddingBottom)||0)*this.scaleY;(this.paddingTop!=O||this.paddingBottom!=x)&&(this.paddingTop=O,this.paddingBottom=x,g|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(o.lineWrapping&&(d=!0),this.editorWidth=e.scrollDOM.clientWidth,g|=16);let b=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=b&&(this.scrollAnchorHeight=-1,this.scrollTop=b),this.scrolledToBottom=isScrolledToBottom(e.scrollDOM);let w=(this.printing?fullPixelRange:visiblePixelRange)(n,this.paddingTop),E=w.top-this.pixelViewport.top,k=w.bottom-this.pixelViewport.bottom;this.pixelViewport=w;let Q=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(Q!=this.inView&&(this.inView=Q,Q&&(d=!0)),!this.inView&&!this.scrollTarget&&!inWindow(e.dom))return 0;let A=f.width;if((this.contentDOMWidth!=A||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=f.width,this.editorHeight=e.scrollDOM.clientHeight,g|=16),d){let $=e.docView.measureVisibleLineHeights(this.viewport);if(o.mustRefreshForHeights($)&&(u=!0),u||o.lineWrapping&&Math.abs(A-this.contentDOMWidth)>o.charWidth){let{lineHeight:_,charWidth:j,textHeight:Z}=e.docView.measureTextSize();u=_>0&&o.refresh(a,_,j,Z,A/j,$),u&&(e.docView.minWidth=0,g|=16)}E>0&&k>0?m=Math.max(E,k):E<0&&k<0&&(m=Math.min(E,k)),clearHeightChangeFlag();for(let _ of this.viewports){let j=_.from==this.viewport.from?$:e.docView.measureVisibleLineHeights(_);this.heightMap=(u?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(o,0,u,new MeasuredHeights(_.from,j))}heightChangeFlag&&(g|=2)}let M=!this.viewportIsAppropriate(this.viewport,m)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return M&&(g&2&&(g|=this.updateScaler()),this.viewport=this.getViewport(m,this.scrollTarget),g|=this.updateForViewport()),(g&2||M)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(u?[]:this.lineGaps,e)),g|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),g}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let s=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),o=this.heightMap,a=this.heightOracle,{visibleTop:u,visibleBottom:f}=this,d=new Viewport$1(o.lineAt(u-s*1e3,QueryType$1.ByHeight,a,0,0).from,o.lineAt(f+(1-s)*1e3,QueryType$1.ByHeight,a,0,0).to);if(n){let{head:g}=n.range;if(g<d.from||g>d.to){let m=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),O=o.lineAt(g,QueryType$1.ByPos,a,0,0),x;n.y=="center"?x=(O.top+O.bottom)/2-m/2:n.y=="start"||n.y=="nearest"&&g<d.from?x=O.top:x=O.bottom-m,d=new Viewport$1(o.lineAt(x-1e3/2,QueryType$1.ByHeight,a,0,0).from,o.lineAt(x+m+1e3/2,QueryType$1.ByHeight,a,0,0).to)}}return d}mapViewport(e,n){let s=n.mapPos(e.from,-1),o=n.mapPos(e.to,1);return new Viewport$1(this.heightMap.lineAt(s,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(o,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},s=0){if(!this.inView)return!0;let{top:o}=this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(n,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:u,visibleBottom:f}=this;return(e==0||o<=u-Math.max(10,Math.min(-s,250)))&&(n==this.state.doc.length||a>=f+Math.max(10,Math.min(s,250)))&&o>u-2*1e3&&a<f+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let s=[];for(let o of e)n.touchesRange(o.from,o.to)||s.push(new LineGap(n.mapPos(o.from),n.mapPos(o.to),o.size,o.displaySize));return s}ensureLineGaps(e,n){let s=this.heightOracle.lineWrapping,o=s?1e4:2e3,a=o>>1,u=o<<1;if(this.defaultTextDirection!=Direction.LTR&&!s)return[];let f=[],d=(m,O,x,b)=>{if(O-m<a)return;let w=this.state.selection.main,E=[w.from];w.empty||E.push(w.to);for(let Q of E)if(Q>m&&Q<O){d(m,Q-10,x,b),d(Q+10,O,x,b);return}let k=find$1(e,Q=>Q.from>=x.from&&Q.to<=x.to&&Math.abs(Q.from-m)<a&&Math.abs(Q.to-O)<a&&!E.some(A=>Q.from<A&&Q.to>A));if(!k){if(O<x.to&&n&&s&&n.visibleRanges.some(M=>M.from<=O&&M.to>=O)){let M=n.moveToLineBoundary(EditorSelection.cursor(O),!1,!0).head;M>m&&(O=M)}let Q=this.gapSize(x,m,O,b),A=s||Q<2e6?Q:2e6;k=new LineGap(m,O,Q,A)}f.push(k)},g=m=>{if(m.length<u||m.type!=BlockType.Text)return;let O=lineStructure(m.from,m.to,this.stateDeco);if(O.total<u)return;let x=this.scrollTarget?this.scrollTarget.range.head:null,b,w;if(s){let E=o/this.heightOracle.lineLength*this.heightOracle.lineHeight,k,Q;if(x!=null){let A=findFraction(O,x),M=((this.visibleBottom-this.visibleTop)/2+E)/m.height;k=A-M,Q=A+M}else k=(this.visibleTop-m.top-E)/m.height,Q=(this.visibleBottom-m.top+E)/m.height;b=findPosition(O,k),w=findPosition(O,Q)}else{let E=O.total*this.heightOracle.charWidth,k=o*this.heightOracle.charWidth,Q=0;if(E>2e6)for(let j of e)j.from>=m.from&&j.from<m.to&&j.size!=j.displaySize&&j.from*this.heightOracle.charWidth+Q<this.pixelViewport.left&&(Q=j.size-j.displaySize);let A=this.pixelViewport.left+Q,M=this.pixelViewport.right+Q,$,_;if(x!=null){let j=findFraction(O,x),Z=((M-A)/2+k)/E;$=j-Z,_=j+Z}else $=(A-k)/E,_=(M+k)/E;b=findPosition(O,$),w=findPosition(O,_)}b>m.from&&d(m.from,b,m,O),w<m.to&&d(w,m.to,m,O)};for(let m of this.viewportLines)Array.isArray(m.type)?m.type.forEach(g):g(m);return f}gapSize(e,n,s,o){let a=findFraction(o,s)-findFraction(o,n);return this.heightOracle.lineWrapping?e.height*a:o.total*this.heightOracle.charWidth*a}updateLineGaps(e){LineGap.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Decoration.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let s=[];RangeSet.spans(n,this.viewport.from,this.viewport.to,{span(a,u){s.push({from:a,to:u})},point(){}},20);let o=0;if(s.length!=this.visibleRanges.length)o=12;else for(let a=0;a<s.length&&!(o&8);a++){let u=this.visibleRanges[a],f=s[a];(u.from!=f.from||u.to!=f.to)&&(o|=4,e&&e.mapPos(u.from,-1)==f.from&&e.mapPos(u.to,1)==f.to||(o|=8))}return this.visibleRanges=s,o}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||scaleBlock(this.heightMap.lineAt(e,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(e),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let Viewport$1=class{constructor(e,n){this.from=e,this.to=n}};function lineStructure(r,e,n){let s=[],o=r,a=0;return RangeSet.spans(n,r,e,{span(){},point(u,f){u>o&&(s.push({from:o,to:u}),a+=u-o),o=f}},20),o<e&&(s.push({from:o,to:e}),a+=e-o),{total:a,ranges:s}}function findPosition({total:r,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let s=Math.floor(r*n);for(let o=0;;o++){let{from:a,to:u}=e[o],f=u-a;if(s<=f)return a+s;s-=f}}function findFraction(r,e){let n=0;for(let{from:s,to:o}of r.ranges){if(e<=o){n+=e-s;break}n+=o-s}return n/r.total}function find$1(r,e){for(let n of r)if(e(n))return n}const IdScaler={toDOM(r){return r},fromDOM(r){return r},scale:1,eq(r){return r==this}};class BigScaler{constructor(e,n,s){let o=0,a=0,u=0;this.viewports=s.map(({from:f,to:d})=>{let g=n.lineAt(f,QueryType$1.ByPos,e,0,0).top,m=n.lineAt(d,QueryType$1.ByPos,e,0,0).bottom;return o+=m-g,{from:f,to:d,top:g,bottom:m,domTop:0,domBottom:0}}),this.scale=(7e6-o)/(n.height-o);for(let f of this.viewports)f.domTop=u+(f.top-a)*this.scale,u=f.domBottom=f.domTop+(f.bottom-f.top),a=f.bottom}toDOM(e){for(let n=0,s=0,o=0;;n++){let a=n<this.viewports.length?this.viewports[n]:null;if(!a||e<a.top)return o+(e-s)*this.scale;if(e<=a.bottom)return a.domTop+(e-a.top);s=a.bottom,o=a.domBottom}}fromDOM(e){for(let n=0,s=0,o=0;;n++){let a=n<this.viewports.length?this.viewports[n]:null;if(!a||e<a.domTop)return s+(e-o)/this.scale;if(e<=a.domBottom)return a.top+(e-a.domTop);s=a.bottom,o=a.domBottom}}eq(e){return e instanceof BigScaler?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,s)=>n.from==e.viewports[s].from&&n.to==e.viewports[s].to):!1}}function scaleBlock(r,e){if(e.scale==1)return r;let n=e.toDOM(r.top),s=e.toDOM(r.bottom);return new BlockInfo(r.from,r.length,n,s-n,Array.isArray(r._content)?r._content.map(o=>scaleBlock(o,e)):r._content)}const theme=Facet.define({combine:r=>r.join(" ")}),darkTheme=Facet.define({combine:r=>r.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(r,e,n){return new StyleModule(e,{finish(s){return/&/.test(s)?s.replace(/&\w*/,o=>{if(o=="&")return r;if(!n||!n[o])throw new RangeError(`Unsupported selector: ${o}`);return n[o]}):r+" "+s}})}const baseTheme$1$3=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let s of n)this.queue.push(s);(browser.ie&&browser.ie_version<=11||browser.ios&&e.composing)&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(browser.chrome&&browser.chrome_version<126)&&(this.editContext=new EditContextManager(e),e.state.facet(editable)&&(e.contentDOM.editContext=this.editContext.editContext)),useCharData&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,s)=>n!=e[s]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:s}=this,o=this.selectionRange;if(s.state.facet(editable)?s.root.activeElement!=this.dom:!hasSelection(this.dom,o))return;let a=o.anchorNode&&s.docView.nearest(o.anchorNode);if(a&&a.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!s.state.selection.main.empty&&o.focusNode&&isEquivalentPosition(o.focusNode,o.focusOffset,o.anchorNode,o.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=getSelection(e.root);if(!n)return!1;let s=browser.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&safariSelectionRangeHack(this.view,n)||n;if(!s||this.selectionRange.eq(s))return!1;let o=hasSelection(this.dom,s);return o&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,s)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(s),o&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let s=this.dom;s;)if(s.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==s?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);for(let s of this.scrollTargets=n)s.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var s;if(!this.delayedAndroidKey){let o=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&dispatchKey(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(o)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((s=this.delayedAndroidKey)===null||s===void 0)&&s.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,s=-1,o=!1;for(let a of e){let u=this.readMutation(a);u&&(u.typeOver&&(o=!0),n==-1?{from:n,to:s}=u:(n=Math.min(u.from,n),s=Math.max(u.to,s)))}return{from:n,to:s,typeOver:o}}readChange(){let{from:e,to:n,typeOver:s}=this.processRecords(),o=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(e<0&&!o)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new DOMChange(this.view,e,n,s);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let s=this.view.state,o=applyDOMChange(this.view,n);return this.view.state==s&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),o}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let s=findChild(n,e.previousSibling||e.target.previousSibling,-1),o=findChild(n,e.nextSibling||e.target.nextSibling,1);return{from:s?n.posAfter(s):n.posAtStart,to:o?n.posBefore(o):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(editable)!=e.state.facet(editable)&&(e.view.contentDOM.editContext=e.state.facet(editable)?this.editContext.editContext:null))}destroy(){var e,n,s;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(s=this.resizeScroll)===null||s===void 0||s.disconnect();for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function findChild(r,e,n){for(;e;){let s=ContentView.get(e);if(s&&s.parent==r)return s;let o=e.parentNode;e=o!=r.dom?o:n>0?e.nextSibling:e.previousSibling}return null}function buildSelectionRangeFromRange(r,e){let n=e.startContainer,s=e.startOffset,o=e.endContainer,a=e.endOffset,u=r.docView.domAtPos(r.state.selection.main.anchor);return isEquivalentPosition(u.node,u.offset,o,a)&&([n,s,o,a]=[o,a,n,s]),{anchorNode:n,anchorOffset:s,focusNode:o,focusOffset:a}}function safariSelectionRangeHack(r,e){if(e.getComposedRanges){let o=e.getComposedRanges(r.root)[0];if(o)return buildSelectionRangeFromRange(r,o)}let n=null;function s(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return r.contentDOM.addEventListener("beforeinput",s,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",s,!0),n?buildSelectionRangeFromRange(r,n):null}class EditContextManager{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=s=>{let o=e.state.selection.main,{anchor:a,head:u}=o,f=this.toEditorPos(s.updateRangeStart),d=this.toEditorPos(s.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:s.updateRangeStart,editorBase:f,drifted:!1});let g={from:f,to:d,insert:Text.of(s.text.split(`
`))};if(g.from==this.from&&a<this.from?g.from=a:g.to==this.to&&a>this.to&&(g.to=a),g.from==g.to&&!g.insert.length){let m=EditorSelection.single(this.toEditorPos(s.selectionStart),this.toEditorPos(s.selectionEnd));m.main.eq(o)||e.dispatch({selection:m,userEvent:"select"});return}if((browser.mac||browser.android)&&g.from==u-1&&/^\. ?$/.test(s.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(g={from:f,to:d,insert:Text.of([s.text.replace("."," ")])}),this.pendingContextChange=g,!e.state.readOnly){let m=this.to-this.from+(g.to-g.from+g.insert.length);applyDOMChangeInner(e,g,EditorSelection.single(this.toEditorPos(s.selectionStart,m),this.toEditorPos(s.selectionEnd,m)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=s=>{let o=[],a=null;for(let u=this.toEditorPos(s.rangeStart),f=this.toEditorPos(s.rangeEnd);u<f;u++){let d=e.coordsForChar(u);a=d&&new DOMRect(d.left,d.top,d.right-d.left,d.bottom-d.top)||a||new DOMRect,o.push(a)}n.updateCharacterBounds(s.rangeStart,o)},this.handlers.textformatupdate=s=>{let o=[];for(let a of s.getTextFormats()){let u=a.underlineStyle,f=a.underlineThickness;if(u!="None"&&f!="None"){let d=this.toEditorPos(a.rangeStart),g=this.toEditorPos(a.rangeEnd);if(d<g){let m=`text-decoration: underline ${u=="Dashed"?"dashed ":u=="Squiggle"?"wavy ":""}${f=="Thin"?1:2}px`;o.push(Decoration.mark({attributes:{style:m}}).range(d,g))}}}e.dispatch({effects:setEditContextFormatting.of(Decoration.set(o))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:s}=this.composing;this.composing=null,s&&this.reset(e.state)}};for(let s in this.handlers)n.addEventListener(s,this.handlers[s]);this.measureReq={read:s=>{this.editContext.updateControlBounds(s.contentDOM.getBoundingClientRect());let o=getSelection(s.root);o&&o.rangeCount&&this.editContext.updateSelectionBounds(o.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,s=!1,o=this.pendingContextChange;return e.changes.iterChanges((a,u,f,d,g)=>{if(s)return;let m=g.length-(u-a);if(o&&u>=o.to)if(o.from==a&&o.to==u&&o.insert.eq(g)){o=this.pendingContextChange=null,n+=m,this.to+=m;return}else o=null,this.revertPending(e.state);if(a+=n,u+=n,u<=this.from)this.from+=m,this.to+=m;else if(a<this.to){if(a<this.from||u>this.to||this.to-this.from+g.length>3e4){s=!0;return}this.editContext.updateText(this.toContextPos(a),this.toContextPos(u),g.toString()),this.to+=m}n+=m}),o&&!s&&this.revertPending(e.state),!s}update(e){let n=this.pendingContextChange;this.composing&&(this.composing.drifted||e.transactions.some(s=>!s.isUserEvent("input.type")&&s.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,s=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),o=this.toContextPos(n.head);(this.editContext.selectionStart!=s||this.editContext.selectionEnd!=o)&&this.editContext.updateSelection(s,o)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let s=this.composing;return s&&s.drifted?s.editorBase+(e-s.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:s}=e;this.dispatchTransactions=e.dispatchTransactions||s&&(o=>o.forEach(a=>s(a,this)))||(o=>this.update(o)),this.dispatch=this.dispatch.bind(this),this._root=e.root||getRoot(e.parent)||document,this.viewState=new ViewState(e.state||EditorState.create(e)),e.scrollTo&&e.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(o=>new PluginInstance(o));for(let o of this.plugins)o.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof Transaction?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,s=!1,o,a=this.state;for(let x of e){if(x.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=x.state}if(this.destroyed){this.viewState.state=a;return}let u=this.hasFocus,f=0,d=null;e.some(x=>x.annotation(isFocusChange))?(this.inputState.notifiedFocused=u,f=1):u!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=u,d=focusChangeTransaction(a,u),d||(f=1));let g=this.observer.delayedAndroidKey,m=null;if(g?(this.observer.clearDelayedAndroidKey(),m=this.observer.readChange(),(m&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(m=null)):this.observer.clear(),a.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(a);o=ViewUpdate.create(this,a,e),o.flags|=f;let O=this.viewState.scrollTarget;try{this.updateState=2;for(let x of e){if(O&&(O=O.map(x.changes)),x.scrollIntoView){let{main:b}=x.state.selection;O=new ScrollTarget(b.empty?b:EditorSelection.cursor(b.head,b.head>b.anchor?-1:1))}for(let b of x.effects)b.is(scrollIntoView$1)&&(O=b.value.clip(this.state))}this.viewState.update(o,O),this.bidiCache=CachedOrder.update(this.bidiCache,o.changes),o.empty||(this.updatePlugins(o),this.inputState.update(o)),n=this.docView.update(o),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),s=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(x=>x.isUserEvent("select.pointer")))}finally{this.updateState=0}if(o.startState.facet(theme)!=o.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(n||s||O||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!o.empty)for(let x of this.state.facet(updateListener))try{x(o)}catch(b){logException(this.state,b,"update listener")}(d||m)&&Promise.resolve().then(()=>{d&&this.state==d.startState&&this.dispatch(d),m&&!applyDOMChange(this,m)&&g.force&&dispatchKey(this.contentDOM,g.key,g.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let s of this.plugins)s.destroy(this);this.viewState=new ViewState(e),this.plugins=e.facet(viewPlugin).map(s=>new PluginInstance(s)),this.pluginMap.clear();for(let s of this.plugins)s.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(viewPlugin),s=e.state.facet(viewPlugin);if(n!=s){let o=[];for(let a of s){let u=n.indexOf(a);if(u<0)o.push(new PluginInstance(a));else{let f=this.plugins[u];f.mustUpdate=e,o.push(f)}}for(let a of this.plugins)a.mustUpdate!=e&&a.destroy(this);this.plugins=o,this.pluginMap.clear()}else for(let o of this.plugins)o.mustUpdate=e;for(let o=0;o<this.plugins.length;o++)this.plugins[o].update(this);n!=s&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(s){logException(this.state,s,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,s=this.scrollDOM,o=s.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:u}=this.viewState;Math.abs(o-this.viewState.scrollTop)>1&&(u=-1),this.viewState.scrollAnchorHeight=-1;try{for(let f=0;;f++){if(u<0)if(isScrolledToBottom(s))a=-1,u=this.viewState.heightMap.height;else{let b=this.viewState.scrollAnchorAt(o);a=b.from,u=b.top}this.updateState=1;let d=this.viewState.measure(this);if(!d&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(f>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let g=[];d&4||([this.measureRequests,g]=[g,this.measureRequests]);let m=g.map(b=>{try{return b.read(this)}catch(w){return logException(this.state,w),BadMeasure}}),O=ViewUpdate.create(this,this.state,[]),x=!1;O.flags|=d,n?n.flags|=d:n=O,this.updateState=2,O.empty||(this.updatePlugins(O),this.inputState.update(O),this.updateAttrs(),x=this.docView.update(O),x&&this.docViewUpdate());for(let b=0;b<g.length;b++)if(m[b]!=BadMeasure)try{let w=g[b];w.write&&w.write(m[b],this)}catch(w){logException(this.state,w)}if(x&&this.docView.updateSelection(!0),!O.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,u=-1;continue}else{let w=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-u;if(w>1||w<-1){o=o+w,s.scrollTop=o/this.scaleY,u=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let f of this.state.facet(updateListener))f(n)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let e=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,n);let s=this.observer.ignore(()=>{let o=updateAttrs(this.contentDOM,this.contentAttrs,n),a=updateAttrs(this.dom,this.editorAttrs,e);return o||a});return this.editorAttrs=e,this.contentAttrs=n,s}showAnnouncements(e){let n=!0;for(let s of e)for(let o of s.effects)if(o.is(EditorView.announce)){n&&(this.announceDOM.textContent=""),n=!1;let a=this.announceDOM.appendChild(document.createElement("div"));a.textContent=o.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let e=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$3).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(s=>s.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,s){return skipAtoms(this,e,moveByChar(this,e,n,s))}moveByGroup(e,n){return skipAtoms(this,e,moveByChar(this,e,n,s=>byGroup(this,e.head,s)))}visualLineSide(e,n){let s=this.bidiSpans(e),o=this.textDirectionAt(e.from),a=s[n?s.length-1:0];return EditorSelection.cursor(a.side(n,o)+e.from,a.forward(!n,o)?1:-1)}moveToLineBoundary(e,n,s=!0){return moveToLineBoundary(this,e,n,s)}moveVertically(e,n,s){return skipAtoms(this,e,moveVertically(this,e,n,s))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),posAtCoords(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let s=this.docView.coordsAt(e,n);if(!s||s.left==s.right)return s;let o=this.state.doc.lineAt(e),a=this.bidiSpans(o),u=a[BidiSpan.find(a,e-o.from,-1,n)];return flattenRect(s,u.dir==Direction.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(perLineTextDirection)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>MaxBidiLine)return trivialOrder(e.length);let n=this.textDirectionAt(e.from),s;for(let a of this.bidiCache)if(a.from==e.from&&a.dir==n&&(a.fresh||isolatesEq(a.isolates,s=getIsolatedRanges(this,e))))return a.order;s||(s=getIsolatedRanges(this,e));let o=computeOrder(e.text,n,s);return this.bidiCache.push(new CachedOrder(e.from,e.to,n,s,!0,o)),o}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return scrollIntoView$1.of(new ScrollTarget(typeof e=="number"?EditorSelection.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,s=this.viewState.scrollAnchorAt(e);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(s.from),"start","start",s.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return ViewPlugin.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ViewPlugin.define(()=>({}),{eventObservers:e})}static theme(e,n){let s=StyleModule.newName(),o=[theme.of(s),styleModule.of(buildTheme(`.${s}`,e))];return n&&n.dark&&o.push(darkTheme.of(!0)),o}static baseTheme(e){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,e,lightDarkIDs)))}static findFromDOM(e){var n;let s=e.querySelector(".cm-content"),o=s&&ContentView.get(s)||ContentView.get(e);return((n=o==null?void 0:o.rootView)===null||n===void 0?void 0:n.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.clipboardInputFilter=clipboardInputFilter;EditorView.clipboardOutputFilter=clipboardOutputFilter;EditorView.scrollHandler=scrollHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:r=>r.length?r[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(e,n,s,o,a,u){this.from=e,this.to=n,this.dir=s,this.isolates=o,this.fresh=a,this.order=u}static update(e,n){if(n.empty&&!e.some(a=>a.fresh))return e;let s=[],o=e.length?e[e.length-1].dir:Direction.LTR;for(let a=Math.max(0,e.length-10);a<e.length;a++){let u=e[a];u.dir==o&&!n.touchesRange(u.from,u.to)&&s.push(new CachedOrder(n.mapPos(u.from,1),n.mapPos(u.to,-1),u.dir,u.isolates,!1,u.order))}return s}}function attrsFromFacet(r,e,n){for(let s=r.state.facet(e),o=s.length-1;o>=0;o--){let a=s[o],u=typeof a=="function"?a(r):a;u&&combineAttrs(u,n)}return n}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(r,e){const n=r.split(/-(?!$)/);let s=n[n.length-1];s=="Space"&&(s=" ");let o,a,u,f;for(let d=0;d<n.length-1;++d){const g=n[d];if(/^(cmd|meta|m)$/i.test(g))f=!0;else if(/^a(lt)?$/i.test(g))o=!0;else if(/^(c|ctrl|control)$/i.test(g))a=!0;else if(/^s(hift)?$/i.test(g))u=!0;else if(/^mod$/i.test(g))e=="mac"?f=!0:a=!0;else throw new Error("Unrecognized modifier name: "+g)}return o&&(s="Alt-"+s),a&&(s="Ctrl-"+s),f&&(s="Meta-"+s),u&&(s="Shift-"+s),s}function modifiers(r,e,n){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),n!==!1&&e.shiftKey&&(r="Shift-"+r),r}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(r,e){return runHandlers(getKeymap(e.state),r,e,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(r){let e=r.facet(keymap),n=Keymaps.get(e);return n||Keymaps.set(e,n=buildKeymap(e.reduce((s,o)=>s.concat(o),[]))),n}function runScopeHandlers(r,e,n){return runHandlers(getKeymap(r.state),e,r,n)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(r,e=currentPlatform){let n=Object.create(null),s=Object.create(null),o=(u,f)=>{let d=s[u];if(d==null)s[u]=f;else if(d!=f)throw new Error("Key binding "+u+" is used both as a regular binding and as a multi-stroke prefix")},a=(u,f,d,g,m)=>{var O,x;let b=n[u]||(n[u]=Object.create(null)),w=f.split(/ (?!$)/).map(Q=>normalizeKeyName(Q,e));for(let Q=1;Q<w.length;Q++){let A=w.slice(0,Q).join(" ");o(A,!0),b[A]||(b[A]={preventDefault:!0,stopPropagation:!1,run:[M=>{let $=storedPrefix={view:M,prefix:A,scope:u};return setTimeout(()=>{storedPrefix==$&&(storedPrefix=null)},PrefixTimeout),!0}]})}let E=w.join(" ");o(E,!1);let k=b[E]||(b[E]={preventDefault:!1,stopPropagation:!1,run:((x=(O=b._any)===null||O===void 0?void 0:O.run)===null||x===void 0?void 0:x.slice())||[]});d&&k.run.push(d),g&&(k.preventDefault=!0),m&&(k.stopPropagation=!0)};for(let u of r){let f=u.scope?u.scope.split(" "):["editor"];if(u.any)for(let g of f){let m=n[g]||(n[g]=Object.create(null));m._any||(m._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:O}=u;for(let x in m)m[x].run.push(b=>O(b,currentKeyEvent))}let d=u[e]||u.key;if(d)for(let g of f)a(g,d,u.run,u.preventDefault,u.stopPropagation),u.shift&&a(g,"Shift-"+d,u.shift,u.preventDefault,u.stopPropagation)}return n}let currentKeyEvent=null;function runHandlers(r,e,n,s){currentKeyEvent=e;let o=keyName(e),a=codePointAt(o,0),u=codePointSize(a)==o.length&&o!=" ",f="",d=!1,g=!1,m=!1;storedPrefix&&storedPrefix.view==n&&storedPrefix.scope==s&&(f=storedPrefix.prefix+" ",modifierCodes.indexOf(e.keyCode)<0&&(g=!0,storedPrefix=null));let O=new Set,x=k=>{if(k){for(let Q of k.run)if(!O.has(Q)&&(O.add(Q),Q(n)))return k.stopPropagation&&(m=!0),!0;k.preventDefault&&(k.stopPropagation&&(m=!0),g=!0)}return!1},b=r[s],w,E;return b&&(x(b[f+modifiers(o,e,!u)])?d=!0:u&&(e.altKey||e.metaKey||e.ctrlKey)&&!(browser.windows&&e.ctrlKey&&e.altKey)&&(w=base[e.keyCode])&&w!=o?(x(b[f+modifiers(w,e,!0)])||e.shiftKey&&(E=shift[e.keyCode])!=o&&E!=w&&x(b[f+modifiers(E,e,!1)]))&&(d=!0):u&&e.shiftKey&&x(b[f+modifiers(o,e,!0)])&&(d=!0),!d&&x(b._any)&&(d=!0)),g&&(d=!0),d&&m&&e.stopPropagation(),currentKeyEvent=null,d}class RectangleMarker{constructor(e,n,s,o,a){this.className=e,this.left=n,this.top=s,this.width=o,this.height=a}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,s){if(s.empty){let o=e.coordsAtPos(s.head,s.assoc||1);if(!o)return[];let a=getBase(e);return[new RectangleMarker(n,o.left-a.left,o.top-a.top,null,o.bottom-o.top)]}else return rectanglesForRange(e,n,s)}}function getBase(r){let e=r.scrollDOM.getBoundingClientRect();return{left:(r.textDirection==Direction.LTR?e.left:e.right-r.scrollDOM.clientWidth*r.scaleX)-r.scrollDOM.scrollLeft*r.scaleX,top:e.top-r.scrollDOM.scrollTop*r.scaleY}}function wrappedLine(r,e,n,s){let o=r.coordsAtPos(e,n*2);if(!o)return s;let a=r.dom.getBoundingClientRect(),u=(o.top+o.bottom)/2,f=r.posAtCoords({x:a.left+1,y:u}),d=r.posAtCoords({x:a.right-1,y:u});return f==null||d==null?s:{from:Math.max(s.from,Math.min(f,d)),to:Math.min(s.to,Math.max(f,d))}}function rectanglesForRange(r,e,n){if(n.to<=r.viewport.from||n.from>=r.viewport.to)return[];let s=Math.max(n.from,r.viewport.from),o=Math.min(n.to,r.viewport.to),a=r.textDirection==Direction.LTR,u=r.contentDOM,f=u.getBoundingClientRect(),d=getBase(r),g=u.querySelector(".cm-line"),m=g&&window.getComputedStyle(g),O=f.left+(m?parseInt(m.paddingLeft)+Math.min(0,parseInt(m.textIndent)):0),x=f.right-(m?parseInt(m.paddingRight):0),b=blockAt(r,s),w=blockAt(r,o),E=b.type==BlockType.Text?b:null,k=w.type==BlockType.Text?w:null;if(E&&(r.lineWrapping||b.widgetLineBreaks)&&(E=wrappedLine(r,s,1,E)),k&&(r.lineWrapping||w.widgetLineBreaks)&&(k=wrappedLine(r,o,-1,k)),E&&k&&E.from==k.from&&E.to==k.to)return A(M(n.from,n.to,E));{let _=E?M(n.from,null,E):$(b,!1),j=k?M(null,n.to,k):$(w,!0),Z=[];return(E||b).to<(k||w).from-(E&&k?1:0)||b.widgetLineBreaks>1&&_.bottom+r.defaultLineHeight/2<j.top?Z.push(Q(O,_.bottom,x,j.top)):_.bottom<j.top&&r.elementAtHeight((_.bottom+j.top)/2).type==BlockType.Text&&(_.bottom=j.top=(_.bottom+j.top)/2),A(_).concat(Z).concat(A(j))}function Q(_,j,Z,W){return new RectangleMarker(e,_-d.left,j-d.top,Z-_,W-j)}function A({top:_,bottom:j,horizontal:Z}){let W=[];for(let B=0;B<Z.length;B+=2)W.push(Q(Z[B],_,Z[B+1],j));return W}function M(_,j,Z){let W=1e9,B=-1e9,H=[];function ee(D,q,P,V,L){let z=r.coordsAtPos(D,D==Z.to?-2:2),R=r.coordsAtPos(P,P==Z.from?2:-2);!z||!R||(W=Math.min(z.top,R.top,W),B=Math.max(z.bottom,R.bottom,B),L==Direction.LTR?H.push(a&&q?O:z.left,a&&V?x:R.right):H.push(!a&&V?O:R.left,!a&&q?x:z.right))}let I=_??Z.from,J=j??Z.to;for(let D of r.visibleRanges)if(D.to>I&&D.from<J)for(let q=Math.max(D.from,I),P=Math.min(D.to,J);;){let V=r.state.doc.lineAt(q);for(let L of r.bidiSpans(V)){let z=L.from+V.from,R=L.to+V.from;if(z>=P)break;R>q&&ee(Math.max(z,q),_==null&&z<=I,Math.min(R,P),j==null&&R>=J,L.dir)}if(q=V.to+1,q>=P)break}return H.length==0&&ee(I,_==null,J,j==null,r.textDirection),{top:W,bottom:B,horizontal:H}}function $(_,j){let Z=f.top+(j?_.top:_.bottom);return{top:Z,bottom:Z,horizontal:[]}}}function sameMarker(r,e){return r.constructor==e.constructor&&r.eq(e)}class LayerView{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(layerOrder)!=e.state.facet(layerOrder)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,s=e.facet(layerOrder);for(;n<s.length&&s[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,s)=>!sameMarker(n,this.drawn[s]))){let n=this.dom.firstChild,s=0;for(let o of e)o.update&&n&&o.constructor&&this.drawn[s].constructor&&o.update(n,this.drawn[s])?(n=n.nextSibling,s++):this.dom.insertBefore(o.draw(),n);for(;n;){let o=n.nextSibling;n.remove(),n=o}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(r){return[ViewPlugin.define(e=>new LayerView(e,r)),layerOrder.of(r)]}const CanHidePrimary=!(browser.ios&&browser.webkit&&browser.webkit_version<534),selectionConfig=Facet.define({combine(r){return combineConfig(r,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function drawSelection(r={}){return[selectionConfig.of(r),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(r){return r.startState.facet(selectionConfig)!=r.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(r){let{state:e}=r,n=e.facet(selectionConfig),s=[];for(let o of e.selection.ranges){let a=o==e.selection.main;if(o.empty?!a||CanHidePrimary:n.drawRangeCursor){let u=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",f=o.empty?o:EditorSelection.cursor(o.head,o.head>o.anchor?-1:1);for(let d of RectangleMarker.forRange(r,u,f))s.push(d)}}return s},update(r,e){r.transactions.some(s=>s.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=configChanged(r);return n&&setBlinkRate(r.state,e),r.docChanged||r.selectionSet||n},mount(r,e){setBlinkRate(e.state,r)},class:"cm-cursorLayer"});function setBlinkRate(r,e){e.style.animationDuration=r.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(r){return r.state.selection.ranges.map(e=>e.empty?[]:RectangleMarker.forRange(r,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(r,e){return r.docChanged||r.selectionSet||r.viewportChanged||configChanged(r)},class:"cm-selectionLayer"}),themeSpec={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};CanHidePrimary&&(themeSpec[".cm-line"].caretColor=themeSpec[".cm-content"].caretColor="transparent !important");const hideNativeSelection=Prec.highest(EditorView.theme(themeSpec)),setDropCursorPos=StateEffect.define({map(r,e){return r==null?null:e.mapPos(r)}}),dropCursorPos=StateField.define({create(){return null},update(r,e){return r!=null&&(r=e.changes.mapPos(r)),e.effects.reduce((n,s)=>s.is(setDropCursorPos)?s.value:n,r)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(r){this.view=r,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(r){var e;let n=r.state.field(dropCursorPos);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(r.startState.field(dropCursorPos)!=n||r.docChanged||r.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:r}=this,e=r.state.field(dropCursorPos),n=e!=null&&r.coordsAtPos(e);if(!n)return null;let s=r.scrollDOM.getBoundingClientRect();return{left:n.left-s.left+r.scrollDOM.scrollLeft*r.scaleX,top:n.top-s.top+r.scrollDOM.scrollTop*r.scaleY,height:n.bottom-n.top}}drawCursor(r){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;r?(this.cursor.style.left=r.left/e+"px",this.cursor.style.top=r.top/n+"px",this.cursor.style.height=r.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(r){this.view.state.field(dropCursorPos)!=r&&this.view.dispatch({effects:setDropCursorPos.of(r)})}},{eventObservers:{dragover(r){this.setDropPos(this.view.posAtCoords({x:r.clientX,y:r.clientY}))},dragleave(r){(r.target==this.view.contentDOM||!this.view.contentDOM.contains(r.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(r,e,n,s,o){e.lastIndex=0;for(let a=r.iterRange(n,s),u=n,f;!a.next().done;u+=a.value.length)if(!a.lineBreak)for(;f=e.exec(a.value);)o(u+f.index,f)}function matchRanges(r,e){let n=r.visibleRanges;if(n.length==1&&n[0].from==r.viewport.from&&n[0].to==r.viewport.to)return n;let s=[];for(let{from:o,to:a}of n)o=Math.max(r.state.doc.lineAt(o).from,o-e),a=Math.min(r.state.doc.lineAt(a).to,a+e),s.length&&s[s.length-1].to>=o?s[s.length-1].to=a:s.push({from:o,to:a});return s}class MatchDecorator{constructor(e){const{regexp:n,decoration:s,decorate:o,boundary:a,maxLength:u=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,o)this.addMatch=(f,d,g,m)=>o(m,g,g+f[0].length,f,d);else if(typeof s=="function")this.addMatch=(f,d,g,m)=>{let O=s(f,d,g);O&&m(g,g+f[0].length,O)};else if(s)this.addMatch=(f,d,g,m)=>m(g,g+f[0].length,s);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=a,this.maxLength=u}createDeco(e){let n=new RangeSetBuilder,s=n.add.bind(n);for(let{from:o,to:a}of matchRanges(e,this.maxLength))iterMatches(e.state.doc,this.regexp,o,a,(u,f)=>this.addMatch(f,e,u,s));return n.finish()}updateDeco(e,n){let s=1e9,o=-1;return e.docChanged&&e.changes.iterChanges((a,u,f,d)=>{d>=e.view.viewport.from&&f<=e.view.viewport.to&&(s=Math.min(f,s),o=Math.max(d,o))}),e.viewportMoved||o-s>1e3?this.createDeco(e.view):o>-1?this.updateRange(e.view,n.map(e.changes),s,o):n}updateRange(e,n,s,o){for(let a of e.visibleRanges){let u=Math.max(a.from,s),f=Math.min(a.to,o);if(f>u){let d=e.state.doc.lineAt(u),g=d.to<f?e.state.doc.lineAt(f):d,m=Math.max(a.from,d.from),O=Math.min(a.to,g.to);if(this.boundary){for(;u>d.from;u--)if(this.boundary.test(d.text[u-1-d.from])){m=u;break}for(;f<g.to;f++)if(this.boundary.test(g.text[f-g.from])){O=f;break}}let x=[],b,w=(E,k,Q)=>x.push(Q.range(E,k));if(d==g)for(this.regexp.lastIndex=m-d.from;(b=this.regexp.exec(d.text))&&b.index<O-d.from;)this.addMatch(b,e,b.index+d.from,w);else iterMatches(e.state.doc,this.regexp,m,O,(E,k)=>this.addMatch(k,e,E,w));n=n.update({filterFrom:m,filterTo:O,filter:(E,k)=>E<m||k>O,add:x})}}return n}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var r;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let e=document.body.style;_supportsTabSize=((r=e.tabSize)!==null&&r!==void 0?r:e.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(r){let e=combineConfig(r,{render:null,specialChars:Specials,addSpecialChars:null});return(e.replaceTabs=!supportsTabSize())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,UnicodeRegexpSupport)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,UnicodeRegexpSupport)),e}});function highlightSpecialChars(r={}){return[specialCharConfig.of(r),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(r){this.view=r,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(r.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(r)}makeDecorator(r){return new MatchDecorator({regexp:r.specialChars,decoration:(e,n,s)=>{let{doc:o}=n.state,a=codePointAt(e[0],0);if(a==9){let u=o.lineAt(s),f=n.state.tabSize,d=countColumn(u.text,f,s-u.from);return Decoration.replace({widget:new TabWidget((f-d%f)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=Decoration.replace({widget:new SpecialCharWidget(r,a)}))},boundary:r.replaceTabs?void 0:/[^]/})}update(r){let e=r.state.facet(specialCharConfig);r.startState.facet(specialCharConfig)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(r.view)):this.decorations=this.decorator.updateDeco(r,this.decorations)}},{decorations:r=>r.decorations}))}const DefaultPlaceholder="";function placeholder$1(r){return r>=32?DefaultPlaceholder:r==10?"":String.fromCharCode(9216+r)}class SpecialCharWidget extends WidgetType{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=placeholder$1(this.code),s=e.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),o=this.options.render&&this.options.render(this.code,s,n);if(o)return o;let a=document.createElement("span");return a.textContent=n,a.title=s,a.setAttribute("aria-label",s),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.docChanged||r.selectionSet)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=-1,n=[];for(let s of r.state.selection.ranges){let o=r.lineBlockAt(s.head);o.from>e&&(n.push(lineDeco.range(o.from)),e=o.from)}return Decoration.set(n)}},{decorations:r=>r.decorations});class Placeholder extends WidgetType{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),typeof this.content=="string"?n.setAttribute("aria-label","placeholder "+this.content):n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?clientRectsFor(e.firstChild):[];if(!n.length)return null;let s=window.getComputedStyle(e.parentNode),o=flattenRect(n[0],s.direction!="rtl"),a=parseInt(s.lineHeight);return o.bottom-o.top>a*1.5?{left:o.left,right:o.right,top:o.top,bottom:o.top+a}:o}ignoreEvent(){return!1}}function placeholder(r){return ViewPlugin.fromClass(class{constructor(e){this.view=e,this.placeholder=r?Decoration.set([Decoration.widget({widget:new Placeholder(r),side:1}).range(0)]):Decoration.none}get decorations(){return this.view.state.doc.length?Decoration.none:this.placeholder}},{decorations:e=>e.decorations})}const MaxOff=2e3;function rectangleFor(r,e,n){let s=Math.min(e.line,n.line),o=Math.max(e.line,n.line),a=[];if(e.off>MaxOff||n.off>MaxOff||e.col<0||n.col<0){let u=Math.min(e.off,n.off),f=Math.max(e.off,n.off);for(let d=s;d<=o;d++){let g=r.doc.line(d);g.length<=f&&a.push(EditorSelection.range(g.from+u,g.to+f))}}else{let u=Math.min(e.col,n.col),f=Math.max(e.col,n.col);for(let d=s;d<=o;d++){let g=r.doc.line(d),m=findColumn(g.text,u,r.tabSize,!0);if(m<0)a.push(EditorSelection.cursor(g.to));else{let O=findColumn(g.text,f,r.tabSize);a.push(EditorSelection.range(g.from+m,g.from+O))}}}return a}function absoluteColumn(r,e){let n=r.coordsAtPos(r.viewport.from);return n?Math.round(Math.abs((n.left-e)/r.defaultCharacterWidth)):-1}function getPos(r,e){let n=r.posAtCoords({x:e.clientX,y:e.clientY},!1),s=r.state.doc.lineAt(n),o=n-s.from,a=o>MaxOff?-1:o==s.length?absoluteColumn(r,e.clientX):countColumn(s.text,r.state.tabSize,n-s.from);return{line:s.number,col:a,off:o}}function rectangleSelectionStyle(r,e){let n=getPos(r,e),s=r.state.selection;return n?{update(o){if(o.docChanged){let a=o.changes.mapPos(o.startState.doc.line(n.line).from),u=o.state.doc.lineAt(a);n={line:u.number,col:n.col,off:Math.min(n.off,u.length)},s=s.map(o.changes)}},get(o,a,u){let f=getPos(r,o);if(!f)return s;let d=rectangleFor(r.state,n,f);return d.length?u?EditorSelection.create(d.concat(s.ranges)):EditorSelection.create(d):s}}:null}function rectangularSelection(r){let e=n=>n.altKey&&n.button==0;return EditorView.mouseSelectionStyle.of((n,s)=>e(s)?rectangleSelectionStyle(n,s):null)}const keys={Alt:[18,r=>!!r.altKey],Control:[17,r=>!!r.ctrlKey],Shift:[16,r=>!!r.shiftKey],Meta:[91,r=>!!r.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(r={}){let[e,n]=keys[r.key||"Alt"],s=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.isDown=!1}set(o){this.isDown!=o&&(this.isDown=o,this.view.update([]))}},{eventObservers:{keydown(o){this.set(o.keyCode==e||n(o))},keyup(o){(o.keyCode==e||!n(o))&&this.set(!1)},mousemove(o){this.set(n(o))}}});return[s,EditorView.contentAttributes.of(o=>{var a;return!((a=o.plugin(s))===null||a===void 0)&&a.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(e,n,s,o){this.facet=n,this.createTooltipView=s,this.removeTooltipView=o,this.input=e.state.facet(n),this.tooltips=this.input.filter(u=>u);let a=null;this.tooltipViews=this.tooltips.map(u=>a=s(u,a))}update(e,n){var s;let o=e.state.facet(this.facet),a=o.filter(d=>d);if(o===this.input){for(let d of this.tooltipViews)d.update&&d.update(e);return!1}let u=[],f=n?[]:null;for(let d=0;d<a.length;d++){let g=a[d],m=-1;if(g){for(let O=0;O<this.tooltips.length;O++){let x=this.tooltips[O];x&&x.create==g.create&&(m=O)}if(m<0)u[d]=this.createTooltipView(g,d?u[d-1]:null),f&&(f[d]=!!g.above);else{let O=u[d]=this.tooltipViews[m];f&&(f[d]=n[m]),O.update&&O.update(e)}}}for(let d of this.tooltipViews)u.indexOf(d)<0&&(this.removeTooltipView(d),(s=d.destroy)===null||s===void 0||s.call(d));return n&&(f.forEach((d,g)=>n[g]=d),n.length=f.length),this.input=o,this.tooltips=a,this.tooltipViews=u,!0}}function windowSpace(r){let{win:e}=r;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const tooltipConfig=Facet.define({combine:r=>{var e,n,s;return{position:browser.ios?"absolute":((e=r.find(o=>o.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=r.find(o=>o.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((s=r.find(o=>o.tooltipSpace))===null||s===void 0?void 0:s.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(r){this.view=r,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=r.state.facet(tooltipConfig);this.position=e.position,this.parent=e.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(r,showTooltip,(n,s)=>this.createTooltip(n,s),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),r.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(r,this.above);e&&this.observeIntersection();let n=e||r.geometryChanged,s=r.state.facet(tooltipConfig);if(s.position!=this.position&&!this.madeAbsolute){this.position=s.position;for(let o of this.manager.tooltipViews)o.dom.style.position=this.position;n=!0}if(s.parent!=this.parent){this.parent&&this.container.remove(),this.parent=s.parent,this.createContainer();for(let o of this.manager.tooltipViews)this.container.appendChild(o.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(r,e){let n=r.create(this.view),s=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),r.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let o=document.createElement("div");o.className="cm-tooltip-arrow",n.dom.appendChild(o)}return n.dom.style.position=this.position,n.dom.style.top=Outside,n.dom.style.left="0px",this.container.insertBefore(n.dom,s),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var r,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let s of this.manager.tooltipViews)s.dom.remove(),(r=s.destroy)===null||r===void 0||r.call(s);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:a}=this.manager.tooltipViews[0];if(browser.gecko)n=a.offsetParent!=this.container.ownerDocument.body;else if(a.style.top==Outside&&a.style.left=="0px"){let u=a.getBoundingClientRect();n=Math.abs(u.top+1e4)>1||Math.abs(u.left)>1}}if(n||this.position=="absolute")if(this.parent){let a=this.parent.getBoundingClientRect();a.width&&a.height&&(r=a.width/this.parent.offsetWidth,e=a.height/this.parent.offsetHeight)}else({scaleX:r,scaleY:e}=this.view.viewState);let s=this.view.scrollDOM.getBoundingClientRect(),o=getScrollMargins(this.view);return{visible:{left:s.left+o.left,top:s.top+o.top,right:s.right-o.right,bottom:s.bottom-o.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((a,u)=>{let f=this.manager.tooltipViews[u];return f.getCoords?f.getCoords(a.pos):this.view.coordsAtPos(a.pos)}),size:this.manager.tooltipViews.map(({dom:a})=>a.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:r,scaleY:e,makeAbsolute:n}}writeMeasure(r){var e;if(r.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let f of this.manager.tooltipViews)f.dom.style.position="absolute"}let{visible:n,space:s,scaleX:o,scaleY:a}=r,u=[];for(let f=0;f<this.manager.tooltips.length;f++){let d=this.manager.tooltips[f],g=this.manager.tooltipViews[f],{dom:m}=g,O=r.pos[f],x=r.size[f];if(!O||d.clip!==!1&&(O.bottom<=Math.max(n.top,s.top)||O.top>=Math.min(n.bottom,s.bottom)||O.right<Math.max(n.left,s.left)-.1||O.left>Math.min(n.right,s.right)+.1)){m.style.top=Outside;continue}let b=d.arrow?g.dom.querySelector(".cm-tooltip-arrow"):null,w=b?7:0,E=x.right-x.left,k=(e=knownHeight.get(g))!==null&&e!==void 0?e:x.bottom-x.top,Q=g.offset||noOffset,A=this.view.textDirection==Direction.LTR,M=x.width>s.right-s.left?A?s.left:s.right-x.width:A?Math.max(s.left,Math.min(O.left-(b?14:0)+Q.x,s.right-E)):Math.min(Math.max(s.left,O.left-E+(b?14:0)-Q.x),s.right-E),$=this.above[f];!d.strictSide&&($?O.top-k-w-Q.y<s.top:O.bottom+k+w+Q.y>s.bottom)&&$==s.bottom-O.bottom>O.top-s.top&&($=this.above[f]=!$);let _=($?O.top-s.top:s.bottom-O.bottom)-w;if(_<k&&g.resize!==!1){if(_<this.view.defaultLineHeight){m.style.top=Outside;continue}knownHeight.set(g,k),m.style.height=(k=_)/a+"px"}else m.style.height&&(m.style.height="");let j=$?O.top-k-w-Q.y:O.bottom+w+Q.y,Z=M+E;if(g.overlap!==!0)for(let W of u)W.left<Z&&W.right>M&&W.top<j+k&&W.bottom>j&&(j=$?W.top-k-2-w:W.bottom+w+2);if(this.position=="absolute"?(m.style.top=(j-r.parent.top)/a+"px",setLeftStyle(m,(M-r.parent.left)/o)):(m.style.top=j/a+"px",setLeftStyle(m,M/o)),b){let W=O.left+(A?Q.x:-Q.x)-(M+14-7);b.style.left=W/o+"px"}g.overlap!==!0&&u.push({left:M,top:j,right:Z,bottom:j+k}),m.classList.toggle("cm-tooltip-above",$),m.classList.toggle("cm-tooltip-below",!$),g.positioned&&g.positioned(r.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}});function setLeftStyle(r,e){let n=parseInt(r.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(r.style.left=e+"px")}const baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define({combine:r=>r.reduce((e,n)=>e.concat(n),[])});class HoverTooltipHost{static create(e){return new HoverTooltipHost(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(e,showHoverTooltip,(n,s)=>this.createHostedView(n,s),n=>n.dom.remove())}createHostedView(e,n){let s=e.create(this.view);return s.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(s.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&s.mount&&s.mount(this.view),s}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let s of this.manager.tooltipViews){let o=s[e];if(o!==void 0){if(n===void 0)n=o;else if(n!==o)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],r=>{let e=r.facet(showHoverTooltip);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var s;return(s=n.end)!==null&&s!==void 0?s:n.pos})),create:HoverTooltipHost.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class HoverPlugin{constructor(e,n,s,o,a){this.view=e,this.source=n,this.field=s,this.setHover=o,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,s=e.docView.nearest(n.target);if(!s)return;let o,a=1;if(s instanceof WidgetView)o=s.posAtStart;else{if(o=e.posAtCoords(n),o==null)return;let f=e.coordsAtPos(o);if(!f||n.y<f.top||n.y>f.bottom||n.x<f.left-e.defaultCharacterWidth||n.x>f.right+e.defaultCharacterWidth)return;let d=e.bidiSpans(e.state.doc.lineAt(o)).find(m=>m.from<=o&&m.to>=o),g=d&&d.dir==Direction.RTL?-1:1;a=n.x<f.left?-g:g}let u=this.source(e,o,a);if(u!=null&&u.then){let f=this.pending={pos:o};u.then(d=>{this.pending==f&&(this.pending=null,d&&!(Array.isArray(d)&&!d.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(d)?d:[d])}))},d=>logException(e.state,d,"hover tooltip"))}else u&&!(Array.isArray(u)&&!u.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])})}get tooltip(){let e=this.view.plugin(tooltipPlugin),n=e?e.manager.tooltips.findIndex(s=>s.create==HoverTooltipHost.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,s;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:o,tooltip:a}=this;if(o.length&&a&&!isInTooltip(a.dom,e)||this.pending){let{pos:u}=o[0]||this.pending,f=(s=(n=o[0])===null||n===void 0?void 0:n.end)!==null&&s!==void 0?s:u;(u==f?this.view.posAtCoords(this.lastMove)!=u:!isOverRange(this.view,u,f,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:s}=this;s&&s.dom.contains(e.relatedTarget)?this.watchTooltipLeave(s.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=s=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(s.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(r,e){let{left:n,right:s,top:o,bottom:a}=r.getBoundingClientRect(),u;if(u=r.querySelector(".cm-tooltip-arrow")){let f=u.getBoundingClientRect();o=Math.min(f.top,o),a=Math.max(f.bottom,a)}return e.clientX>=n-tooltipMargin&&e.clientX<=s+tooltipMargin&&e.clientY>=o-tooltipMargin&&e.clientY<=a+tooltipMargin}function isOverRange(r,e,n,s,o,a){let u=r.scrollDOM.getBoundingClientRect(),f=r.documentTop+r.documentPadding.top+r.contentHeight;if(u.left>s||u.right<s||u.top>o||Math.min(u.bottom,f)<o)return!1;let d=r.posAtCoords({x:s,y:o},!1);return d>=e&&d<=n}function hoverTooltip(r,e={}){let n=StateEffect.define(),s=StateField.define({create(){return[]},update(o,a){if(o.length&&(e.hideOnChange&&(a.docChanged||a.selection)?o=[]:e.hideOn&&(o=o.filter(u=>!e.hideOn(a,u))),a.docChanged)){let u=[];for(let f of o){let d=a.changes.mapPos(f.pos,-1,MapMode.TrackDel);if(d!=null){let g=Object.assign(Object.create(null),f);g.pos=d,g.end!=null&&(g.end=a.changes.mapPos(g.end)),u.push(g)}}o=u}for(let u of a.effects)u.is(n)&&(o=u.value),u.is(closeHoverTooltipEffect)&&(o=[]);return o},provide:o=>showHoverTooltip.from(o)});return{active:s,extension:[s,ViewPlugin.define(o=>new HoverPlugin(o,r,s,n,e.hoverTime||300)),showHoverTooltipHost]}}function getTooltip(r,e){let n=r.plugin(tooltipPlugin);if(!n)return null;let s=n.manager.tooltips.indexOf(e);return s<0?null:n.manager.tooltipViews[s]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(r){let e,n;for(let s of r)e=e||s.topContainer,n=n||s.bottomContainer;return{topContainer:e,bottomContainer:n}}});function getPanel(r,e){let n=r.plugin(panelPlugin),s=n?n.specs.indexOf(e):-1;return s>-1?n.panels[s]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(r){this.input=r.state.facet(showPanel),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(r));let e=r.state.facet(panelConfig);this.top=new PanelGroup(r,!0,e.topContainer),this.bottom=new PanelGroup(r,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(r){let e=r.state.facet(panelConfig);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new PanelGroup(r.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(r.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=r.state.facet(showPanel);if(n!=this.input){let s=n.filter(d=>d),o=[],a=[],u=[],f=[];for(let d of s){let g=this.specs.indexOf(d),m;g<0?(m=d(r.view),f.push(m)):(m=this.panels[g],m.update&&m.update(r)),o.push(m),(m.top?a:u).push(m)}this.specs=s,this.panels=o,this.top.sync(a),this.bottom.sync(u);for(let d of f)d.dom.classList.add("cm-panel"),d.mount&&d.mount()}else for(let s of this.panels)s.update&&s.update(r)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:r=>EditorView.scrollMargins.of(e=>{let n=e.plugin(r);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class PanelGroup{constructor(e,n,s){this.view=e,this.top=n,this.container=s,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=rm(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=rm(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function rm(r){let e=r.nextSibling;return r.remove(),e}const showPanel=Facet.define({enables:panelPlugin});class GutterMarker extends RangeValue{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),gutterWidgetClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},activeGutters=Facet.define();function gutter(r){return[gutters(),activeGutters.of(Object.assign(Object.assign({},defaults$1),r))]}const unfixGutters=Facet.define({combine:r=>r.some(e=>e)});function gutters(r){return[gutterView]}const gutterView=ViewPlugin.fromClass(class{constructor(r){this.view=r,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=r.state.facet(activeGutters).map(e=>new SingleGutterView(r,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!r.state.facet(unfixGutters),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}update(r){if(this.updateGutters(r)){let e=this.prevViewport,n=r.view.viewport,s=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(s<(n.to-n.from)*.8)}r.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&this.dom.remove();let n=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),s=[],o=this.gutters.map(a=>new UpdateContext(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(s.length&&(s=[]),Array.isArray(a.type)){let u=!0;for(let f of a.type)if(f.type==BlockType.Text&&u){advanceCursor(n,s,f.from);for(let d of o)d.line(this.view,f,s);u=!1}else if(f.widget)for(let d of o)d.widget(this.view,f)}else if(a.type==BlockType.Text){advanceCursor(n,s,a.from);for(let u of o)u.line(this.view,a,s)}else if(a.widget)for(let u of o)u.widget(this.view,a);for(let a of o)a.finish();r&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(r){let e=r.startState.facet(activeGutters),n=r.state.facet(activeGutters),s=r.docChanged||r.heightChanged||r.viewportChanged||!RangeSet.eq(r.startState.facet(gutterLineClass),r.state.facet(gutterLineClass),r.view.viewport.from,r.view.viewport.to);if(e==n)for(let o of this.gutters)o.update(r)&&(s=!0);else{s=!0;let o=[];for(let a of n){let u=e.indexOf(a);u<0?o.push(new SingleGutterView(this.view,a)):(this.gutters[u].update(r),o.push(this.gutters[u]))}for(let a of this.gutters)a.dom.remove(),o.indexOf(a)<0&&a.destroy();for(let a of o)this.dom.appendChild(a.dom);this.gutters=o}return s}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove()}},{provide:r=>EditorView.scrollMargins.of(e=>{let n=e.plugin(r);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==Direction.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function asArray(r){return Array.isArray(r)?r:[r]}function advanceCursor(r,e,n){for(;r.value&&r.from<=n;)r.from==n&&e.push(r.value),r.next()}class UpdateContext{constructor(e,n,s){this.gutter=e,this.height=s,this.i=0,this.cursor=RangeSet.iter(e.markers,n.from)}addElement(e,n,s){let{gutter:o}=this,a=(n.top-this.height)/e.scaleY,u=n.height/e.scaleY;if(this.i==o.elements.length){let f=new GutterElement(e,u,a,s);o.elements.push(f),o.dom.appendChild(f.dom)}else o.elements[this.i].update(e,u,a,s);this.height=n.bottom,this.i++}line(e,n,s){let o=[];advanceCursor(this.cursor,o,n.from),s.length&&(o=o.concat(s));let a=this.gutter.config.lineMarker(e,n,o);a&&o.unshift(a);let u=this.gutter;o.length==0&&!u.config.renderEmptyElements||this.addElement(e,n,o)}widget(e,n){let s=this.gutter.config.widgetMarker(e,n.widget,n),o=s?[s]:null;for(let a of e.state.facet(gutterWidgetClass)){let u=a(e,n.widget,n);u&&(o||(o=[])).push(u)}o&&this.addElement(e,n,o)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class SingleGutterView{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let s in n.domEventHandlers)this.dom.addEventListener(s,o=>{let a=o.target,u;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let d=a.getBoundingClientRect();u=(d.top+d.bottom)/2}else u=o.clientY;let f=e.lineBlockAtHeight(u-e.documentTop);n.domEventHandlers[s](e,f,o)&&o.preventDefault()});this.markers=asArray(n.markers(e)),n.initialSpacer&&(this.spacer=new GutterElement(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=asArray(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let o=this.config.updateSpacer(this.spacer.markers[0],e);o!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[o])}let s=e.view.viewport;return!RangeSet.eq(this.markers,n,s.from,s.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class GutterElement{constructor(e,n,s,o){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,s,o)}update(e,n,s,o){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=s&&(this.dom.style.marginTop=(this.above=s)?s+"px":""),sameMarkers(this.markers,o)||this.setMarkers(e,o)}setMarkers(e,n){let s="cm-gutterElement",o=this.dom.firstChild;for(let a=0,u=0;;){let f=u,d=a<n.length?n[a++]:null,g=!1;if(d){let m=d.elementClass;m&&(s+=" "+m);for(let O=u;O<this.markers.length;O++)if(this.markers[O].compare(d)){f=O,g=!0;break}}else f=this.markers.length;for(;u<f;){let m=this.markers[u++];if(m.toDOM){m.destroy(o);let O=o.nextSibling;o.remove(),o=O}}if(!d)break;d.toDOM&&(g?o=o.nextSibling:this.dom.insertBefore(d.toDOM(e),o)),g&&u++}this.dom.className=s,this.markers=n}destroy(){this.setMarkers(null,[])}}function sameMarkers(r,e){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!r[n].compare(e[n]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberWidgetMarker=Facet.define(),lineNumberConfig=Facet.define({combine(r){return combineConfig(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let s=Object.assign({},e);for(let o in n){let a=s[o],u=n[o];s[o]=a?(f,d,g)=>a(f,d,g)||u(f,d,g):u}return s}})}});class NumberMarker extends GutterMarker{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(r,e){return r.state.facet(lineNumberConfig).formatNumber(e,r.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(lineNumberMarkers)},lineMarker(e,n,s){return s.some(o=>o.toDOM)?null:new NumberMarker(formatNumber(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,s)=>{for(let o of e.state.facet(lineNumberWidgetMarker)){let a=o(e,n,s);if(a)return a}return null},lineMarkerChange:e=>e.startState.facet(lineNumberConfig)!=e.state.facet(lineNumberConfig),initialSpacer(e){return new NumberMarker(formatNumber(e,maxLineNumber(e.state.doc.lines)))},updateSpacer(e,n){let s=formatNumber(n.view,maxLineNumber(n.view.state.doc.lines));return s==e.number?e:new NumberMarker(s)},domEventHandlers:r.facet(lineNumberConfig).domEventHandlers}));function lineNumbers(r={}){return[lineNumberConfig.of(r),gutters(),lineNumberGutter]}function maxLineNumber(r){let e=9;for(;e<r;)e=e*10+9;return e}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],r=>{let e=[],n=-1;for(let s of r.selection.ranges){let o=r.doc.lineAt(s.head).from;o>n&&(n=o,e.push(activeLineGutterMarker.range(o)))}return RangeSet.of(e)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(e,n){this.from=e,this.to=n}}class NodeProp{constructor(e={}){this.id=nextPropID++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=NodeType.match(e)),n=>{let s=e(n);return s===void 0?null:[this,s]}}}NodeProp.closedBy=new NodeProp({deserialize:r=>r.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:r=>r.split(" ")});NodeProp.group=new NodeProp({deserialize:r=>r.split(" ")});NodeProp.isolate=new NodeProp({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(e,n,s){this.tree=e,this.overlay=n,this.parser=s}static get(e){return e&&e.props&&e.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor(e,n,s,o=0){this.name=e,this.props=n,this.id=s,this.flags=o}static define(e){let n=e.props&&e.props.length?Object.create(null):noProps,s=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),o=new NodeType(e.name||"",n,e.id,s);if(e.props){for(let a of e.props)if(Array.isArray(a)||(a=a(o)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[a[0].id]=a[1]}}return o}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(NodeProp.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let s in e)for(let o of s.split(" "))n[o]=e[s];return s=>{for(let o=s.prop(NodeProp.group),a=-1;a<(o?o.length:0);a++){let u=n[a<0?s.name:o[a]];if(u)return u}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let s of this.types){let o=null;for(let a of e){let u=a(s);u&&(o||(o=Object.assign({},s.props)),o[u[0].id]=u[1])}n.push(o?new NodeType(s.name,o,s.id,s.flags):s)}return new NodeSet(n)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor(e,n,s,o,a){if(this.type=e,this.children=n,this.positions=s,this.length=o,this.props=null,a&&a.length){this.props=Object.create(null);for(let[u,f]of a)this.props[typeof u=="number"?u:u.id]=f}}toString(){let e=MountedTree.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let s of this.children){let o=s.toString();o&&(n&&(n+=","),n+=o)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new TreeCursor(this.topNode,e)}cursorAt(e,n=0,s=0){let o=CachedNode.get(this)||this.topNode,a=new TreeCursor(o);return a.moveTo(e,n),CachedNode.set(this,a._tree),a}get topNode(){return new TreeNode(this,0,0,null)}resolve(e,n=0){let s=resolveNode(CachedNode.get(this)||this.topNode,e,n,!1);return CachedNode.set(this,s),s}resolveInner(e,n=0){let s=resolveNode(CachedInnerNode.get(this)||this.topNode,e,n,!0);return CachedInnerNode.set(this,s),s}resolveStack(e,n=0){return stackIterator(this,e,n)}iterate(e){let{enter:n,leave:s,from:o=0,to:a=this.length}=e,u=e.mode||0,f=(u&IterMode.IncludeAnonymous)>0;for(let d=this.cursor(u|IterMode.IncludeAnonymous);;){let g=!1;if(d.from<=a&&d.to>=o&&(!f&&d.type.isAnonymous||n(d)!==!1)){if(d.firstChild())continue;g=!0}for(;g&&s&&(f||!d.type.isAnonymous)&&s(d),!d.nextSibling();){if(!d.parent())return;g=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(n,s,o)=>new Tree(this.type,n,s,o,this.propValues),e.makeTree||((n,s,o)=>new Tree(NodeType.none,n,s,o)))}static build(e){return buildTree(e)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(e,n,s){this.buffer=e,this.length=n,this.set=s}get type(){return NodeType.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],s=this.buffer[e+3],o=this.set.types[n],a=o.name;if(/\W/.test(a)&&!o.isError&&(a=JSON.stringify(a)),e+=4,s==e)return a;let u=[];for(;e<s;)u.push(this.childString(e)),e=this.buffer[e+3];return a+"("+u.join(",")+")"}findChild(e,n,s,o,a){let{buffer:u}=this,f=-1;for(let d=e;d!=n&&!(checkSide(a,o,u[d+1],u[d+2])&&(f=d,s>0));d=u[d+3]);return f}slice(e,n,s){let o=this.buffer,a=new Uint16Array(n-e),u=0;for(let f=e,d=0;f<n;){a[d++]=o[f++],a[d++]=o[f++]-s;let g=a[d++]=o[f++]-s;a[d++]=o[f++]-e,u=Math.max(u,g)}return new TreeBuffer(a,u,this.set)}}function checkSide(r,e,n,s){switch(r){case-2:return n<e;case-1:return s>=e&&n<e;case 0:return n<e&&s>e;case 1:return n<=e&&s>e;case 2:return s>e;case 4:return!0}}function resolveNode(r,e,n,s){for(var o;r.from==r.to||(n<1?r.from>=e:r.from>e)||(n>-1?r.to<=e:r.to<e);){let u=!s&&r instanceof TreeNode&&r.index<0?null:r.parent;if(!u)return r;r=u}let a=s?0:IterMode.IgnoreOverlays;if(s)for(let u=r,f=u.parent;f;u=f,f=u.parent)u instanceof TreeNode&&u.index<0&&((o=f.enter(e,n,a))===null||o===void 0?void 0:o.from)!=u.from&&(r=f);for(;;){let u=r.enter(e,n,a);if(!u)return r;r=u}}class BaseNode{cursor(e=0){return new TreeCursor(this,e)}getChild(e,n=null,s=null){let o=getChildren(this,e,n,s);return o.length?o[0]:null}getChildren(e,n=null,s=null){return getChildren(this,e,n,s)}resolve(e,n=0){return resolveNode(this,e,n,!1)}resolveInner(e,n=0){return resolveNode(this,e,n,!0)}matchContext(e){return matchNodeContext(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),s=this;for(;n;){let o=n.lastChild;if(!o||o.to!=n.to)break;o.type.isError&&o.from==o.to?(s=n,n=o.prevSibling):n=o}return s}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor(e,n,s,o){super(),this._tree=e,this.from=n,this.index=s,this._parent=o}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,s,o,a=0){for(let u=this;;){for(let{children:f,positions:d}=u._tree,g=n>0?f.length:-1;e!=g;e+=n){let m=f[e],O=d[e]+u.from;if(checkSide(o,s,O,O+m.length)){if(m instanceof TreeBuffer){if(a&IterMode.ExcludeBuffers)continue;let x=m.findChild(0,m.buffer.length,n,s-O,o);if(x>-1)return new BufferNode(new BufferContext(u,m,e,O),null,x)}else if(a&IterMode.IncludeAnonymous||!m.type.isAnonymous||hasChild(m)){let x;if(!(a&IterMode.IgnoreMounts)&&(x=MountedTree.get(m))&&!x.overlay)return new TreeNode(x.tree,O,e,u);let b=new TreeNode(m,O,e,u);return a&IterMode.IncludeAnonymous||!b.type.isAnonymous?b:b.nextChild(n<0?m.children.length-1:0,n,s,o)}}}if(a&IterMode.IncludeAnonymous||!u.type.isAnonymous||(u.index>=0?e=u.index+n:e=n<0?-1:u._parent._tree.children.length,u=u._parent,!u))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,s=0){let o;if(!(s&IterMode.IgnoreOverlays)&&(o=MountedTree.get(this._tree))&&o.overlay){let a=e-this.from;for(let{from:u,to:f}of o.overlay)if((n>0?u<=a:u<a)&&(n<0?f>=a:f>a))return new TreeNode(o.tree,o.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,s)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren(r,e,n,s){let o=r.cursor(),a=[];if(!o.firstChild())return a;if(n!=null){for(let u=!1;!u;)if(u=o.type.is(n),!o.nextSibling())return a}for(;;){if(s!=null&&o.type.is(s))return a;if(o.type.is(e)&&a.push(o.node),!o.nextSibling())return s==null?a:[]}}function matchNodeContext(r,e,n=e.length-1){for(let s=r;n>=0;s=s.parent){if(!s)return!1;if(!s.type.isAnonymous){if(e[n]&&e[n]!=s.name)return!1;n--}}return!0}class BufferContext{constructor(e,n,s,o){this.parent=e,this.buffer=n,this.index=s,this.start=o}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,s){super(),this.context=e,this._parent=n,this.index=s,this.type=e.buffer.set.types[e.buffer.buffer[s]]}child(e,n,s){let{buffer:o}=this.context,a=o.findChild(this.index+4,o.buffer[this.index+3],e,n-this.context.start,s);return a<0?null:new BufferNode(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,s=0){if(s&IterMode.ExcludeBuffers)return null;let{buffer:o}=this.context,a=o.findChild(this.index+4,o.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return a<0?null:new BufferNode(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new BufferNode(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new BufferNode(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:s}=this.context,o=this.index+4,a=s.buffer[this.index+3];if(a>o){let u=s.buffer[this.index+1];e.push(s.slice(o,a,u)),n.push(0)}return new Tree(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(r){if(!r.length)return null;let e=0,n=r[0];for(let a=1;a<r.length;a++){let u=r[a];(u.from>n.from||u.to<n.to)&&(n=u,e=a)}let s=n instanceof TreeNode&&n.index<0?null:n.parent,o=r.slice();return s?o[e]=s:o.splice(e,1),new StackIterator(o,n)}class StackIterator{constructor(e,n){this.heads=e,this.node=n}get next(){return iterStack(this.heads)}}function stackIterator(r,e,n){let s=r.resolveInner(e,n),o=null;for(let a=s instanceof TreeNode?s:s.context.parent;a;a=a.parent)if(a.index<0){let u=a.parent;(o||(o=[s])).push(u.resolve(e,n)),a=u}else{let u=MountedTree.get(a.tree);if(u&&u.overlay&&u.overlay[0].from<=e&&u.overlay[u.overlay.length-1].to>=e){let f=new TreeNode(u.tree,u.overlay[0].from+a.from,-1,a);(o||(o=[s])).push(resolveNode(f,e,n,!1))}}return o?iterStack(o):s}class TreeCursor{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof TreeNode)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let s=e._parent;s;s=s._parent)this.stack.unshift(s.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:s,buffer:o}=this.buffer;return this.type=n||o.set.types[o.buffer[e]],this.from=s+o.buffer[e+1],this.to=s+o.buffer[e+2],!0}yield(e){return e?e instanceof TreeNode?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,s){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,s,this.mode));let{buffer:o}=this.buffer,a=o.findChild(this.index+4,o.buffer[this.index+3],e,n-this.buffer.start,s);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,s=this.mode){return this.buffer?s&IterMode.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,s))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,s=this.stack.length-1;if(e<0){let o=s<0?0:this.stack[s]+4;if(this.index!=o)return this.yieldBuf(n.findChild(o,this.index,-1,0,4))}else{let o=n.buffer[this.index+3];if(o<(s<0?n.buffer.length:n.buffer[this.stack[s]+3]))return this.yieldBuf(o)}return s<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,s,{buffer:o}=this;if(o){if(e>0){if(this.index<o.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(o.buffer.buffer[a+3]<this.index)return!1;({index:n,parent:s}=o)}else({index:n,_parent:s}=this._tree);for(;s;{index:n,_parent:s}=s)if(n>-1)for(let a=n+e,u=e<0?-1:s._tree.children.length;a!=u;a+=e){let f=s._tree.children[a];if(this.mode&IterMode.IncludeAnonymous||f instanceof TreeBuffer||!f.type.isAnonymous||hasChild(f))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,s=0;if(e&&e.context==this.buffer)e:for(let o=this.index,a=this.stack.length;a>=0;){for(let u=e;u;u=u._parent)if(u.index==o){if(o==this.index)return u;n=u,s=a+1;break e}o=this.stack[--a]}for(let o=s;o<this.stack.length;o++)n=new BufferNode(this.buffer,n,this.stack[o]);return this.bufferNode=new BufferNode(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let s=0;;){let o=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){s++;continue}this.type.isAnonymous||(o=!0)}for(;;){if(o&&n&&n(this),o=this.type.isAnonymous,!s)return;if(this.nextSibling())break;this.parent(),s--,o=!0}}}matchContext(e){if(!this.buffer)return matchNodeContext(this.node.parent,e);let{buffer:n}=this.buffer,{types:s}=n.set;for(let o=e.length-1,a=this.stack.length-1;o>=0;a--){if(a<0)return matchNodeContext(this._tree,e,o);let u=s[n.buffer[this.stack[a]]];if(!u.isAnonymous){if(e[o]&&e[o]!=u.name)return!1;o--}}return!0}}function hasChild(r){return r.children.some(e=>e instanceof TreeBuffer||!e.type.isAnonymous||hasChild(e))}function buildTree(r){var e;let{buffer:n,nodeSet:s,maxBufferLength:o=DefaultBufferLength,reused:a=[],minRepeatType:u=s.types.length}=r,f=Array.isArray(n)?new FlatBufferCursor(n,n.length):n,d=s.types,g=0,m=0;function O(_,j,Z,W,B,H){let{id:ee,start:I,end:J,size:D}=f,q=m,P=g;for(;D<0;)if(f.next(),D==-1){let U=a[ee];Z.push(U),W.push(I-_);return}else if(D==-3){g=ee;return}else if(D==-4){m=ee;return}else throw new RangeError(`Unrecognized record size: ${D}`);let V=d[ee],L,z,R=I-_;if(J-I<=o&&(z=k(f.pos-j,B))){let U=new Uint16Array(z.size-z.skip),te=f.pos-z.size,oe=U.length;for(;f.pos>te;)oe=Q(z.start,U,oe);L=new TreeBuffer(U,J-z.start,s),R=z.start-_}else{let U=f.pos-D;f.next();let te=[],oe=[],ne=ee>=u?ee:-1,fe=0,ue=J;for(;f.pos>U;)ne>=0&&f.id==ne&&f.size>=0?(f.end<=ue-o&&(w(te,oe,I,fe,f.end,ue,ne,q,P),fe=te.length,ue=f.end),f.next()):H>2500?x(I,U,te,oe):O(I,U,te,oe,ne,H+1);if(ne>=0&&fe>0&&fe<te.length&&w(te,oe,I,fe,I,ue,ne,q,P),te.reverse(),oe.reverse(),ne>-1&&fe>0){let he=b(V,P);L=balanceRange(V,te,oe,0,te.length,0,J-I,he,he)}else L=E(V,te,oe,J-I,q-J,P)}Z.push(L),W.push(R)}function x(_,j,Z,W){let B=[],H=0,ee=-1;for(;f.pos>j;){let{id:I,start:J,end:D,size:q}=f;if(q>4)f.next();else{if(ee>-1&&J<ee)break;ee<0&&(ee=D-o),B.push(I,J,D),H++,f.next()}}if(H){let I=new Uint16Array(H*4),J=B[B.length-2];for(let D=B.length-3,q=0;D>=0;D-=3)I[q++]=B[D],I[q++]=B[D+1]-J,I[q++]=B[D+2]-J,I[q++]=q;Z.push(new TreeBuffer(I,B[2]-J,s)),W.push(J-_)}}function b(_,j){return(Z,W,B)=>{let H=0,ee=Z.length-1,I,J;if(ee>=0&&(I=Z[ee])instanceof Tree){if(!ee&&I.type==_&&I.length==B)return I;(J=I.prop(NodeProp.lookAhead))&&(H=W[ee]+I.length+J)}return E(_,Z,W,B,H,j)}}function w(_,j,Z,W,B,H,ee,I,J){let D=[],q=[];for(;_.length>W;)D.push(_.pop()),q.push(j.pop()+Z-B);_.push(E(s.types[ee],D,q,H-B,I-H,J)),j.push(B-Z)}function E(_,j,Z,W,B,H,ee){if(H){let I=[NodeProp.contextHash,H];ee=ee?[I].concat(ee):[I]}if(B>25){let I=[NodeProp.lookAhead,B];ee=ee?[I].concat(ee):[I]}return new Tree(_,j,Z,W,ee)}function k(_,j){let Z=f.fork(),W=0,B=0,H=0,ee=Z.end-o,I={size:0,start:0,skip:0};e:for(let J=Z.pos-_;Z.pos>J;){let D=Z.size;if(Z.id==j&&D>=0){I.size=W,I.start=B,I.skip=H,H+=4,W+=4,Z.next();continue}let q=Z.pos-D;if(D<0||q<J||Z.start<ee)break;let P=Z.id>=u?4:0,V=Z.start;for(Z.next();Z.pos>q;){if(Z.size<0)if(Z.size==-3)P+=4;else break e;else Z.id>=u&&(P+=4);Z.next()}B=V,W+=D,H+=P}return(j<0||W==_)&&(I.size=W,I.start=B,I.skip=H),I.size>4?I:void 0}function Q(_,j,Z){let{id:W,start:B,end:H,size:ee}=f;if(f.next(),ee>=0&&W<u){let I=Z;if(ee>4){let J=f.pos-(ee-4);for(;f.pos>J;)Z=Q(_,j,Z)}j[--Z]=I,j[--Z]=H-_,j[--Z]=B-_,j[--Z]=W}else ee==-3?g=W:ee==-4&&(m=W);return Z}let A=[],M=[];for(;f.pos>0;)O(r.start||0,r.bufferStart||0,A,M,-1,0);let $=(e=r.length)!==null&&e!==void 0?e:A.length?M[0]+A[0].length:0;return new Tree(d[r.topID],A.reverse(),M.reverse(),$)}const nodeSizeCache=new WeakMap;function nodeSize(r,e){if(!r.isAnonymous||e instanceof TreeBuffer||e.type!=r)return 1;let n=nodeSizeCache.get(e);if(n==null){n=1;for(let s of e.children){if(s.type!=r||!(s instanceof Tree)){n=1;break}n+=nodeSize(r,s)}nodeSizeCache.set(e,n)}return n}function balanceRange(r,e,n,s,o,a,u,f,d){let g=0;for(let w=s;w<o;w++)g+=nodeSize(r,e[w]);let m=Math.ceil(g*1.5/8),O=[],x=[];function b(w,E,k,Q,A){for(let M=k;M<Q;){let $=M,_=E[M],j=nodeSize(r,w[M]);for(M++;M<Q;M++){let Z=nodeSize(r,w[M]);if(j+Z>=m)break;j+=Z}if(M==$+1){if(j>m){let Z=w[$];b(Z.children,Z.positions,0,Z.children.length,E[$]+A);continue}O.push(w[$])}else{let Z=E[M-1]+w[M-1].length-_;O.push(balanceRange(r,w,E,$,M,_,Z,null,d))}x.push(_+A-a)}}return b(e,n,s,o,0),(f||d)(O,x,u)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(e,n,s){let o=this.map.get(e);o||this.map.set(e,o=new Map),o.set(n,s)}getBuffer(e,n){let s=this.map.get(e);return s&&s.get(n)}set(e,n){e instanceof BufferNode?this.setBuffer(e.context.buffer,e.index,n):e instanceof TreeNode&&this.map.set(e.tree,n)}get(e){return e instanceof BufferNode?this.getBuffer(e.context.buffer,e.index):e instanceof TreeNode?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class TreeFragment{constructor(e,n,s,o,a=!1,u=!1){this.from=e,this.to=n,this.tree=s,this.offset=o,this.open=(a?1:0)|(u?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],s=!1){let o=[new TreeFragment(0,e.length,e,0,!1,s)];for(let a of n)a.to>e.length&&o.push(a);return o}static applyChanges(e,n,s=128){if(!n.length)return e;let o=[],a=1,u=e.length?e[0]:null;for(let f=0,d=0,g=0;;f++){let m=f<n.length?n[f]:null,O=m?m.fromA:1e9;if(O-d>=s)for(;u&&u.from<O;){let x=u;if(d>=x.from||O<=x.to||g){let b=Math.max(x.from,d)-g,w=Math.min(x.to,O)-g;x=b>=w?null:new TreeFragment(b,w,x.tree,x.offset+g,f>0,!!m)}if(x&&o.push(x),u.to>O)break;u=a<e.length?e[a++]:null}if(!m)break;d=m.toA,g=m.toA-m.toB}return o}}class Parser{startParse(e,n,s){return typeof e=="string"&&(e=new StringInput(e)),s=s?s.length?s.map(o=>new Range(o.from,o.to)):[new Range(0,0)]:[new Range(0,e.length)],this.createParse(e,n||[],s)}parse(e,n,s){let o=this.startParse(e,n,s);for(;;){let a=o.advance();if(a)return a}}}class StringInput{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new NodeProp({perNode:!0});let nextTagID=0;class Tag{constructor(e,n,s,o){this.name=e,this.set=n,this.base=s,this.modified=o,this.id=nextTagID++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let s=typeof e=="string"?e:"?";if(e instanceof Tag&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let o=new Tag(s,[],null,[]);if(o.set.push(o),n)for(let a of n.set)o.set.push(a);return o}static defineModifier(e){let n=new Modifier(e);return s=>s.modified.indexOf(n)>-1?s:Modifier.get(s.base||s,s.modified.concat(n).sort((o,a)=>o.id-a.id))}}let nextModifierID=0;class Modifier{constructor(e){this.name=e,this.instances=[],this.id=nextModifierID++}static get(e,n){if(!n.length)return e;let s=n[0].instances.find(f=>f.base==e&&sameArray(n,f.modified));if(s)return s;let o=[],a=new Tag(e.name,o,e,n);for(let f of n)f.instances.push(a);let u=powerSet(n);for(let f of e.set)if(!f.modified.length)for(let d of u)o.push(Modifier.get(f,d));return a}}function sameArray(r,e){return r.length==e.length&&r.every((n,s)=>n==e[s])}function powerSet(r){let e=[[]];for(let n=0;n<r.length;n++)for(let s=0,o=e.length;s<o;s++)e.push(e[s].concat(r[n]));return e.sort((n,s)=>s.length-n.length)}function styleTags(r){let e=Object.create(null);for(let n in r){let s=r[n];Array.isArray(s)||(s=[s]);for(let o of n.split(" "))if(o){let a=[],u=2,f=o;for(let O=0;;){if(f=="..."&&O>0&&O+3==o.length){u=1;break}let x=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(f);if(!x)throw new RangeError("Invalid path: "+o);if(a.push(x[0]=="*"?"":x[0][0]=='"'?JSON.parse(x[0]):x[0]),O+=x[0].length,O==o.length)break;let b=o[O++];if(O==o.length&&b=="!"){u=0;break}if(b!="/")throw new RangeError("Invalid path: "+o);f=o.slice(O)}let d=a.length-1,g=a[d];if(!g)throw new RangeError("Invalid path: "+o);let m=new Rule(s,u,d>0?a.slice(0,d):null);e[g]=m.sort(e[g])}}return ruleNodeProp.add(e)}const ruleNodeProp=new NodeProp;class Rule{constructor(e,n,s,o){this.tags=e,this.mode=n,this.context=s,this.next=o}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(r,e){let n=Object.create(null);for(let a of r)if(!Array.isArray(a.tag))n[a.tag.id]=a.class;else for(let u of a.tag)n[u.id]=a.class;let{scope:s,all:o=null}=e||{};return{style:a=>{let u=o;for(let f of a)for(let d of f.set){let g=n[d.id];if(g){u=u?u+" "+g:g;break}}return u},scope:s}}function highlightTags(r,e){let n=null;for(let s of r){let o=s.style(e);o&&(n=n?n+" "+o:o)}return n}function highlightTree(r,e,n,s=0,o=r.length){let a=new HighlightBuilder(s,Array.isArray(e)?e:[e],n);a.highlightRange(r.cursor(),s,o,"",a.highlighters),a.flush(o)}class HighlightBuilder{constructor(e,n,s){this.at=e,this.highlighters=n,this.span=s,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,s,o,a){let{type:u,from:f,to:d}=e;if(f>=s||d<=n)return;u.isTop&&(a=this.highlighters.filter(b=>!b.scope||b.scope(u)));let g=o,m=getStyleTags(e)||Rule.empty,O=highlightTags(a,m.tags);if(O&&(g&&(g+=" "),g+=O,m.mode==1&&(o+=(o?" ":"")+O)),this.startSpan(Math.max(n,f),g),m.opaque)return;let x=e.tree&&e.tree.prop(NodeProp.mounted);if(x&&x.overlay){let b=e.node.enter(x.overlay[0].from+f,1),w=this.highlighters.filter(k=>!k.scope||k.scope(x.tree.type)),E=e.firstChild();for(let k=0,Q=f;;k++){let A=k<x.overlay.length?x.overlay[k]:null,M=A?A.from+f:d,$=Math.max(n,Q),_=Math.min(s,M);if($<_&&E)for(;e.from<_&&(this.highlightRange(e,$,_,o,a),this.startSpan(Math.min(_,e.to),g),!(e.to>=M||!e.nextSibling())););if(!A||M>s)break;Q=A.to+f,Q>n&&(this.highlightRange(b.cursor(),Math.max(n,A.from+f),Math.min(s,Q),"",w),this.startSpan(Math.min(s,Q),g))}E&&e.parent()}else if(e.firstChild()){x&&(o="");do if(!(e.to<=n)){if(e.from>=s)break;this.highlightRange(e,n,s,o,a),this.startSpan(Math.min(s,e.to),g)}while(e.nextSibling());e.parent()}}}function getStyleTags(r){let e=r.type.prop(ruleNodeProp);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}const t=Tag.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier("definition"),constant:Tag.defineModifier("constant"),function:Tag.defineModifier("function"),standard:Tag.defineModifier("standard"),local:Tag.defineModifier("local"),special:Tag.defineModifier("special")};for(let r in tags){let e=tags[r];e instanceof Tag&&(e.name=r)}tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(r){return Facet.define({combine:r?e=>e.concat(r):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(e,n,s=[],o=""){this.data=e,this.name=o,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=n,this.extension=[language.of(this),EditorState.languageData.of((a,u,f)=>{let d=topNodeAt(a,u,f),g=d.type.prop(languageDataProp);if(!g)return[];let m=a.facet(g),O=d.type.prop(sublanguageProp);if(O){let x=d.resolve(u-d.from,f);for(let b of O)if(b.test(x,a)){let w=a.facet(b.facet);return b.type=="replace"?w:w.concat(m)}}return m})].concat(s)}isActiveAt(e,n,s=-1){return topNodeAt(e,n,s).type.prop(languageDataProp)==this.data}findRegions(e){let n=e.facet(language);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let s=[],o=(a,u)=>{if(a.prop(languageDataProp)==this.data){s.push({from:u,to:u+a.length});return}let f=a.prop(NodeProp.mounted);if(f){if(f.tree.prop(languageDataProp)==this.data){if(f.overlay)for(let d of f.overlay)s.push({from:d.from+u,to:d.to+u});else s.push({from:u,to:u+a.length});return}else if(f.overlay){let d=s.length;if(o(f.tree,f.overlay[0].from+u),s.length>d)return}}for(let d=0;d<a.children.length;d++){let g=a.children[d];g instanceof Tree&&o(g,a.positions[d]+u)}};return o(syntaxTree(e),0),s}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(r,e,n){let s=r.facet(language),o=syntaxTree(r).topNode;if(!s||s.allowsNesting)for(let a=o;a;a=a.enter(e,n,IterMode.ExcludeBuffers))a.type.isTop&&(o=a);return o}class LRLanguage extends Language{constructor(e,n,s){super(e,n,[],s),this.parser=n}static define(e){let n=defineLanguageFacet(e.languageData);return new LRLanguage(n,e.parser.configure({props:[languageDataProp.add(s=>s.isTop?n:void 0)]}),e.name)}configure(e,n){return new LRLanguage(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(r){let e=r.field(Language.state,!1);return e?e.tree:Tree.empty}class DocInput{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let s=this.cursorPos-this.string.length;return e<s||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-s,n-s)}}let currentContext=null;class ParseContext{constructor(e,n,s=[],o,a,u,f,d){this.parser=e,this.state=n,this.fragments=s,this.tree=o,this.treeLen=a,this.viewport=u,this.skipped=f,this.scheduleOn=d,this.parse=null,this.tempSkipped=[]}static create(e,n,s){return new ParseContext(e,n,[],Tree.empty,0,s,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Tree.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var s;if(typeof e=="number"){let o=Date.now()+e;e=()=>Date.now()>o}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let o=this.parse.advance();if(o)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(o,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(s=this.parse.stoppedAt)!==null&&s!==void 0?s:this.state.doc.length,this.tree=o,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=currentContext;currentContext=this;try{return e()}finally{currentContext=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=cutFragments(e,n.from,n.to);return e}changes(e,n){let{fragments:s,tree:o,treeLen:a,viewport:u,skipped:f}=this;if(this.takeTree(),!e.empty){let d=[];if(e.iterChangedRanges((g,m,O,x)=>d.push({fromA:g,toA:m,fromB:O,toB:x})),s=TreeFragment.applyChanges(s,d),o=Tree.empty,a=0,u={from:e.mapPos(u.from,-1),to:e.mapPos(u.to,1)},this.skipped.length){f=[];for(let g of this.skipped){let m=e.mapPos(g.from,1),O=e.mapPos(g.to,-1);m<O&&f.push({from:m,to:O})}}}return new ParseContext(this.parser,n,s,o,a,u,f,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let s=0;s<this.skipped.length;s++){let{from:o,to:a}=this.skipped[s];o<e.to&&a>e.from&&(this.fragments=cutFragments(this.fragments,o,a),this.skipped.splice(s--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends Parser{createParse(n,s,o){let a=o[0].from,u=o[o.length-1].to;return{parsedPos:a,advance(){let d=currentContext;if(d){for(let g of o)d.tempSkipped.push(g);e&&(d.scheduleOn=d.scheduleOn?Promise.all([d.scheduleOn,e]):e)}return this.parsedPos=u,new Tree(NodeType.none,[],[],u-a)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return currentContext}}function cutFragments(r,e,n){return TreeFragment.applyChanges(r,[{fromA:e,toA:n,fromB:e,toB:n}])}class LanguageState{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),s=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,s)||n.takeTree(),new LanguageState(n)}static init(e){let n=Math.min(3e3,e.doc.length),s=ParseContext.create(e.facet(language).parser,e,{from:0,to:n});return s.work(20,n)||s.takeTree(),new LanguageState(s)}}Language.state=StateField.define({create:LanguageState.init,update(r,e){for(let n of e.effects)if(n.is(Language.setState))return n.value;return e.startState.facet(language)!=e.state.facet(language)?LanguageState.init(e.state):r.apply(e)}});let requestIdle=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(requestIdle=r=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(r,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const isInputPending=typeof navigator<"u"&&(!((_a=navigator.scheduling)===null||_a===void 0)&&_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Language.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Language.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=requestIdle(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:s,viewport:{to:o}}=this.view,a=s.field(Language.state);if(a.tree==a.context.tree&&a.context.isDone(o+1e5))return;let u=Date.now()+Math.min(this.chunkBudget,100,e&&!isInputPending?Math.max(25,e.timeRemaining()-5):1e9),f=a.context.treeLen<o&&s.doc.length>o+1e3,d=a.context.work(()=>isInputPending&&isInputPending()||Date.now()>u,o+(f?0:1e5));this.chunkBudget-=Date.now()-n,(d||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(a.context))})),this.chunkBudget>0&&!(d&&!f)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>logException(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(r){return r.length?r[0]:null},enables:r=>[Language.state,parseWorker,EditorView.contentAttributes.compute([r],e=>{let n=e.facet(r);return n&&n.name?{"data-language":n.name}:{}})]});class LanguageSupport{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}});function getIndentUnit(r){let e=r.facet(indentUnit);return e.charCodeAt(0)==9?r.tabSize*e.length:e.length}function indentString(r,e){let n="",s=r.tabSize,o=r.facet(indentUnit)[0];if(o=="	"){for(;e>=s;)n+="	",e-=s;o=" "}for(let a=0;a<e;a++)n+=o;return n}function getIndentation(r,e){r instanceof EditorState&&(r=new IndentContext(r));for(let s of r.state.facet(indentService)){let o=s(r,e);if(o!==void 0)return o}let n=syntaxTree(r.state);return n.length>=e?syntaxIndentation(r,n,e):null}class IndentContext{constructor(e,n={}){this.state=e,this.options=n,this.unit=getIndentUnit(e)}lineAt(e,n=1){let s=this.state.doc.lineAt(e),{simulateBreak:o,simulateDoubleBreak:a}=this.options;return o!=null&&o>=s.from&&o<=s.to?a&&o==e?{text:"",from:e}:(n<0?o<e:o<=e)?{text:s.text.slice(o-s.from),from:o}:{text:s.text.slice(0,o-s.from),from:s.from}:s}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:s,from:o}=this.lineAt(e,n);return s.slice(e-o,Math.min(s.length,e+100-o))}column(e,n=1){let{text:s,from:o}=this.lineAt(e,n),a=this.countColumn(s,e-o),u=this.options.overrideIndentation?this.options.overrideIndentation(o):-1;return u>-1&&(a+=u-this.countColumn(s,s.search(/\S|$/))),a}countColumn(e,n=e.length){return countColumn(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:s,from:o}=this.lineAt(e,n),a=this.options.overrideIndentation;if(a){let u=a(o);if(u>-1)return u}return this.countColumn(s,s.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(r,e,n){let s=e.resolveStack(n),o=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(o!=s.node){let a=[];for(let u=o;u&&!(u.from==s.node.from&&u.type==s.node.type);u=u.parent)a.push(u);for(let u=a.length-1;u>=0;u--)s={node:a[u],next:s}}return indentFor(s,r,n)}function indentFor(r,e,n){for(let s=r;s;s=s.next){let o=indentStrategy(s.node);if(o)return o(TreeIndentContext.create(e,n,s))}return 0}function ignoreClosed(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function indentStrategy(r){let e=r.type.prop(indentNodeProp);if(e)return e;let n=r.firstChild,s;if(n&&(s=n.type.prop(NodeProp.closedBy))){let o=r.lastChild,a=o&&s.indexOf(o.name)>-1;return u=>delimitedStrategy(u,!0,1,void 0,a&&!ignoreClosed(u)?o.from:void 0)}return r.parent==null?topIndent:null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(e,n,s){super(e.state,e.options),this.base=e,this.pos=n,this.context=s}get node(){return this.context.node}static create(e,n,s){return new TreeIndentContext(e,n,s)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let s=e.resolve(n.from);for(;s.parent&&s.parent.from==s.from;)s=s.parent;if(isParent(s,e))break;n=this.state.doc.lineAt(s.from)}return this.lineIndent(n.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(r,e){for(let n=e;n;n=n.parent)if(r==n)return!0;return!1}function bracketedAligned(r){let e=r.node,n=e.childAfter(e.from),s=e.lastChild;if(!n)return null;let o=r.options.simulateBreak,a=r.state.doc.lineAt(n.from),u=o==null||o<=a.from?a.to:Math.min(a.to,o);for(let f=n.to;;){let d=e.childAfter(f);if(!d||d==s)return null;if(!d.type.isSkipped){if(d.from>=u)return null;let g=/^ */.exec(a.text.slice(n.to-a.from))[0].length;return{from:n.from,to:n.to+g}}f=d.to}}function delimitedIndent({closing:r,align:e=!0,units:n=1}){return s=>delimitedStrategy(s,e,n,r)}function delimitedStrategy(r,e,n,s,o){let a=r.textAfter,u=a.match(/^\s*/)[0].length,f=s&&a.slice(u,u+s.length)==s||o==r.pos+u,d=e?bracketedAligned(r):null;return d?f?r.column(d.from):r.column(d.to):r.baseIndent+(f?0:r.unit*n)}const flatIndent=r=>r.baseIndent;function continuedIndent({except:r,units:e=1}={}){return n=>{let s=r&&r.test(n.textAfter);return n.baseIndent+(s?0:e*n.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(r=>{if(!r.docChanged||!r.isUserEvent("input.type")&&!r.isUserEvent("input.complete"))return r;let e=r.startState.languageDataAt("indentOnInput",r.startState.selection.main.head);if(!e.length)return r;let n=r.newDoc,{head:s}=r.newSelection.main,o=n.lineAt(s);if(s>o.from+DontIndentBeyond)return r;let a=n.sliceString(o.from,s);if(!e.some(g=>g.test(a)))return r;let{state:u}=r,f=-1,d=[];for(let{head:g}of u.selection.ranges){let m=u.doc.lineAt(g);if(m.from==f)continue;f=m.from;let O=getIndentation(u,m.from);if(O==null)continue;let x=/^\s*/.exec(m.text)[0],b=indentString(u,O);x!=b&&d.push({from:m.from,to:m.from+x.length,insert:b})}return d.length?[r,{changes:d,sequential:!0}]:r})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(r){let e=r.firstChild,n=r.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?r.to:n.from}:null}function syntaxFolding(r,e,n){let s=syntaxTree(r);if(s.length<n)return null;let o=s.resolveStack(n,1),a=null;for(let u=o;u;u=u.next){let f=u.node;if(f.to<=n||f.from>n)continue;if(a&&f.from<e)break;let d=f.type.prop(foldNodeProp);if(d&&(f.to<s.length-50||s.length==r.doc.length||!isUnfinished(f))){let g=d(f,r);g&&g.from<=n&&g.from>=e&&g.to>n&&(a=g)}}return a}function isUnfinished(r){let e=r.lastChild;return e&&e.to==r.to&&e.type.isError}function foldable(r,e,n){for(let s of r.facet(foldService)){let o=s(r,e,n);if(o)return o}return syntaxFolding(r,e,n)}function mapRange(r,e){let n=e.mapPos(r.from,1),s=e.mapPos(r.to,-1);return n>=s?void 0:{from:n,to:s}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(r){let e=[];for(let{head:n}of r.state.selection.ranges)e.some(s=>s.from<=n&&s.to>=n)||e.push(r.lineBlockAt(n));return e}const foldState=StateField.define({create(){return Decoration.none},update(r,e){r=r.map(e.changes);for(let n of e.effects)if(n.is(foldEffect)&&!foldExists(r,n.value.from,n.value.to)){let{preparePlaceholder:s}=e.state.facet(foldConfig),o=s?Decoration.replace({widget:new PreparedFoldWidget(s(e.state,n.value))}):foldWidget;r=r.update({add:[o.range(n.value.from,n.value.to)]})}else n.is(unfoldEffect)&&(r=r.update({filter:(s,o)=>n.value.from!=s||n.value.to!=o,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:s}=e.selection.main;r.between(s,s,(o,a)=>{o<s&&a>s&&(n=!0)}),n&&(r=r.update({filterFrom:s,filterTo:s,filter:(o,a)=>a<=s||o>=s}))}return r},provide:r=>EditorView.decorations.from(r),toJSON(r,e){let n=[];return r.between(0,e.doc.length,(s,o)=>{n.push(s,o)}),n},fromJSON(r){if(!Array.isArray(r)||r.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<r.length;){let s=r[n++],o=r[n++];if(typeof s!="number"||typeof o!="number")throw new RangeError("Invalid JSON for fold state");e.push(foldWidget.range(s,o))}return Decoration.set(e,!0)}});function findFold(r,e,n){var s;let o=null;return(s=r.field(foldState,!1))===null||s===void 0||s.between(e,n,(a,u)=>{(!o||o.from>a)&&(o={from:a,to:u})}),o}function foldExists(r,e,n){let s=!1;return r.between(e,e,(o,a)=>{o==e&&a==n&&(s=!0)}),s}function maybeEnable(r,e){return r.field(foldState,!1)?e:e.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=r=>{for(let e of selectedLines(r)){let n=foldable(r.state,e.from,e.to);if(n)return r.dispatch({effects:maybeEnable(r.state,[foldEffect.of(n),announceFold(r,n)])}),!0}return!1},unfoldCode=r=>{if(!r.state.field(foldState,!1))return!1;let e=[];for(let n of selectedLines(r)){let s=findFold(r.state,n.from,n.to);s&&e.push(unfoldEffect.of(s),announceFold(r,s,!1))}return e.length&&r.dispatch({effects:e}),e.length>0};function announceFold(r,e,n=!0){let s=r.state.doc.lineAt(e.from).number,o=r.state.doc.lineAt(e.to).number;return EditorView.announce.of(`${r.state.phrase(n?"Folded lines":"Unfolded lines")} ${s} ${r.state.phrase("to")} ${o}.`)}const foldAll=r=>{let{state:e}=r,n=[];for(let s=0;s<e.doc.length;){let o=r.lineBlockAt(s),a=foldable(e,o.from,o.to);a&&n.push(foldEffect.of(a)),s=(a?r.lineBlockAt(a.to):o).to+1}return n.length&&r.dispatch({effects:maybeEnable(r.state,n)}),!!n.length},unfoldAll=r=>{let e=r.state.field(foldState,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,r.state.doc.length,(s,o)=>{n.push(unfoldEffect.of({from:s,to:o}))}),r.dispatch({effects:n}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},foldConfig=Facet.define({combine(r){return combineConfig(r,defaultConfig)}});function codeFolding(r){return[foldState,baseTheme$1$2]}function widgetToDOM(r,e){let{state:n}=r,s=n.facet(foldConfig),o=u=>{let f=r.lineBlockAt(r.posAtDOM(u.target)),d=findFold(r.state,f.from,f.to);d&&r.dispatch({effects:unfoldEffect.of(d)}),u.preventDefault()};if(s.placeholderDOM)return s.placeholderDOM(r,o,e);let a=document.createElement("span");return a.textContent=s.placeholderText,a.setAttribute("aria-label",n.phrase("folded code")),a.title=n.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=o,a}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(r){return widgetToDOM(r,null)}}});class PreparedFoldWidget extends WidgetType{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return widgetToDOM(e,this.value)}}const foldGutterDefaults={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function foldGutter(r={}){let e=Object.assign(Object.assign({},foldGutterDefaults),r),n=new FoldMarker(e,!0),s=new FoldMarker(e,!1),o=ViewPlugin.fromClass(class{constructor(u){this.from=u.viewport.from,this.markers=this.buildMarkers(u)}update(u){(u.docChanged||u.viewportChanged||u.startState.facet(language)!=u.state.facet(language)||u.startState.field(foldState,!1)!=u.state.field(foldState,!1)||syntaxTree(u.startState)!=syntaxTree(u.state)||e.foldingChanged(u))&&(this.markers=this.buildMarkers(u.view))}buildMarkers(u){let f=new RangeSetBuilder;for(let d of u.viewportLineBlocks){let g=findFold(u.state,d.from,d.to)?s:foldable(u.state,d.from,d.to)?n:null;g&&f.add(d.from,d.from,g)}return f.finish()}}),{domEventHandlers:a}=e;return[o,gutter({class:"cm-foldGutter",markers(u){var f;return((f=u.plugin(o))===null||f===void 0?void 0:f.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(e,!1)},domEventHandlers:Object.assign(Object.assign({},a),{click:(u,f,d)=>{if(a.click&&a.click(u,f,d))return!0;let g=findFold(u.state,f.from,f.to);if(g)return u.dispatch({effects:unfoldEffect.of(g)}),!0;let m=foldable(u.state,f.from,f.to);return m?(u.dispatch({effects:foldEffect.of(m)}),!0):!1}})}),codeFolding()]}const baseTheme$1$2=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(e,n){this.specs=e;let s;function o(f){let d=StyleModule.newName();return(s||(s=Object.create(null)))["."+d]=f,d}const a=typeof n.all=="string"?n.all:n.all?o(n.all):void 0,u=n.scope;this.scope=u instanceof Language?f=>f.prop(languageDataProp)==u.data:u?f=>f==u:void 0,this.style=tagHighlighter(e.map(f=>({tag:f.tag,class:f.class||o(Object.assign({},f,{tag:null}))})),{all:a}).style,this.module=s?new StyleModule(s):null,this.themeType=n.themeType}static define(e,n){return new HighlightStyle(e,n||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(r){return r.length?[r[0]]:null}});function getHighlighters(r){let e=r.facet(highlighterFacet);return e.length?e:r.facet(fallbackHighlighter)}function syntaxHighlighting(r,e){let n=[treeHighlighter],s;return r instanceof HighlightStyle&&(r.module&&n.push(EditorView.styleModule.of(r.module)),s=r.themeType),e!=null&&e.fallback?n.push(fallbackHighlighter.of(r)):s?n.push(highlighterFacet.computeN([EditorView.darkTheme],o=>o.facet(EditorView.darkTheme)==(s=="dark")?[r]:[])):n.push(highlighterFacet.of(r)),n}class TreeHighlighter{constructor(e){this.markCache=Object.create(null),this.tree=syntaxTree(e.state),this.decorations=this.buildDeco(e,getHighlighters(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=syntaxTree(e.state),s=getHighlighters(e.state),o=s!=getHighlighters(e.startState),{viewport:a}=e.view,u=e.changes.mapPos(this.decoratedTo,1);n.length<a.to&&!o&&n.type==this.tree.type&&u>=a.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=u):(n!=this.tree||e.viewportChanged||o)&&(this.tree=n,this.decorations=this.buildDeco(e.view,s),this.decoratedTo=a.to)}buildDeco(e,n){if(!n||!this.tree.length)return Decoration.none;let s=new RangeSetBuilder;for(let{from:o,to:a}of e.visibleRanges)highlightTree(this.tree,n,(u,f,d)=>{s.add(u,f,this.markCache[d]||(this.markCache[d]=Decoration.mark({class:d})))},o,a);return s.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:r=>r.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#404740"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(r){return combineConfig(r,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(r){let e=[],n=r.matched?matchingMark:nonmatchingMark;return e.push(n.range(r.start.from,r.start.to)),r.end&&e.push(n.range(r.end.from,r.end.to)),e}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(r,e){if(!e.docChanged&&!e.selection)return r;let n=[],s=e.state.facet(bracketMatchingConfig);for(let o of e.state.selection.ranges){if(!o.empty)continue;let a=matchBrackets(e.state,o.head,-1,s)||o.head>0&&matchBrackets(e.state,o.head-1,1,s)||s.afterCursor&&(matchBrackets(e.state,o.head,1,s)||o.head<e.state.doc.length&&matchBrackets(e.state,o.head+1,-1,s));a&&(n=n.concat(s.renderMatch(a,e.state)))}return Decoration.set(n,!0)},provide:r=>EditorView.decorations.from(r)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(r={}){return[bracketMatchingConfig.of(r),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp;function matchingNodes(r,e,n){let s=r.prop(e<0?NodeProp.openedBy:NodeProp.closedBy);if(s)return s;if(r.name.length==1){let o=n.indexOf(r.name);if(o>-1&&o%2==(e<0?1:0))return[n[o+e]]}return null}function findHandle(r){let e=r.type.prop(bracketMatchingHandle);return e?e(r.node):r}function matchBrackets(r,e,n,s={}){let o=s.maxScanDistance||DefaultScanDist,a=s.brackets||DefaultBrackets,u=syntaxTree(r),f=u.resolveInner(e,n);for(let d=f;d;d=d.parent){let g=matchingNodes(d.type,n,a);if(g&&d.from<d.to){let m=findHandle(d);if(m&&(n>0?e>=m.from&&e<m.to:e>m.from&&e<=m.to))return matchMarkedBrackets(r,e,n,d,m,g,a)}}return matchPlainBrackets(r,e,n,u,f.type,o,a)}function matchMarkedBrackets(r,e,n,s,o,a,u){let f=s.parent,d={from:o.from,to:o.to},g=0,m=f==null?void 0:f.cursor();if(m&&(n<0?m.childBefore(s.from):m.childAfter(s.to)))do if(n<0?m.to<=s.from:m.from>=s.to){if(g==0&&a.indexOf(m.type.name)>-1&&m.from<m.to){let O=findHandle(m);return{start:d,end:O?{from:O.from,to:O.to}:void 0,matched:!0}}else if(matchingNodes(m.type,n,u))g++;else if(matchingNodes(m.type,-n,u)){if(g==0){let O=findHandle(m);return{start:d,end:O&&O.from<O.to?{from:O.from,to:O.to}:void 0,matched:!1}}g--}}while(n<0?m.prevSibling():m.nextSibling());return{start:d,matched:!1}}function matchPlainBrackets(r,e,n,s,o,a,u){let f=n<0?r.sliceDoc(e-1,e):r.sliceDoc(e,e+1),d=u.indexOf(f);if(d<0||d%2==0!=n>0)return null;let g={from:n<0?e-1:e,to:n>0?e+1:e},m=r.doc.iterRange(e,n>0?r.doc.length:0),O=0;for(let x=0;!m.next().done&&x<=a;){let b=m.value;n<0&&(x+=b.length);let w=e+x*n;for(let E=n>0?0:b.length-1,k=n>0?b.length:-1;E!=k;E+=n){let Q=u.indexOf(b[E]);if(!(Q<0||s.resolveInner(w+E,1).type!=o))if(Q%2==0==n>0)O++;else{if(O==1)return{start:g,end:{from:w+E,to:w+E+1},matched:Q>>1==d>>1};O--}}n>0&&(x+=b.length)}return m.done?{start:g,matched:!1}:null}const noTokens=Object.create(null),typeArray=[NodeType.none],warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[r]=createTokenType(noTokens,e);function warnForPart(r,e){warned.indexOf(r)>-1||(warned.push(r),console.warn(e))}function createTokenType(r,e){let n=[];for(let f of e.split(" ")){let d=[];for(let g of f.split(".")){let m=r[g]||tags[g];m?typeof m=="function"?d.length?d=d.map(m):warnForPart(g,`Modifier ${g} used at start of tag`):d.length?warnForPart(g,`Tag ${g} used as modifier`):d=Array.isArray(m)?m:[m]:warnForPart(g,`Unknown highlighting tag ${g}`)}for(let g of d)n.push(g)}if(!n.length)return 0;let s=e.replace(/ /g,"_"),o=s+" "+n.map(f=>f.id),a=byTag[o];if(a)return a.id;let u=byTag[o]=NodeType.define({id:typeArray.length,name:s,props:[styleTags({[s]:n})]});return typeArray.push(u),u.id}Direction.RTL,Direction.LTR;const toggleComment=r=>{let{state:e}=r,n=e.doc.lineAt(e.selection.main.from),s=getConfig(r.state,n.from);return s.line?toggleLineComment(r):s.block?toggleBlockCommentByLine(r):!1};function command(r,e){return({state:n,dispatch:s})=>{if(n.readOnly)return!1;let o=r(e,n);return o?(s(n.update(o)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((r,e)=>changeBlockComment(r,e,selectedLineRanges(e)),0);function getConfig(r,e){let n=r.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const SearchMargin=50;function findBlockComment(r,{open:e,close:n},s,o){let a=r.sliceDoc(s-SearchMargin,s),u=r.sliceDoc(o,o+SearchMargin),f=/\s*$/.exec(a)[0].length,d=/^\s*/.exec(u)[0].length,g=a.length-f;if(a.slice(g-e.length,g)==e&&u.slice(d,d+n.length)==n)return{open:{pos:s-f,margin:f&&1},close:{pos:o+d,margin:d&&1}};let m,O;o-s<=2*SearchMargin?m=O=r.sliceDoc(s,o):(m=r.sliceDoc(s,s+SearchMargin),O=r.sliceDoc(o-SearchMargin,o));let x=/^\s*/.exec(m)[0].length,b=/\s*$/.exec(O)[0].length,w=O.length-b-n.length;return m.slice(x,x+e.length)==e&&O.slice(w,w+n.length)==n?{open:{pos:s+x+e.length,margin:/\s/.test(m.charAt(x+e.length))?1:0},close:{pos:o-b-n.length,margin:/\s/.test(O.charAt(w-1))?1:0}}:null}function selectedLineRanges(r){let e=[];for(let n of r.selection.ranges){let s=r.doc.lineAt(n.from),o=n.to<=s.to?s:r.doc.lineAt(n.to);o.from>s.from&&o.from==n.to&&(o=n.to==s.to+1?s:r.doc.lineAt(n.to-1));let a=e.length-1;a>=0&&e[a].to>s.from?e[a].to=o.to:e.push({from:s.from+/^\s*/.exec(s.text)[0].length,to:o.to})}return e}function changeBlockComment(r,e,n=e.selection.ranges){let s=n.map(a=>getConfig(e,a.from).block);if(!s.every(a=>a))return null;let o=n.map((a,u)=>findBlockComment(e,s[u],a.from,a.to));if(r!=2&&!o.every(a=>a))return{changes:e.changes(n.map((a,u)=>o[u]?[]:[{from:a.from,insert:s[u].open+" "},{from:a.to,insert:" "+s[u].close}]))};if(r!=1&&o.some(a=>a)){let a=[];for(let u=0,f;u<o.length;u++)if(f=o[u]){let d=s[u],{open:g,close:m}=f;a.push({from:g.pos-d.open.length,to:g.pos+g.margin},{from:m.pos-m.margin,to:m.pos+d.close.length})}return{changes:a}}return null}function changeLineComment(r,e,n=e.selection.ranges){let s=[],o=-1;for(let{from:a,to:u}of n){let f=s.length,d=1e9,g=getConfig(e,a).line;if(g){for(let m=a;m<=u;){let O=e.doc.lineAt(m);if(O.from>o&&(a==u||u>O.from)){o=O.from;let x=/^\s*/.exec(O.text)[0].length,b=x==O.length,w=O.text.slice(x,x+g.length)==g?x:-1;x<O.text.length&&x<d&&(d=x),s.push({line:O,comment:w,token:g,indent:x,empty:b,single:!1})}m=O.to+1}if(d<1e9)for(let m=f;m<s.length;m++)s[m].indent<s[m].line.text.length&&(s[m].indent=d);s.length==f+1&&(s[f].single=!0)}}if(r!=2&&s.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:f,token:d,indent:g,empty:m,single:O}of s)(O||!m)&&a.push({from:f.from+g,insert:d+" "});let u=e.changes(a);return{changes:u,selection:e.selection.map(u,1)}}else if(r!=1&&s.some(a=>a.comment>=0)){let a=[];for(let{line:u,comment:f,token:d}of s)if(f>=0){let g=u.from+f,m=g+d.length;u.text[m-u.from]==" "&&m++,a.push({from:g,to:m})}return{changes:a}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(r){return combineConfig(r,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(s,o)=>e(s,o)||n(s,o)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(r,e){let n=e.state.facet(historyConfig),s=e.annotation(fromHistory);if(s){let d=HistEvent.fromTransaction(e,s.selection),g=s.side,m=g==0?r.undone:r.done;return d?m=updateBranch(m,m.length,n.minDepth,d):m=addSelection(m,e.startState.selection),new HistoryState(g==0?s.rest:m,g==0?m:s.rest)}let o=e.annotation(isolateHistory);if((o=="full"||o=="before")&&(r=r.isolate()),e.annotation(Transaction.addToHistory)===!1)return e.changes.empty?r:r.addMapping(e.changes.desc);let a=HistEvent.fromTransaction(e),u=e.annotation(Transaction.time),f=e.annotation(Transaction.userEvent);return a?r=r.addChanges(a,u,f,n,e):e.selection&&(r=r.addSelection(e.startState.selection,u,f,n.newGroupDelay)),(o=="full"||o=="after")&&(r=r.isolate()),r},toJSON(r){return{done:r.done.map(e=>e.toJSON()),undone:r.undone.map(e=>e.toJSON())}},fromJSON(r){return new HistoryState(r.done.map(HistEvent.fromJSON),r.undone.map(HistEvent.fromJSON))}});function history(r={}){return[historyField_,historyConfig.of(r),EditorView.domEventHandlers({beforeinput(e,n){let s=e.inputType=="historyUndo"?undo:e.inputType=="historyRedo"?redo:null;return s?(e.preventDefault(),s(n)):!1}})]}function cmd(r,e){return function({state:n,dispatch:s}){if(!e&&n.readOnly)return!1;let o=n.field(historyField_,!1);if(!o)return!1;let a=o.pop(r,n,e);return a?(s(a),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(e,n,s,o,a){this.changes=e,this.effects=n,this.mapped=s,this.startSelection=o,this.selectionsAfter=a}setSelAfter(e){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,s;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(s=this.startSelection)===null||s===void 0?void 0:s.toJSON(),selectionsAfter:this.selectionsAfter.map(o=>o.toJSON())}}static fromJSON(e){return new HistEvent(e.changes&&ChangeSet.fromJSON(e.changes),[],e.mapped&&ChangeDesc.fromJSON(e.mapped),e.startSelection&&EditorSelection.fromJSON(e.startSelection),e.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(e,n){let s=none$2;for(let o of e.startState.facet(invertedEffects)){let a=o(e);a.length&&(s=s.concat(a))}return!s.length&&e.changes.empty?null:new HistEvent(e.changes.invert(e.startState.doc),s,void 0,n||e.startState.selection,none$2)}static selection(e){return new HistEvent(void 0,none$2,void 0,void 0,e)}}function updateBranch(r,e,n,s){let o=e+1>n+20?e-n-1:0,a=r.slice(o,e);return a.push(s),a}function isAdjacent(r,e){let n=[],s=!1;return r.iterChangedRanges((o,a)=>n.push(o,a)),e.iterChangedRanges((o,a,u,f)=>{for(let d=0;d<n.length;){let g=n[d++],m=n[d++];f>=g&&u<=m&&(s=!0)}}),s}function eqSelectionShape(r,e){return r.ranges.length==e.ranges.length&&r.ranges.filter((n,s)=>n.empty!=e.ranges[s].empty).length===0}function conc(r,e){return r.length?e.length?r.concat(e):r:e}const none$2=[],MaxSelectionsPerEvent=200;function addSelection(r,e){if(r.length){let n=r[r.length-1],s=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-MaxSelectionsPerEvent));return s.length&&s[s.length-1].eq(e)?r:(s.push(e),updateBranch(r,r.length-1,1e9,n.setSelAfter(s)))}else return[HistEvent.selection([e])]}function popSelection(r){let e=r[r.length-1],n=r.slice();return n[r.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function addMappingToBranch(r,e){if(!r.length)return r;let n=r.length,s=none$2;for(;n;){let o=mapEvent(r[n-1],e,s);if(o.changes&&!o.changes.empty||o.effects.length){let a=r.slice(0,n);return a[n-1]=o,a}else e=o.mapped,n--,s=o.selectionsAfter}return s.length?[HistEvent.selection(s)]:none$2}function mapEvent(r,e,n){let s=conc(r.selectionsAfter.length?r.selectionsAfter.map(f=>f.map(e)):none$2,n);if(!r.changes)return HistEvent.selection(s);let o=r.changes.map(e),a=e.mapDesc(r.changes,!0),u=r.mapped?r.mapped.composeDesc(a):a;return new HistEvent(o,StateEffect.mapEffects(r.effects,e),u,r.startSelection.map(a),s)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(e,n,s=0,o=void 0){this.done=e,this.undone=n,this.prevTime=s,this.prevUserEvent=o}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(e,n,s,o,a){let u=this.done,f=u[u.length-1];return f&&f.changes&&!f.changes.empty&&e.changes&&(!s||joinableUserEvent.test(s))&&(!f.selectionsAfter.length&&n-this.prevTime<o.newGroupDelay&&o.joinToEvent(a,isAdjacent(f.changes,e.changes))||s=="input.type.compose")?u=updateBranch(u,u.length-1,o.minDepth,new HistEvent(e.changes.compose(f.changes),conc(StateEffect.mapEffects(e.effects,f.changes),f.effects),f.mapped,f.startSelection,none$2)):u=updateBranch(u,u.length,o.minDepth,e),new HistoryState(u,none$2,n,s)}addSelection(e,n,s,o){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:none$2;return a.length>0&&n-this.prevTime<o&&s==this.prevUserEvent&&s&&/^select($|\.)/.test(s)&&eqSelectionShape(a[a.length-1],e)?this:new HistoryState(addSelection(this.done,e),this.undone,n,s)}addMapping(e){return new HistoryState(addMappingToBranch(this.done,e),addMappingToBranch(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,s){let o=e==0?this.done:this.undone;if(o.length==0)return null;let a=o[o.length-1],u=a.selectionsAfter[0]||n.selection;if(s&&a.selectionsAfter.length)return n.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:fromHistory.of({side:e,rest:popSelection(o),selection:u}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let f=o.length==1?none$2:o.slice(0,o.length-1);return a.mapped&&(f=addMappingToBranch(f,a.mapped)),n.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:fromHistory.of({side:e,rest:f,selection:u}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$2,none$2);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(r,e){return EditorSelection.create(r.ranges.map(e),r.mainIndex)}function setSel(r,e){return r.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:r,dispatch:e},n){let s=updateSel(r.selection,n);return s.eq(r.selection,!0)?!1:(e(setSel(r,s)),!0)}function rangeEnd(r,e){return EditorSelection.cursor(e?r.to:r.from)}function cursorByChar(r,e){return moveSel(r,n=>n.empty?r.moveByChar(n,e):rangeEnd(n,e))}function ltrAtCursor(r){return r.textDirectionAt(r.state.selection.main.head)==Direction.LTR}const cursorCharLeft=r=>cursorByChar(r,!ltrAtCursor(r)),cursorCharRight=r=>cursorByChar(r,ltrAtCursor(r));function cursorByGroup(r,e){return moveSel(r,n=>n.empty?r.moveByGroup(n,e):rangeEnd(n,e))}const cursorGroupLeft=r=>cursorByGroup(r,!ltrAtCursor(r)),cursorGroupRight=r=>cursorByGroup(r,ltrAtCursor(r));function interestingNode(r,e,n){if(e.type.prop(n))return!0;let s=e.to-e.from;return s&&(s>2||/[^\s,.;:]/.test(r.sliceDoc(e.from,e.to)))||e.firstChild}function moveBySyntax(r,e,n){let s=syntaxTree(r).resolveInner(e.head),o=n?NodeProp.closedBy:NodeProp.openedBy;for(let d=e.head;;){let g=n?s.childAfter(d):s.childBefore(d);if(!g)break;interestingNode(r,g,o)?s=g:d=n?g.to:g.from}let a=s.type.prop(o),u,f;return a&&(u=n?matchBrackets(r,s.from,1):matchBrackets(r,s.to,-1))&&u.matched?f=n?u.end.to:u.end.from:f=n?s.to:s.from,EditorSelection.cursor(f,n?-1:1)}const cursorSyntaxLeft=r=>moveSel(r,e=>moveBySyntax(r.state,e,!ltrAtCursor(r))),cursorSyntaxRight=r=>moveSel(r,e=>moveBySyntax(r.state,e,ltrAtCursor(r)));function cursorByLine(r,e){return moveSel(r,n=>{if(!n.empty)return rangeEnd(n,e);let s=r.moveVertically(n,e);return s.head!=n.head?s:r.moveToLineBoundary(n,e)})}const cursorLineUp=r=>cursorByLine(r,!1),cursorLineDown=r=>cursorByLine(r,!0);function pageInfo(r){let e=r.scrollDOM.clientHeight<r.scrollDOM.scrollHeight-2,n=0,s=0,o;if(e){for(let a of r.state.facet(EditorView.scrollMargins)){let u=a(r);u!=null&&u.top&&(n=Math.max(u==null?void 0:u.top,n)),u!=null&&u.bottom&&(s=Math.max(u==null?void 0:u.bottom,s))}o=r.scrollDOM.clientHeight-n-s}else o=(r.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:s,selfScroll:e,height:Math.max(r.defaultLineHeight,o-5)}}function cursorByPage(r,e){let n=pageInfo(r),{state:s}=r,o=updateSel(s.selection,u=>u.empty?r.moveVertically(u,e,n.height):rangeEnd(u,e));if(o.eq(s.selection))return!1;let a;if(n.selfScroll){let u=r.coordsAtPos(s.selection.main.head),f=r.scrollDOM.getBoundingClientRect(),d=f.top+n.marginTop,g=f.bottom-n.marginBottom;u&&u.top>d&&u.bottom<g&&(a=EditorView.scrollIntoView(o.main.head,{y:"start",yMargin:u.top-d}))}return r.dispatch(setSel(s,o),{effects:a}),!0}const cursorPageUp=r=>cursorByPage(r,!1),cursorPageDown=r=>cursorByPage(r,!0);function moveByLineBoundary(r,e,n){let s=r.lineBlockAt(e.head),o=r.moveToLineBoundary(e,n);if(o.head==e.head&&o.head!=(n?s.to:s.from)&&(o=r.moveToLineBoundary(e,n,!1)),!n&&o.head==s.from&&s.length){let a=/^\s*/.exec(r.state.sliceDoc(s.from,Math.min(s.from+100,s.to)))[0].length;a&&e.head!=s.from+a&&(o=EditorSelection.cursor(s.from+a))}return o}const cursorLineBoundaryForward=r=>moveSel(r,e=>moveByLineBoundary(r,e,!0)),cursorLineBoundaryBackward=r=>moveSel(r,e=>moveByLineBoundary(r,e,!1)),cursorLineBoundaryLeft=r=>moveSel(r,e=>moveByLineBoundary(r,e,!ltrAtCursor(r))),cursorLineBoundaryRight=r=>moveSel(r,e=>moveByLineBoundary(r,e,ltrAtCursor(r))),cursorLineStart=r=>moveSel(r,e=>EditorSelection.cursor(r.lineBlockAt(e.head).from,1)),cursorLineEnd=r=>moveSel(r,e=>EditorSelection.cursor(r.lineBlockAt(e.head).to,-1));function toMatchingBracket(r,e,n){let s=!1,o=updateSel(r.selection,a=>{let u=matchBrackets(r,a.head,-1)||matchBrackets(r,a.head,1)||a.head>0&&matchBrackets(r,a.head-1,1)||a.head<r.doc.length&&matchBrackets(r,a.head+1,-1);if(!u||!u.end)return a;s=!0;let f=u.start.from==a.head?u.end.to:u.end.from;return EditorSelection.cursor(f)});return s?(e(setSel(r,o)),!0):!1}const cursorMatchingBracket=({state:r,dispatch:e})=>toMatchingBracket(r,e);function extendSel(r,e){let n=updateSel(r.state.selection,s=>{let o=e(s);return EditorSelection.range(s.anchor,o.head,o.goalColumn,o.bidiLevel||void 0)});return n.eq(r.state.selection)?!1:(r.dispatch(setSel(r.state,n)),!0)}function selectByChar(r,e){return extendSel(r,n=>r.moveByChar(n,e))}const selectCharLeft=r=>selectByChar(r,!ltrAtCursor(r)),selectCharRight=r=>selectByChar(r,ltrAtCursor(r));function selectByGroup(r,e){return extendSel(r,n=>r.moveByGroup(n,e))}const selectGroupLeft=r=>selectByGroup(r,!ltrAtCursor(r)),selectGroupRight=r=>selectByGroup(r,ltrAtCursor(r)),selectSyntaxLeft=r=>extendSel(r,e=>moveBySyntax(r.state,e,!ltrAtCursor(r))),selectSyntaxRight=r=>extendSel(r,e=>moveBySyntax(r.state,e,ltrAtCursor(r)));function selectByLine(r,e){return extendSel(r,n=>r.moveVertically(n,e))}const selectLineUp=r=>selectByLine(r,!1),selectLineDown=r=>selectByLine(r,!0);function selectByPage(r,e){return extendSel(r,n=>r.moveVertically(n,e,pageInfo(r).height))}const selectPageUp=r=>selectByPage(r,!1),selectPageDown=r=>selectByPage(r,!0),selectLineBoundaryForward=r=>extendSel(r,e=>moveByLineBoundary(r,e,!0)),selectLineBoundaryBackward=r=>extendSel(r,e=>moveByLineBoundary(r,e,!1)),selectLineBoundaryLeft=r=>extendSel(r,e=>moveByLineBoundary(r,e,!ltrAtCursor(r))),selectLineBoundaryRight=r=>extendSel(r,e=>moveByLineBoundary(r,e,ltrAtCursor(r))),selectLineStart=r=>extendSel(r,e=>EditorSelection.cursor(r.lineBlockAt(e.head).from)),selectLineEnd=r=>extendSel(r,e=>EditorSelection.cursor(r.lineBlockAt(e.head).to)),cursorDocStart=({state:r,dispatch:e})=>(e(setSel(r,{anchor:0})),!0),cursorDocEnd=({state:r,dispatch:e})=>(e(setSel(r,{anchor:r.doc.length})),!0),selectDocStart=({state:r,dispatch:e})=>(e(setSel(r,{anchor:r.selection.main.anchor,head:0})),!0),selectDocEnd=({state:r,dispatch:e})=>(e(setSel(r,{anchor:r.selection.main.anchor,head:r.doc.length})),!0),selectAll=({state:r,dispatch:e})=>(e(r.update({selection:{anchor:0,head:r.doc.length},userEvent:"select"})),!0),selectLine=({state:r,dispatch:e})=>{let n=selectedLineBlocks(r).map(({from:s,to:o})=>EditorSelection.range(s,Math.min(o+1,r.doc.length)));return e(r.update({selection:EditorSelection.create(n),userEvent:"select"})),!0},selectParentSyntax=({state:r,dispatch:e})=>{let n=updateSel(r.selection,s=>{let o=syntaxTree(r),a=o.resolveStack(s.from,1);if(s.empty){let u=o.resolveStack(s.from,-1);u.node.from>=a.node.from&&u.node.to<=a.node.to&&(a=u)}for(let u=a;u;u=u.next){let{node:f}=u;if((f.from<s.from&&f.to>=s.to||f.to>s.to&&f.from<=s.from)&&u.next)return EditorSelection.range(f.to,f.from)}return s});return n.eq(r.selection)?!1:(e(setSel(r,n)),!0)},simplifySelection=({state:r,dispatch:e})=>{let n=r.selection,s=null;return n.ranges.length>1?s=EditorSelection.create([n.main]):n.main.empty||(s=EditorSelection.create([EditorSelection.cursor(n.main.head)])),s?(e(setSel(r,s)),!0):!1};function deleteBy(r,e){if(r.state.readOnly)return!1;let n="delete.selection",{state:s}=r,o=s.changeByRange(a=>{let{from:u,to:f}=a;if(u==f){let d=e(a);d<u?(n="delete.backward",d=skipAtomic(r,d,!1)):d>u&&(n="delete.forward",d=skipAtomic(r,d,!0)),u=Math.min(u,d),f=Math.max(f,d)}else u=skipAtomic(r,u,!1),f=skipAtomic(r,f,!0);return u==f?{range:a}:{changes:{from:u,to:f},range:EditorSelection.cursor(u,u<a.head?-1:1)}});return o.changes.empty?!1:(r.dispatch(s.update(o,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?EditorView.announce.of(s.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(r,e,n){if(r instanceof EditorView)for(let s of r.state.facet(EditorView.atomicRanges).map(o=>o(r)))s.between(e,e,(o,a)=>{o<e&&a>e&&(e=n?a:o)});return e}const deleteByChar=(r,e,n)=>deleteBy(r,s=>{let o=s.from,{state:a}=r,u=a.doc.lineAt(o),f,d;if(n&&!e&&o>u.from&&o<u.from+200&&!/[^ \t]/.test(f=u.text.slice(0,o-u.from))){if(f[f.length-1]=="	")return o-1;let g=countColumn(f,a.tabSize),m=g%getIndentUnit(a)||getIndentUnit(a);for(let O=0;O<m&&f[f.length-1-O]==" ";O++)o--;d=o}else d=findClusterBreak(u.text,o-u.from,e,e)+u.from,d==o&&u.number!=(e?a.doc.lines:1)?d+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(u.text.slice(d-u.from,o-u.from))&&(d=findClusterBreak(u.text,d-u.from,!1,!1)+u.from);return d}),deleteCharBackward=r=>deleteByChar(r,!1,!0),deleteCharForward=r=>deleteByChar(r,!0,!1),deleteByGroup=(r,e)=>deleteBy(r,n=>{let s=n.head,{state:o}=r,a=o.doc.lineAt(s),u=o.charCategorizer(s);for(let f=null;;){if(s==(e?a.to:a.from)){s==n.head&&a.number!=(e?o.doc.lines:1)&&(s+=e?1:-1);break}let d=findClusterBreak(a.text,s-a.from,e)+a.from,g=a.text.slice(Math.min(s,d)-a.from,Math.max(s,d)-a.from),m=u(g);if(f!=null&&m!=f)break;(g!=" "||s!=n.head)&&(f=m),s=d}return s}),deleteGroupBackward=r=>deleteByGroup(r,!1),deleteGroupForward=r=>deleteByGroup(r,!0),deleteToLineEnd=r=>deleteBy(r,e=>{let n=r.lineBlockAt(e.head).to;return e.head<n?n:Math.min(r.state.doc.length,e.head+1)}),deleteLineBoundaryBackward=r=>deleteBy(r,e=>{let n=r.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),deleteLineBoundaryForward=r=>deleteBy(r,e=>{let n=r.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(r.state.doc.length,e.head+1)}),splitLine=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let n=r.changeByRange(s=>({changes:{from:s.from,to:s.to,insert:Text.of(["",""])},range:EditorSelection.cursor(s.from)}));return e(r.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let n=r.changeByRange(s=>{if(!s.empty||s.from==0||s.from==r.doc.length)return{range:s};let o=s.from,a=r.doc.lineAt(o),u=o==a.from?o-1:findClusterBreak(a.text,o-a.from,!1)+a.from,f=o==a.to?o+1:findClusterBreak(a.text,o-a.from,!0)+a.from;return{changes:{from:u,to:f,insert:r.doc.slice(o,f).append(r.doc.slice(u,o))},range:EditorSelection.cursor(f)}});return n.changes.empty?!1:(e(r.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(r){let e=[],n=-1;for(let s of r.selection.ranges){let o=r.doc.lineAt(s.from),a=r.doc.lineAt(s.to);if(!s.empty&&s.to==a.from&&(a=r.doc.lineAt(s.to-1)),n>=o.number){let u=e[e.length-1];u.to=a.to,u.ranges.push(s)}else e.push({from:o.from,to:a.to,ranges:[s]});n=a.number+1}return e}function moveLine(r,e,n){if(r.readOnly)return!1;let s=[],o=[];for(let a of selectedLineBlocks(r)){if(n?a.to==r.doc.length:a.from==0)continue;let u=r.doc.lineAt(n?a.to+1:a.from-1),f=u.length+1;if(n){s.push({from:a.to,to:u.to},{from:a.from,insert:u.text+r.lineBreak});for(let d of a.ranges)o.push(EditorSelection.range(Math.min(r.doc.length,d.anchor+f),Math.min(r.doc.length,d.head+f)))}else{s.push({from:u.from,to:a.from},{from:a.to,insert:r.lineBreak+u.text});for(let d of a.ranges)o.push(EditorSelection.range(d.anchor-f,d.head-f))}}return s.length?(e(r.update({changes:s,scrollIntoView:!0,selection:EditorSelection.create(o,r.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:r,dispatch:e})=>moveLine(r,e,!1),moveLineDown=({state:r,dispatch:e})=>moveLine(r,e,!0);function copyLine(r,e,n){if(r.readOnly)return!1;let s=[];for(let o of selectedLineBlocks(r))n?s.push({from:o.from,insert:r.doc.slice(o.from,o.to)+r.lineBreak}):s.push({from:o.to,insert:r.lineBreak+r.doc.slice(o.from,o.to)});return e(r.update({changes:s,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:r,dispatch:e})=>copyLine(r,e,!1),copyLineDown=({state:r,dispatch:e})=>copyLine(r,e,!0),deleteLine=r=>{if(r.state.readOnly)return!1;let{state:e}=r,n=e.changes(selectedLineBlocks(e).map(({from:o,to:a})=>(o>0?o--:a<e.doc.length&&a++,{from:o,to:a}))),s=updateSel(e.selection,o=>{let a;if(r.lineWrapping){let u=r.lineBlockAt(o.head),f=r.coordsAtPos(o.head,o.assoc||1);f&&(a=u.bottom+r.documentTop-f.bottom+r.defaultLineHeight/2)}return r.moveVertically(o,!0,a)}).map(n);return r.dispatch({changes:n,selection:s,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(r,e){if(/\(\)|\[\]|\{\}/.test(r.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=syntaxTree(r).resolveInner(e),s=n.childBefore(e),o=n.childAfter(e),a;return s&&o&&s.to<=e&&o.from>=e&&(a=s.type.prop(NodeProp.closedBy))&&a.indexOf(o.name)>-1&&r.doc.lineAt(s.to).from==r.doc.lineAt(o.from).from&&!/\S/.test(r.sliceDoc(s.to,o.from))?{from:s.to,to:o.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(r){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let s=e.changeByRange(o=>{let{from:a,to:u}=o,f=e.doc.lineAt(a),d=!r&&a==u&&isBetweenBrackets(e,a);r&&(a=u=(u<=f.to?f:e.doc.lineAt(u)).to);let g=new IndentContext(e,{simulateBreak:a,simulateDoubleBreak:!!d}),m=getIndentation(g,a);for(m==null&&(m=countColumn(/^\s*/.exec(e.doc.lineAt(a).text)[0],e.tabSize));u<f.to&&/\s/.test(f.text[u-f.from]);)u++;d?{from:a,to:u}=d:a>f.from&&a<f.from+100&&!/\S/.test(f.text.slice(0,a))&&(a=f.from);let O=["",indentString(e,m)];return d&&O.push(indentString(e,g.lineIndent(f.from,-1))),{changes:{from:a,to:u,insert:Text.of(O)},range:EditorSelection.cursor(a+1+O[1].length)}});return n(e.update(s,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(r,e){let n=-1;return r.changeByRange(s=>{let o=[];for(let u=s.from;u<=s.to;){let f=r.doc.lineAt(u);f.number>n&&(s.empty||s.to>f.from)&&(e(f,o,s),n=f.number),u=f.to+1}let a=r.changes(o);return{changes:o,range:EditorSelection.range(a.mapPos(s.anchor,1),a.mapPos(s.head,1))}})}const indentSelection=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let n=Object.create(null),s=new IndentContext(r,{overrideIndentation:a=>{let u=n[a];return u??-1}}),o=changeBySelectedLine(r,(a,u,f)=>{let d=getIndentation(s,a.from);if(d==null)return;/\S/.test(a.text)||(d=0);let g=/^\s*/.exec(a.text)[0],m=indentString(r,d);(g!=m||f.from<a.from+g.length)&&(n[a.from]=d,u.push({from:a.from,to:a.from+g.length,insert:m}))});return o.changes.empty||e(r.update(o,{userEvent:"indent"})),!0},indentMore=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(changeBySelectedLine(r,(n,s)=>{s.push({from:n.from,insert:r.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(changeBySelectedLine(r,(n,s)=>{let o=/^\s*/.exec(n.text)[0];if(!o)return;let a=countColumn(o,r.tabSize),u=0,f=indentString(r,Math.max(0,a-getIndentUnit(r)));for(;u<o.length&&u<f.length&&o.charCodeAt(u)==f.charCodeAt(u);)u++;s.push({from:n.from+u,to:n.from+o.length,insert:f.slice(u)})}),{userEvent:"delete.dedent"})),!0),toggleTabFocusMode=r=>(r.setTabFocusMode(),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent,shift:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward},{mac:"Mod-Delete",run:deleteLineBoundaryForward}].concat(emacsStyleKeymap.map(r=>({mac:r.key,run:r.run,shift:r.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment},{key:"Ctrl-m",mac:"Shift-Alt-m",run:toggleTabFocusMode}].concat(standardKeymap),indentWithTab={key:"Tab",run:indentMore,shift:indentLess};function crelt(){var r=arguments[0];typeof r=="string"&&(r=document.createElement(r));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){var o=n[s];typeof o=="string"?r.setAttribute(s,o):o!=null&&(r[s]=o)}e++}for(;e<arguments.length;e++)add(r,arguments[e]);return r}function add(r,e){if(typeof e=="string")r.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)r.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)add(r,e[n]);else throw new RangeError("Unsupported child node: "+e)}const basicNormalize=typeof String.prototype.normalize=="function"?r=>r.normalize("NFKD"):r=>r;class SearchCursor{constructor(e,n,s=0,o=e.length,a,u){this.test=u,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(s,o),this.bufferStart=s,this.normalize=a?f=>a(basicNormalize(f)):basicNormalize,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=fromCodePoint(e),s=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(e);let o=this.normalize(n);if(o.length)for(let a=0,u=s;;a++){let f=o.charCodeAt(a),d=this.match(f,u,this.bufferPos+this.bufferStart);if(a==o.length-1){if(d)return this.value=d,this;break}u==s&&a<n.length&&n.charCodeAt(a)==f&&u++}}}match(e,n,s){let o=null;for(let a=0;a<this.matches.length;a+=2){let u=this.matches[a],f=!1;this.query.charCodeAt(u)==e&&(u==this.query.length-1?o={from:this.matches[a+1],to:s}:(this.matches[a]++,f=!0)),f||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?o={from:n,to:s}:this.matches.push(1,n)),o&&this.test&&!this.test(o.from,o.to,this.buffer,this.bufferStart)&&(o=null),o}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty$1={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(e,n,s,o=0,a=e.length){if(this.text=e,this.to=a,this.curLine="",this.done=!1,this.value=empty$1,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new MultilineRegExpCursor(e,n,s,o,a);this.re=new RegExp(n,baseFlags+(s!=null&&s.ignoreCase?"i":"")),this.test=s==null?void 0:s.test,this.iter=e.iter();let u=e.lineAt(o);this.curLineStart=u.from,this.matchPos=toCharEnd(e,o),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let s=this.curLineStart+n.index,o=s+n[0].length;if(this.matchPos=toCharEnd(this.text,o+(s==o?1:0)),s==this.curLineStart+this.curLine.length&&this.nextLine(),(s<o||s>this.value.to)&&(!this.test||this.test(s,o,n)))return this.value={from:s,to:o,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,s){let o=flattened.get(e);if(!o||o.from>=s||o.to<=n){let f=new FlattenedDoc(n,e.sliceString(n,s));return flattened.set(e,f),f}if(o.from==n&&o.to==s)return o;let{text:a,from:u}=o;return u>n&&(a=e.sliceString(n,u)+a,u=n),o.to<s&&(a+=e.sliceString(o.to,s)),flattened.set(e,new FlattenedDoc(u,a)),new FlattenedDoc(n,a.slice(n-u,s-u))}}class MultilineRegExpCursor{constructor(e,n,s,o,a){this.text=e,this.to=a,this.done=!1,this.value=empty$1,this.matchPos=toCharEnd(e,o),this.re=new RegExp(n,baseFlags+(s!=null&&s.ignoreCase?"i":"")),this.test=s==null?void 0:s.test,this.flat=FlattenedDoc.get(e,o,this.chunkEnd(o+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let s=this.flat.from+n.index,o=s+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(s,o,n)))return this.value={from:s,to:o,match:n},this.matchPos=toCharEnd(this.text,o+(s==o?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(r){try{return new RegExp(r,baseFlags),!0}catch{return!1}}function toCharEnd(r,e){if(e>=r.length)return e;let n=r.lineAt(e),s;for(;e<n.to&&(s=n.text.charCodeAt(e-n.from))>=56320&&s<57344;)e++;return e}function createLineDialog(r){let e=String(r.state.doc.lineAt(r.state.selection.main.head).number),n=crelt("input",{class:"cm-textfield",name:"line",value:e}),s=crelt("form",{class:"cm-gotoLine",onkeydown:a=>{a.keyCode==27?(a.preventDefault(),r.dispatch({effects:dialogEffect.of(!1)}),r.focus()):a.keyCode==13&&(a.preventDefault(),o())},onsubmit:a=>{a.preventDefault(),o()}},crelt("label",r.state.phrase("Go to line"),": ",n)," ",crelt("button",{class:"cm-button",type:"submit"},r.state.phrase("go")));function o(){let a=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!a)return;let{state:u}=r,f=u.doc.lineAt(u.selection.main.head),[,d,g,m,O]=a,x=m?+m.slice(1):0,b=g?+g:f.number;if(g&&O){let k=b/100;d&&(k=k*(d=="-"?-1:1)+f.number/u.doc.lines),b=Math.round(u.doc.lines*k)}else g&&d&&(b=b*(d=="-"?-1:1)+f.number);let w=u.doc.line(Math.max(1,Math.min(u.doc.lines,b))),E=EditorSelection.cursor(w.from+Math.max(0,Math.min(x,w.length)));r.dispatch({effects:[dialogEffect.of(!1),EditorView.scrollIntoView(E.from,{y:"center"})],selection:E}),r.focus()}return{dom:s}}const dialogEffect=StateEffect.define(),dialogField=StateField.define({create(){return!0},update(r,e){for(let n of e.effects)n.is(dialogEffect)&&(r=n.value);return r},provide:r=>showPanel.from(r,e=>e?createLineDialog:null)}),gotoLine=r=>{let e=getPanel(r,createLineDialog);if(!e){let n=[dialogEffect.of(!0)];r.state.field(dialogField,!1)==null&&n.push(StateEffect.appendConfig.of([dialogField,baseTheme$1$1])),r.dispatch({effects:n}),e=getPanel(r,createLineDialog)}return e&&e.dom.querySelector("input").select(),!0},baseTheme$1$1=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(r){return combineConfig(r,defaultHighlightOptions,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(r){return[defaultTheme,matchHighlighter]}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(r,e,n,s){return(n==0||r(e.sliceDoc(n-1,n))!=CharCategory.Word)&&(s==e.doc.length||r(e.sliceDoc(s,s+1))!=CharCategory.Word)}function insideWord(r,e,n,s){return r(e.sliceDoc(n,n+1))==CharCategory.Word&&r(e.sliceDoc(s-1,s))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.selectionSet||r.docChanged||r.viewportChanged)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=r.state.facet(highlightConfig),{state:n}=r,s=n.selection;if(s.ranges.length>1)return Decoration.none;let o=s.main,a,u=null;if(o.empty){if(!e.highlightWordAroundCursor)return Decoration.none;let d=n.wordAt(o.head);if(!d)return Decoration.none;u=n.charCategorizer(o.head),a=n.sliceDoc(d.from,d.to)}else{let d=o.to-o.from;if(d<e.minSelectionLength||d>200)return Decoration.none;if(e.wholeWords){if(a=n.sliceDoc(o.from,o.to),u=n.charCategorizer(o.head),!(insideWordBoundaries(u,n,o.from,o.to)&&insideWord(u,n,o.from,o.to)))return Decoration.none}else if(a=n.sliceDoc(o.from,o.to),!a)return Decoration.none}let f=[];for(let d of r.visibleRanges){let g=new SearchCursor(n.doc,a,d.from,d.to);for(;!g.next().done;){let{from:m,to:O}=g.value;if((!u||insideWordBoundaries(u,n,m,O))&&(o.empty&&m<=o.from&&O>=o.to?f.push(mainMatchDeco.range(m,O)):(m>=o.to||O<=o.from)&&f.push(matchDeco.range(m,O)),f.length>e.maxMatches))return Decoration.none}}return Decoration.set(f)}},{decorations:r=>r.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:r,dispatch:e})=>{let{selection:n}=r,s=EditorSelection.create(n.ranges.map(o=>r.wordAt(o.head)||EditorSelection.cursor(o.head)),n.mainIndex);return s.eq(n)?!1:(e(r.update({selection:s})),!0)};function findNextOccurrence(r,e){let{main:n,ranges:s}=r.selection,o=r.wordAt(n.head),a=o&&o.from==n.from&&o.to==n.to;for(let u=!1,f=new SearchCursor(r.doc,e,s[s.length-1].to);;)if(f.next(),f.done){if(u)return null;f=new SearchCursor(r.doc,e,0,Math.max(0,s[s.length-1].from-1)),u=!0}else{if(u&&s.some(d=>d.from==f.value.from))continue;if(a){let d=r.wordAt(f.value.from);if(!d||d.from!=f.value.from||d.to!=f.value.to)continue}return f.value}}const selectNextOccurrence=({state:r,dispatch:e})=>{let{ranges:n}=r.selection;if(n.some(a=>a.from===a.to))return selectWord({state:r,dispatch:e});let s=r.sliceDoc(n[0].from,n[0].to);if(r.selection.ranges.some(a=>r.sliceDoc(a.from,a.to)!=s))return!1;let o=findNextOccurrence(r,s);return o?(e(r.update({selection:r.selection.addRange(EditorSelection.range(o.from,o.to),!1),effects:EditorView.scrollIntoView(o.to)})),!0):!1},searchConfigFacet=Facet.define({combine(r){return combineConfig(r,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new SearchPanel(e),scrollToMatch:e=>EditorView.scrollIntoView(e)})}});class SearchQuery{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,s)=>s=="n"?`
`:s=="r"?"\r":s=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(e,n=0,s){let o=e.doc?e:EditorState.create({doc:e});return s==null&&(s=o.doc.length),this.regexp?regexpCursor(this,o,n,s):stringCursor(this,o,n,s)}}class QueryType{constructor(e){this.spec=e}}function stringCursor(r,e,n,s){return new SearchCursor(e.doc,r.unquoted,n,s,r.caseSensitive?void 0:o=>o.toLowerCase(),r.wholeWord?stringWordTest(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function stringWordTest(r,e){return(n,s,o,a)=>((a>n||a+o.length<s)&&(a=Math.max(0,n-2),o=r.sliceString(a,Math.min(r.length,s+2))),(e(charBefore(o,n-a))!=CharCategory.Word||e(charAfter(o,n-a))!=CharCategory.Word)&&(e(charAfter(o,s-a))!=CharCategory.Word||e(charBefore(o,s-a))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(e){super(e)}nextMatch(e,n,s){let o=stringCursor(this.spec,e,s,e.doc.length).nextOverlapping();if(o.done){let a=Math.min(e.doc.length,n+this.spec.unquoted.length);o=stringCursor(this.spec,e,0,a).nextOverlapping()}return o.done||o.value.from==n&&o.value.to==s?null:o.value}prevMatchInRange(e,n,s){for(let o=s;;){let a=Math.max(n,o-1e4-this.spec.unquoted.length),u=stringCursor(this.spec,e,a,o),f=null;for(;!u.nextOverlapping().done;)f=u.value;if(f)return f;if(a==n)return null;o-=1e4}}prevMatch(e,n,s){let o=this.prevMatchInRange(e,0,n);return o||(o=this.prevMatchInRange(e,Math.max(0,s-this.spec.unquoted.length),e.doc.length)),o&&(o.from!=n||o.to!=s)?o:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let s=stringCursor(this.spec,e,0,e.doc.length),o=[];for(;!s.next().done;){if(o.length>=n)return null;o.push(s.value)}return o}highlight(e,n,s,o){let a=stringCursor(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(s+this.spec.unquoted.length,e.doc.length));for(;!a.next().done;)o(a.value.from,a.value.to)}}function regexpCursor(r,e,n,s){return new RegExpCursor(e.doc,r.search,{ignoreCase:!r.caseSensitive,test:r.wholeWord?regexpWordTest(e.charCategorizer(e.selection.main.head)):void 0},n,s)}function charBefore(r,e){return r.slice(findClusterBreak(r,e,!1),e)}function charAfter(r,e){return r.slice(e,findClusterBreak(r,e))}function regexpWordTest(r){return(e,n,s)=>!s[0].length||(r(charBefore(s.input,s.index))!=CharCategory.Word||r(charAfter(s.input,s.index))!=CharCategory.Word)&&(r(charAfter(s.input,s.index+s[0].length))!=CharCategory.Word||r(charBefore(s.input,s.index+s[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(e,n,s){let o=regexpCursor(this.spec,e,s,e.doc.length).next();return o.done&&(o=regexpCursor(this.spec,e,0,n).next()),o.done?null:o.value}prevMatchInRange(e,n,s){for(let o=1;;o++){let a=Math.max(n,s-o*1e4),u=regexpCursor(this.spec,e,a,s),f=null;for(;!u.next().done;)f=u.value;if(f&&(a==n||f.from>a+10))return f;if(a==n)return null}}prevMatch(e,n,s){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,s,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(n,s)=>s=="$"?"$":s=="&"?e.match[0]:s!="0"&&+s<e.match.length?e.match[s]:n)}matchAll(e,n){let s=regexpCursor(this.spec,e,0,e.doc.length),o=[];for(;!s.next().done;){if(o.length>=n)return null;o.push(s.value)}return o}highlight(e,n,s,o){let a=regexpCursor(this.spec,e,Math.max(0,n-250),Math.min(s+250,e.doc.length));for(;!a.next().done;)o(a.value.from,a.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(r){return new SearchState(defaultQuery(r).create(),null)},update(r,e){for(let n of e.effects)n.is(setSearchQuery)?r=new SearchState(n.value.create(),r.panel):n.is(togglePanel$1)&&(r=new SearchState(r.query,n.value?createSearchPanel:null));return r},provide:r=>showPanel.from(r,e=>e.panel)});class SearchState{constructor(e,n){this.query=e,this.panel=n}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(r){this.view=r,this.decorations=this.highlight(r.state.field(searchState))}update(r){let e=r.state.field(searchState);(e!=r.startState.field(searchState)||r.docChanged||r.selectionSet||r.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:r,panel:e}){if(!e||!r.spec.valid)return Decoration.none;let{view:n}=this,s=new RangeSetBuilder;for(let o=0,a=n.visibleRanges,u=a.length;o<u;o++){let{from:f,to:d}=a[o];for(;o<u-1&&d>a[o+1].from-2*250;)d=a[++o].to;r.highlight(n.state,f,d,(g,m)=>{let O=n.state.selection.ranges.some(x=>x.from==g&&x.to==m);s.add(g,m,O?selectedMatchMark:matchMark)})}return s.finish()}},{decorations:r=>r.decorations});function searchCommand(r){return e=>{let n=e.state.field(searchState,!1);return n&&n.query.spec.valid?r(e,n):openSearchPanel(e)}}const findNext=searchCommand((r,{query:e})=>{let{to:n}=r.state.selection.main,s=e.nextMatch(r.state,n,n);if(!s)return!1;let o=EditorSelection.single(s.from,s.to),a=r.state.facet(searchConfigFacet);return r.dispatch({selection:o,effects:[announceMatch(r,s),a.scrollToMatch(o.main,r)],userEvent:"select.search"}),selectSearchInput(r),!0}),findPrevious=searchCommand((r,{query:e})=>{let{state:n}=r,{from:s}=n.selection.main,o=e.prevMatch(n,s,s);if(!o)return!1;let a=EditorSelection.single(o.from,o.to),u=r.state.facet(searchConfigFacet);return r.dispatch({selection:a,effects:[announceMatch(r,o),u.scrollToMatch(a.main,r)],userEvent:"select.search"}),selectSearchInput(r),!0}),selectMatches=searchCommand((r,{query:e})=>{let n=e.matchAll(r.state,1e3);return!n||!n.length?!1:(r.dispatch({selection:EditorSelection.create(n.map(s=>EditorSelection.range(s.from,s.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:r,dispatch:e})=>{let n=r.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:s,to:o}=n.main,a=[],u=0;for(let f=new SearchCursor(r.doc,r.sliceDoc(s,o));!f.next().done;){if(a.length>1e3)return!1;f.value.from==s&&(u=a.length),a.push(EditorSelection.range(f.value.from,f.value.to))}return e(r.update({selection:EditorSelection.create(a,u),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((r,{query:e})=>{let{state:n}=r,{from:s,to:o}=n.selection.main;if(n.readOnly)return!1;let a=e.nextMatch(n,s,s);if(!a)return!1;let u=a,f=[],d,g,m=[];if(u.from==s&&u.to==o&&(g=n.toText(e.getReplacement(u)),f.push({from:u.from,to:u.to,insert:g}),u=e.nextMatch(n,u.from,u.to),m.push(EditorView.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(s).number)+"."))),u){let O=f.length==0||f[0].from>=a.to?0:a.to-a.from-g.length;d=EditorSelection.single(u.from-O,u.to-O),m.push(announceMatch(r,u)),m.push(n.facet(searchConfigFacet).scrollToMatch(d.main,r))}return r.dispatch({changes:f,selection:d,effects:m,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((r,{query:e})=>{if(r.state.readOnly)return!1;let n=e.matchAll(r.state,1e9).map(o=>{let{from:a,to:u}=o;return{from:a,to:u,insert:e.getReplacement(o)}});if(!n.length)return!1;let s=r.state.phrase("replaced $ matches",n.length)+".";return r.dispatch({changes:n,effects:EditorView.announce.of(s),userEvent:"input.replace.all"}),!0});function createSearchPanel(r){return r.state.facet(searchConfigFacet).createPanel(r)}function defaultQuery(r,e){var n,s,o,a,u;let f=r.selection.main,d=f.empty||f.to>f.from+100?"":r.sliceDoc(f.from,f.to);if(e&&!d)return e;let g=r.facet(searchConfigFacet);return new SearchQuery({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:g.literal)?d:d.replace(/\n/g,"\\n"),caseSensitive:(s=e==null?void 0:e.caseSensitive)!==null&&s!==void 0?s:g.caseSensitive,literal:(o=e==null?void 0:e.literal)!==null&&o!==void 0?o:g.literal,regexp:(a=e==null?void 0:e.regexp)!==null&&a!==void 0?a:g.regexp,wholeWord:(u=e==null?void 0:e.wholeWord)!==null&&u!==void 0?u:g.wholeWord})}function getSearchInput(r){let e=getPanel(r,createSearchPanel);return e&&e.dom.querySelector("[main-field]")}function selectSearchInput(r){let e=getSearchInput(r);e&&e==r.root.activeElement&&e.select()}const openSearchPanel=r=>{let e=r.state.field(searchState,!1);if(e&&e.panel){let n=getSearchInput(r);if(n&&n!=r.root.activeElement){let s=defaultQuery(r.state,e.query.spec);s.valid&&r.dispatch({effects:setSearchQuery.of(s)}),n.focus(),n.select()}}else r.dispatch({effects:[togglePanel$1.of(!0),e?setSearchQuery.of(defaultQuery(r.state,e.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=r=>{let e=r.state.field(searchState,!1);if(!e||!e.panel)return!1;let n=getPanel(r,createSearchPanel);return n&&n.dom.contains(r.root.activeElement)&&r.focus(),r.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(e){this.view=e;let n=this.query=e.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:n.search,placeholder:phrase(e,"Find"),"aria-label":phrase(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:n.replace,placeholder:phrase(e,"Replace"),"aria-label":phrase(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function s(o,a,u){return crelt("button",{class:"cm-button",name:o,onclick:a,type:"button"},u)}this.dom=crelt("div",{onkeydown:o=>this.keydown(o),class:"cm-search"},[this.searchField,s("next",()=>findNext(e),[phrase(e,"next")]),s("prev",()=>findPrevious(e),[phrase(e,"previous")]),s("select",()=>selectMatches(e),[phrase(e,"all")]),crelt("label",null,[this.caseField,phrase(e,"match case")]),crelt("label",null,[this.reField,phrase(e,"regexp")]),crelt("label",null,[this.wordField,phrase(e,"by word")]),...e.state.readOnly?[]:[crelt("br"),this.replaceField,s("replace",()=>replaceNext(e),[phrase(e,"replace")]),s("replaceAll",()=>replaceAll(e),[phrase(e,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(e),"aria-label":phrase(e,"close"),type:"button"},[""])])}commit(){let e=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:setSearchQuery.of(e)}))}keydown(e){runScopeHandlers(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?findPrevious:findNext)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),replaceNext(this.view))}update(e){for(let n of e.transactions)for(let s of n.effects)s.is(setSearchQuery)&&!s.value.eq(this.query)&&this.setQuery(s.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(r,e){return r.state.phrase(e)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(r,{from:e,to:n}){let s=r.state.doc.lineAt(e),o=r.state.doc.lineAt(n).to,a=Math.max(s.from,e-AnnounceMargin),u=Math.min(o,n+AnnounceMargin),f=r.state.sliceDoc(a,u);if(a!=s.from){for(let d=0;d<AnnounceMargin;d++)if(!Break.test(f[d+1])&&Break.test(f[d])){f=f.slice(d);break}}if(u!=o){for(let d=f.length-1;d>f.length-AnnounceMargin;d--)if(!Break.test(f[d-1])&&Break.test(f[d])){f=f.slice(0,d);break}}return EditorView.announce.of(`${r.state.phrase("current match")}. ${f} ${r.state.phrase("on line")} ${s.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme$2];class CompletionContext{constructor(e,n,s,o){this.state=e,this.pos=n,this.explicit=s,this.view=o,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=syntaxTree(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),s=Math.max(n.from,this.pos-250),o=n.text.slice(s-n.from,this.pos-n.from),a=o.search(ensureAnchor(e,!1));return a<0?null:{from:s+a,to:this.pos,text:o.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,s){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),s&&s.onDocChange&&(this.abortOnDocChange=!0))}}function toSet(r){let e=Object.keys(r).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(r){let e=Object.create(null),n=Object.create(null);for(let{label:o}of r){e[o[0]]=!0;for(let a=1;a<o.length;a++)n[o[a]]=!0}let s=toSet(e)+toSet(n)+"*$";return[new RegExp("^"+s),new RegExp(s)]}function completeFromList(r){let e=r.map(o=>typeof o=="string"?{label:o}:o),[n,s]=e.every(o=>/^\w+$/.test(o.label))?[/\w*$/,/\w+$/]:prefixMatch(e);return o=>{let a=o.matchBefore(s);return a||o.explicit?{from:a?a.from:o.pos,options:e,validFor:n}:null}}function ifNotIn(r,e){return n=>{for(let s=syntaxTree(n.state).resolveInner(n.pos,-1);s;s=s.parent){if(r.indexOf(s.name)>-1)return null;if(s.type.isTop)break}return e(n)}}class Option{constructor(e,n,s,o){this.completion=e,this.source=n,this.match=s,this.score=o}}function cur(r){return r.selection.main.from}function ensureAnchor(r,e){var n;let{source:s}=r,o=e&&s[0]!="^",a=s[s.length-1]!="$";return!o&&!a?r:new RegExp(`${o?"^":""}(?:${s})${a?"$":""}`,(n=r.flags)!==null&&n!==void 0?n:r.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(r,e,n,s){let{main:o}=r.selection,a=n-o.from,u=s-o.from;return Object.assign(Object.assign({},r.changeByRange(f=>{if(f!=o&&n!=s&&r.sliceDoc(f.from+a,f.from+u)!=r.sliceDoc(n,s))return{range:f};let d=r.toText(e);return{changes:{from:f.from+a,to:s==o.from?f.to:f.from+u,insert:d},range:EditorSelection.cursor(f.from+a+d.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const SourceCache=new WeakMap;function asSource(r){if(!Array.isArray(r))return r;let e=SourceCache.get(r);return e||SourceCache.set(r,e=completeFromList(r)),e}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let s=codePointAt(e,n),o=codePointSize(s);this.chars.push(s);let a=e.slice(n,n+o),u=a.toUpperCase();this.folded.push(codePointAt(u==a?a.toLowerCase():u,0)),n+=o}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:s,any:o,precise:a,byWord:u}=this;if(n.length==1){let A=codePointAt(e,0),M=codePointSize(A),$=M==e.length?0:-100;if(A!=n[0])if(A==s[0])$+=-200;else return null;return this.ret($,[0,M])}let f=e.indexOf(this.pattern);if(f==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let d=n.length,g=0;if(f<0){for(let A=0,M=Math.min(e.length,200);A<M&&g<d;){let $=codePointAt(e,A);($==n[g]||$==s[g])&&(o[g++]=A),A+=codePointSize($)}if(g<d)return null}let m=0,O=0,x=!1,b=0,w=-1,E=-1,k=/[a-z]/.test(e),Q=!0;for(let A=0,M=Math.min(e.length,200),$=0;A<M&&O<d;){let _=codePointAt(e,A);f<0&&(m<d&&_==n[m]&&(a[m++]=A),b<d&&(_==n[b]||_==s[b]?(b==0&&(w=A),E=A+1,b++):b=0));let j,Z=_<255?_>=48&&_<=57||_>=97&&_<=122?2:_>=65&&_<=90?1:0:(j=fromCodePoint(_))!=j.toLowerCase()?1:j!=j.toUpperCase()?2:0;(!A||Z==1&&k||$==0&&Z!=0)&&(n[O]==_||s[O]==_&&(x=!0)?u[O++]=A:u.length&&(Q=!1)),$=Z,A+=codePointSize(_)}return O==d&&u[0]==0&&Q?this.result(-100+(x?-200:0),u,e):b==d&&w==0?this.ret(-200-e.length+(E==e.length?0:-100),[0,E]):f>-1?this.ret(-700-e.length,[f,f+this.pattern.length]):b==d?this.ret(-900-e.length,[w,E]):O==d?this.result(-100+(x?-200:0)+-700+(Q?0:-1100),u,e):n.length==2?null:this.result((o[0]?-700:0)+-200+-1100,o,e)}result(e,n,s){let o=[],a=0;for(let u of n){let f=u+(this.astral?codePointSize(codePointAt(s,u)):1);a&&o[a-1]==u?o[a-1]=f:(o[a++]=u,o[a++]=f)}return this.ret(e-s.length,o)}}class StrictMatcher{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),s=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return s==null?null:(this.matched=[0,n.length],this.score=s+(e.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(r){return combineConfig(r,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>s=>joinClass(e(s),n(s)),optionClass:(e,n)=>s=>joinClass(e(s),n(s)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function joinClass(r,e){return r?e?r+" "+e:r:e}function defaultPositionInfo(r,e,n,s,o,a){let u=r.textDirection==Direction.RTL,f=u,d=!1,g="top",m,O,x=e.left-o.left,b=o.right-e.right,w=s.right-s.left,E=s.bottom-s.top;if(f&&x<Math.min(w,b)?f=!1:!f&&b<Math.min(w,x)&&(f=!0),w<=(f?x:b))m=Math.max(o.top,Math.min(n.top,o.bottom-E))-e.top,O=Math.min(400,f?x:b);else{d=!0,O=Math.min(400,(u?e.right:o.right-e.left)-30);let A=o.bottom-e.bottom;A>=E||A>e.top?m=n.bottom-e.top:(g="bottom",m=e.bottom-n.top)}let k=(e.bottom-e.top)/a.offsetHeight,Q=(e.right-e.left)/a.offsetWidth;return{style:`${g}: ${m/k}px; max-width: ${O/Q}px`,class:"cm-completionInfo-"+(d?u?"left-narrow":"right-narrow":f?"left":"right")}}function optionContent(r){let e=r.addToOptions.slice();return r.icons&&e.push({render(n){let s=document.createElement("div");return s.classList.add("cm-completionIcon"),n.type&&s.classList.add(...n.type.split(/\s+/g).map(o=>"cm-completionIcon-"+o)),s.setAttribute("aria-hidden","true"),s},position:20}),e.push({render(n,s,o,a){let u=document.createElement("span");u.className="cm-completionLabel";let f=n.displayLabel||n.label,d=0;for(let g=0;g<a.length;){let m=a[g++],O=a[g++];m>d&&u.appendChild(document.createTextNode(f.slice(d,m)));let x=u.appendChild(document.createElement("span"));x.appendChild(document.createTextNode(f.slice(m,O))),x.className="cm-completionMatchedText",d=O}return d<f.length&&u.appendChild(document.createTextNode(f.slice(d))),u},position:50},{render(n){if(!n.detail)return null;let s=document.createElement("span");return s.className="cm-completionDetail",s.textContent=n.detail,s},position:80}),e.sort((n,s)=>n.position-s.position).map(n=>n.render)}function rangeAroundSelected(r,e,n){if(r<=n)return{from:0,to:r};if(e<0&&(e=0),e<=r>>1){let o=Math.floor(e/n);return{from:o*n,to:(o+1)*n}}let s=Math.floor((r-e)/n);return{from:r-(s+1)*n,to:r-s*n}}class CompletionTooltip{constructor(e,n,s){this.view=e,this.stateField=n,this.applyCompletion=s,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:d=>this.placeInfo(d),key:this},this.space=null,this.currentClass="";let o=e.state.field(n),{options:a,selected:u}=o.open,f=e.state.facet(completionConfig);this.optionContent=optionContent(f),this.optionClass=f.optionClass,this.tooltipClass=f.tooltipClass,this.range=rangeAroundSelected(a.length,u,f.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",d=>{let{options:g}=e.state.field(n).open;for(let m=d.target,O;m&&m!=this.dom;m=m.parentNode)if(m.nodeName=="LI"&&(O=/-(\d+)$/.exec(m.id))&&+O[1]<g.length){this.applyCompletion(e,g[+O[1]]),d.preventDefault();return}}),this.dom.addEventListener("focusout",d=>{let g=e.state.field(this.stateField,!1);g&&g.tooltip&&e.state.facet(completionConfig).closeOnBlur&&d.relatedTarget!=e.contentDOM&&e.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(a,o.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let s=e.state.field(this.stateField),o=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),s!=o){let{options:a,selected:u,disabled:f}=s.open;(!o.open||o.open.options!=a)&&(this.range=rangeAroundSelected(a.length,u,e.state.facet(completionConfig).maxRenderedOptions),this.showOptions(a,s.id)),this.updateSel(),f!=((n=o.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!f)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let s of this.currentClass.split(" "))s&&this.dom.classList.remove(s);for(let s of n.split(" "))s&&this.dom.classList.add(s);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=rangeAroundSelected(n.options.length,n.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:s}=n.options[n.selected],{info:o}=s;if(!o)return;let a=typeof o=="string"?document.createTextNode(o):o(s);if(!a)return;"then"in a?a.then(u=>{u&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(u,s)}).catch(u=>logException(this.view.state,u,"completion info")):this.addInfoPane(a,s)}}addInfoPane(e,n){this.destroyInfo();let s=this.info=document.createElement("div");if(s.className="cm-tooltip cm-completionInfo",e.nodeType!=null)s.appendChild(e),this.infoDestroy=null;else{let{dom:o,destroy:a}=e;s.appendChild(o),this.infoDestroy=a||null}this.dom.appendChild(s),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let s=this.list.firstChild,o=this.range.from;s;s=s.nextSibling,o++)s.nodeName!="LI"||!s.id?o--:o==e?s.hasAttribute("aria-selected")||(s.setAttribute("aria-selected","true"),n=s):s.hasAttribute("aria-selected")&&s.removeAttribute("aria-selected");return n&&scrollIntoView(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),s=this.info.getBoundingClientRect(),o=e.getBoundingClientRect(),a=this.space;if(!a){let u=this.dom.ownerDocument.defaultView||window;a={left:0,top:0,right:u.innerWidth,bottom:u.innerHeight}}return o.top>Math.min(a.bottom,n.bottom)-10||o.bottom<Math.max(a.top,n.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,n,o,s,a,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,s){const o=document.createElement("ul");o.id=n,o.setAttribute("role","listbox"),o.setAttribute("aria-expanded","true"),o.setAttribute("aria-label",this.view.state.phrase("Completions"));let a=null;for(let u=s.from;u<s.to;u++){let{completion:f,match:d}=e[u],{section:g}=f;if(g){let x=typeof g=="string"?g:g.name;if(x!=a&&(u>s.from||s.from==0))if(a=x,typeof g!="string"&&g.header)o.appendChild(g.header(g));else{let b=o.appendChild(document.createElement("completion-section"));b.textContent=x}}const m=o.appendChild(document.createElement("li"));m.id=n+"-"+u,m.setAttribute("role","option");let O=this.optionClass(f);O&&(m.className=O);for(let x of this.optionContent){let b=x(f,this.view.state,this.view,d);b&&m.appendChild(b)}}return s.from&&o.classList.add("cm-completionListIncompleteTop"),s.to<e.length&&o.classList.add("cm-completionListIncompleteBottom"),o}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(r,e){return n=>new CompletionTooltip(n,r,e)}function scrollIntoView(r,e){let n=r.getBoundingClientRect(),s=e.getBoundingClientRect(),o=n.height/r.offsetHeight;s.top<n.top?r.scrollTop-=(n.top-s.top)/o:s.bottom>n.bottom&&(r.scrollTop+=(s.bottom-n.bottom)/o)}function score(r){return(r.boost||0)*100+(r.apply?10:0)+(r.info?5:0)+(r.type?1:0)}function sortOptions(r,e){let n=[],s=null,o=g=>{n.push(g);let{section:m}=g.completion;if(m){s||(s=[]);let O=typeof m=="string"?m:m.name;s.some(x=>x.name==O)||s.push(typeof m=="string"?{name:O}:m)}},a=e.facet(completionConfig);for(let g of r)if(g.hasResult()){let m=g.result.getMatch;if(g.result.filter===!1)for(let O of g.result.options)o(new Option(O,g.source,m?m(O):[],1e9-n.length));else{let O=e.sliceDoc(g.from,g.to),x,b=a.filterStrict?new StrictMatcher(O):new FuzzyMatcher(O);for(let w of g.result.options)if(x=b.match(w.label)){let E=w.displayLabel?m?m(w,x.matched):[]:x.matched;o(new Option(w,g.source,E,x.score+(w.boost||0)))}}}if(s){let g=Object.create(null),m=0,O=(x,b)=>{var w,E;return((w=x.rank)!==null&&w!==void 0?w:1e9)-((E=b.rank)!==null&&E!==void 0?E:1e9)||(x.name<b.name?-1:1)};for(let x of s.sort(O))m-=1e5,g[x.name]=m;for(let x of n){let{section:b}=x.completion;b&&(x.score+=g[typeof b=="string"?b:b.name])}}let u=[],f=null,d=a.compareCompletions;for(let g of n.sort((m,O)=>O.score-m.score||d(m.completion,O.completion))){let m=g.completion;!f||f.label!=m.label||f.detail!=m.detail||f.type!=null&&m.type!=null&&f.type!=m.type||f.apply!=m.apply||f.boost!=m.boost?u.push(g):score(g.completion)>score(f)&&(u[u.length-1]=g),f=g.completion}return u}class CompletionDialog{constructor(e,n,s,o,a,u){this.options=e,this.attrs=n,this.tooltip=s,this.timestamp=o,this.selected=a,this.disabled=u}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,s,o,a,u){if(o&&!u&&e.some(g=>g.isPending))return o.setDisabled();let f=sortOptions(e,n);if(!f.length)return o&&e.some(g=>g.isPending)?o.setDisabled():null;let d=n.facet(completionConfig).selectOnOpen?0:-1;if(o&&o.selected!=d&&o.selected!=-1){let g=o.options[o.selected].completion;for(let m=0;m<f.length;m++)if(f[m].completion==g){d=m;break}}return new CompletionDialog(f,makeAttrs(s,d),{pos:e.reduce((g,m)=>m.hasResult()?Math.min(g,m.from):g,1e8),create:createTooltip,above:a.aboveCursor},o?o.timestamp:Date.now(),d,!1)}map(e){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new CompletionDialog(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class CompletionState{constructor(e,n,s){this.active=e,this.id=n,this.open=s}static start(){return new CompletionState(none$1,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,s=n.facet(completionConfig),a=(s.override||n.languageDataAt("autocomplete",cur(n)).map(asSource)).map(d=>(this.active.find(m=>m.source==d)||new ActiveSource(d,this.active.some(m=>m.state!=0)?1:0)).update(e,s));a.length==this.active.length&&a.every((d,g)=>d==this.active[g])&&(a=this.active);let u=this.open,f=e.effects.some(d=>d.is(setActiveEffect));u&&e.docChanged&&(u=u.map(e.changes)),e.selection||a.some(d=>d.hasResult()&&e.changes.touchesRange(d.from,d.to))||!sameResults(a,this.active)||f?u=CompletionDialog.build(a,n,this.id,u,s,f):u&&u.disabled&&!a.some(d=>d.isPending)&&(u=null),!u&&a.every(d=>!d.isPending)&&a.some(d=>d.hasResult())&&(a=a.map(d=>d.hasResult()?new ActiveSource(d.source,0):d));for(let d of e.effects)d.is(setSelectedEffect)&&(u=u&&u.setSelected(d.value,this.id));return a==this.active&&u==this.open?this:new CompletionState(a,this.id,u)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?baseAttrs:noAttrs}}function sameResults(r,e){if(r==e)return!0;for(let n=0,s=0;;){for(;n<r.length&&!r[n].hasResult();)n++;for(;s<e.length&&!e[s].hasResult();)s++;let o=n==r.length,a=s==e.length;if(o||a)return o==a;if(r[n++].result!=e[s++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"},noAttrs={};function makeAttrs(r,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":r};return e>-1&&(n["aria-activedescendant"]=r+"-"+e),n}const none$1=[];function getUpdateType(r,e){if(r.isUserEvent("input.complete")){let s=r.annotation(pickedCompletion);if(s&&e.activateOnCompletion(s))return 12}let n=r.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:r.isUserEvent("delete.backward")?2:r.selection?8:r.docChanged?16:0}class ActiveSource{constructor(e,n,s=!1){this.source=e,this.state=n,this.explicit=s}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let s=getUpdateType(e,n),o=this;(s&8||s&16&&this.touches(e))&&(o=new ActiveSource(o.source,0)),s&4&&o.state==0&&(o=new ActiveSource(this.source,1)),o=o.updateFor(e,s);for(let a of e.effects)if(a.is(startCompletionEffect))o=new ActiveSource(o.source,1,a.value);else if(a.is(closeCompletionEffect))o=new ActiveSource(o.source,0);else if(a.is(setActiveEffect))for(let u of a.value)u.source==o.source&&(o=u);return o}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(cur(e.state))}}class ActiveResult extends ActiveSource{constructor(e,n,s,o,a,u){super(e,3,n),this.limit=s,this.result=o,this.from=a,this.to=u}hasResult(){return!0}updateFor(e,n){var s;if(!(n&3))return this.map(e.changes);let o=this.result;o.map&&!e.changes.empty&&(o=o.map(o,e.changes));let a=e.changes.mapPos(this.from),u=e.changes.mapPos(this.to,1),f=cur(e.state);if(f>u||!o||n&2&&(cur(e.startState)==this.from||f<this.limit))return new ActiveSource(this.source,n&4?1:0);let d=e.changes.mapPos(this.limit);return checkValid(o.validFor,e.state,a,u)?new ActiveResult(this.source,this.explicit,d,o,a,u):o.update&&(o=o.update(o,a,u,new CompletionContext(e.state,f,!1)))?new ActiveResult(this.source,this.explicit,d,o,o.from,(s=o.to)!==null&&s!==void 0?s:cur(e.state)):new ActiveSource(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new ActiveResult(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new ActiveSource(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function checkValid(r,e,n,s){if(!r)return!1;let o=e.sliceDoc(n,s);return typeof r=="function"?r(o,n,s,e):ensureAnchor(r,!0).test(o)}const setActiveEffect=StateEffect.define({map(r,e){return r.map(n=>n.map(e))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(r,e){return r.update(e)},provide:r=>[showTooltip.from(r,e=>e.tooltip),EditorView.contentAttributes.from(r,e=>e.attrs)]});function applyCompletion(r,e){const n=e.completion.apply||e.completion.label;let s=r.state.field(completionState).active.find(o=>o.source==e.source);return s instanceof ActiveResult?(typeof n=="string"?r.dispatch(Object.assign(Object.assign({},insertCompletionText(r.state,n,s.from,s.to)),{annotations:pickedCompletion.of(e.completion)})):n(r,e.completion,s.from,s.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(r,e="option"){return n=>{let s=n.state.field(completionState,!1);if(!s||!s.open||s.open.disabled||Date.now()-s.open.timestamp<n.state.facet(completionConfig).interactionDelay)return!1;let o=1,a;e=="page"&&(a=getTooltip(n,s.open.tooltip))&&(o=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:u}=s.open.options,f=s.open.selected>-1?s.open.selected+o*(r?1:-1):r?0:u-1;return f<0?f=e=="page"?0:u-1:f>=u&&(f=e=="page"?u-1:0),n.dispatch({effects:setSelectedEffect.of(f)}),!0}}const acceptCompletion=r=>{let e=r.state.field(completionState,!1);return r.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<r.state.facet(completionConfig).interactionDelay?!1:applyCompletion(r,e.open.options[e.open.selected])},startCompletion=r=>r.state.field(completionState,!1)?(r.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=r=>{let e=r.state.field(completionState,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(r.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(r){this.view=r,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of r.state.field(completionState).active)e.isPending&&this.startQuery(e)}update(r){let e=r.state.field(completionState),n=r.state.facet(completionConfig);if(!r.selectionSet&&!r.docChanged&&r.startState.field(completionState)==e)return;let s=r.transactions.some(a=>{let u=getUpdateType(a,n);return u&8||(a.selection||a.docChanged)&&!(u&3)});for(let a=0;a<this.running.length;a++){let u=this.running[a];if(s||u.context.abortOnDocChange&&r.docChanged||u.updates.length+r.transactions.length>MaxUpdateCount&&Date.now()-u.time>MinAbortTime){for(let f of u.context.abortListeners)try{f()}catch(d){logException(this.view.state,d)}u.context.abortListeners=null,this.running.splice(a--,1)}else u.updates.push(...r.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),r.transactions.some(a=>a.effects.some(u=>u.is(startCompletionEffect)))&&(this.pendingStart=!0);let o=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(a=>a.isPending&&!this.running.some(u=>u.active.source==a.source))?setTimeout(()=>this.startUpdate(),o):-1,this.composing!=0)for(let a of r.transactions)a.isUserEvent("input.type")?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:r}=this.view,e=r.field(completionState);for(let n of e.active)n.isPending&&!this.running.some(s=>s.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}startQuery(r){let{state:e}=this.view,n=cur(e),s=new CompletionContext(e,n,r.explicit,this.view),o=new RunningQuery(r,s);this.running.push(o),Promise.resolve(r.source(s)).then(a=>{o.context.aborted||(o.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,a)})}scheduleAccept(){this.running.every(r=>r.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var r;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(completionConfig),s=this.view.state.field(completionState);for(let o=0;o<this.running.length;o++){let a=this.running[o];if(a.done===void 0)continue;if(this.running.splice(o--,1),a.done){let f=cur(a.updates.length?a.updates[0].startState:this.view.state),d=Math.min(f,a.done.from+(a.active.explicit?0:1)),g=new ActiveResult(a.active.source,a.active.explicit,d,a.done,a.done.from,(r=a.done.to)!==null&&r!==void 0?r:f);for(let m of a.updates)g=g.update(m,n);if(g.hasResult()){e.push(g);continue}}let u=s.active.find(f=>f.source==a.active.source);if(u&&u.isPending)if(a.done==null){let f=new ActiveSource(a.active.source,0);for(let d of a.updates)f=f.update(d,n);f.isPending||e.push(f)}else this.startQuery(u)}(e.length||s.open&&s.open.disabled)&&this.view.dispatch({effects:setActiveEffect.of(e)})}},{eventHandlers:{blur(r){let e=this.view.state.field(completionState,!1);if(e&&e.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let n=e.open&&getTooltip(this.view,e.open.tooltip);(!n||!n.dom.contains(r.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(r,e){let n=e.state.field(completionState,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||r.key.length>1||r.ctrlKey&&!(windows&&r.altKey)||r.metaKey)return!1;let s=n.open.options[n.open.selected],o=n.active.find(u=>u.source==s.source),a=s.completion.commitCharacters||o.result.commitCharacters;return a&&a.indexOf(r.key)>-1&&applyCompletion(e,s),!1}})),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(e,n,s,o){this.field=e,this.line=n,this.from=s,this.to=o}}class FieldRange{constructor(e,n,s){this.field=e,this.from=n,this.to=s}map(e){let n=e.mapPos(this.from,-1,MapMode.TrackDel),s=e.mapPos(this.to,1,MapMode.TrackDel);return n==null||s==null?null:new FieldRange(this.field,n,s)}}class Snippet{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let s=[],o=[n],a=e.doc.lineAt(n),u=/^\s*/.exec(a.text)[0];for(let d of this.lines){if(s.length){let g=u,m=/^\t*/.exec(d)[0].length;for(let O=0;O<m;O++)g+=e.facet(indentUnit);o.push(n+g.length-m),d=g+d.slice(m)}s.push(d),n+=d.length+1}let f=this.fieldPositions.map(d=>new FieldRange(d.field,o[d.line]+d.from,o[d.line]+d.to));return{text:s,ranges:f}}static parse(e){let n=[],s=[],o=[],a;for(let u of e.split(/\r\n?|\n/)){for(;a=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(u);){let f=a[1]?+a[1]:null,d=a[2]||a[3]||"",g=-1,m=d.replace(/\\[{}]/g,O=>O[1]);for(let O=0;O<n.length;O++)(f!=null?n[O].seq==f:m&&n[O].name==m)&&(g=O);if(g<0){let O=0;for(;O<n.length&&(f==null||n[O].seq!=null&&n[O].seq<f);)O++;n.splice(O,0,{seq:f,name:m}),g=O;for(let x of o)x.field>=g&&x.field++}o.push(new FieldPos(g,s.length,a.index,a.index+m.length)),u=u.slice(0,a.index)+d+u.slice(a.index+a[0].length)}u=u.replace(/\\([{}])/g,(f,d,g)=>{for(let m of o)m.line==s.length&&m.from>g&&(m.from--,m.to--);return d}),s.push(u)}return new Snippet(s,o)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let r=document.createElement("span");return r.className="cm-snippetFieldPosition",r}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(e,n){this.ranges=e,this.active=n,this.deco=Decoration.set(e.map(s=>(s.from==s.to?fieldMarker:fieldRange).range(s.from,s.to)))}map(e){let n=[];for(let s of this.ranges){let o=s.map(e);if(!o)return null;n.push(o)}return new ActiveSnippet(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(s=>s.field==this.active&&s.from<=n.from&&s.to>=n.to))}}const setActive=StateEffect.define({map(r,e){return r&&r.map(e)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(r,e){for(let n of e.effects){if(n.is(setActive))return n.value;if(n.is(moveToField)&&r)return new ActiveSnippet(r.ranges,n.value)}return r&&e.docChanged&&(r=r.map(e.changes)),r&&e.selection&&!r.selectionInsideField(e.selection)&&(r=null),r},provide:r=>EditorView.decorations.from(r,e=>e?e.deco:Decoration.none)});function fieldSelection(r,e){return EditorSelection.create(r.filter(n=>n.field==e).map(n=>EditorSelection.range(n.from,n.to)))}function snippet(r){let e=Snippet.parse(r);return(n,s,o,a)=>{let{text:u,ranges:f}=e.instantiate(n.state,o),{main:d}=n.state.selection,g={changes:{from:o,to:a==d.from?d.to:a,insert:Text.of(u)},scrollIntoView:!0,annotations:s?[pickedCompletion.of(s),Transaction.userEvent.of("input.complete")]:void 0};if(f.length&&(g.selection=fieldSelection(f,0)),f.some(m=>m.field>0)){let m=new ActiveSnippet(f,0),O=g.effects=[setActive.of(m)];n.state.field(snippetState,!1)===void 0&&O.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}n.dispatch(n.state.update(g))}}function moveField(r){return({state:e,dispatch:n})=>{let s=e.field(snippetState,!1);if(!s||r<0&&s.active==0)return!1;let o=s.active+r,a=r>0&&!s.ranges.some(u=>u.field==o+r);return n(e.update({selection:fieldSelection(s.ranges,o),effects:setActive.of(a?null:new ActiveSnippet(s.ranges,o)),scrollIntoView:!0})),!0}}const clearSnippet=({state:r,dispatch:e})=>r.field(snippetState,!1)?(e(r.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(r){return r.length?r[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],r=>r.facet(snippetKeymap)));function snippetCompletion(r,e){return Object.assign(Object.assign({},e),{apply:snippet(r)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(r,e){let n=e.state.field(snippetState,!1),s;if(!n||(s=e.posAtCoords({x:r.clientX,y:r.clientY}))==null)return!1;let o=n.ranges.find(a=>a.from<=s&&a.to>=s);return!o||o.field==n.active?!1:(e.dispatch({selection:fieldSelection(n.ranges,o.field),effects:setActive.of(n.ranges.some(a=>a.field>o.field)?new ActiveSnippet(n.ranges,o.field):null),scrollIntoView:!0}),!0)}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(r,e){let n=e.mapPos(r,-1,MapMode.TrackAfter);return n??void 0}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(r,e){if(r=r.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);r=r.update({filter:s=>s>=n.from&&s<=n.to})}for(let n of e.effects)n.is(closeBracketEffect)&&(r=r.update({add:[closedBracket.range(n.value,n.value+1)]}));return r}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(r){for(let e=0;e<definedClosing.length;e+=2)if(definedClosing.charCodeAt(e)==r)return definedClosing.charAt(e+1);return fromCodePoint(r<128?r:r+1)}function config(r,e){return r.languageDataAt("closeBrackets",e)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((r,e,n,s)=>{if((android$1?r.composing:r.compositionStarted)||r.state.readOnly)return!1;let o=r.state.selection.main;if(s.length>2||s.length==2&&codePointSize(codePointAt(s,0))==1||e!=o.from||n!=o.to)return!1;let a=insertBracket(r.state,s);return a?(r.dispatch(a),!0):!1}),deleteBracketPair=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let s=config(r,r.selection.main.head).brackets||defaults.brackets,o=null,a=r.changeByRange(u=>{if(u.empty){let f=prevChar(r.doc,u.head);for(let d of s)if(d==f&&nextChar(r.doc,u.head)==closing(codePointAt(d,0)))return{changes:{from:u.head-d.length,to:u.head+d.length},range:EditorSelection.cursor(u.head-d.length)}}return{range:o=u}});return o||e(r.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!o},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(r,e){let n=config(r,r.selection.main.head),s=n.brackets||defaults.brackets;for(let o of s){let a=closing(codePointAt(o,0));if(e==o)return a==o?handleSame(r,o,s.indexOf(o+o+o)>-1,n):handleOpen(r,o,a,n.before||defaults.before);if(e==a&&closedBracketAt(r,r.selection.main.from))return handleClose(r,o,a)}return null}function closedBracketAt(r,e){let n=!1;return r.field(bracketState).between(0,r.doc.length,s=>{s==e&&(n=!0)}),n}function nextChar(r,e){let n=r.sliceString(e,e+2);return n.slice(0,codePointSize(codePointAt(n,0)))}function prevChar(r,e){let n=r.sliceString(e-2,e);return codePointSize(codePointAt(n,0))==n.length?n:n.slice(1)}function handleOpen(r,e,n,s){let o=null,a=r.changeByRange(u=>{if(!u.empty)return{changes:[{insert:e,from:u.from},{insert:n,from:u.to}],effects:closeBracketEffect.of(u.to+e.length),range:EditorSelection.range(u.anchor+e.length,u.head+e.length)};let f=nextChar(r.doc,u.head);return!f||/\s/.test(f)||s.indexOf(f)>-1?{changes:{insert:e+n,from:u.head},effects:closeBracketEffect.of(u.head+e.length),range:EditorSelection.cursor(u.head+e.length)}:{range:o=u}});return o?null:r.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(r,e,n){let s=null,o=r.changeByRange(a=>a.empty&&nextChar(r.doc,a.head)==n?{changes:{from:a.head,to:a.head+n.length,insert:n},range:EditorSelection.cursor(a.head+n.length)}:s={range:a});return s?null:r.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function handleSame(r,e,n,s){let o=s.stringPrefixes||defaults.stringPrefixes,a=null,u=r.changeByRange(f=>{if(!f.empty)return{changes:[{insert:e,from:f.from},{insert:e,from:f.to}],effects:closeBracketEffect.of(f.to+e.length),range:EditorSelection.range(f.anchor+e.length,f.head+e.length)};let d=f.head,g=nextChar(r.doc,d),m;if(g==e){if(nodeStart(r,d))return{changes:{insert:e+e,from:d},effects:closeBracketEffect.of(d+e.length),range:EditorSelection.cursor(d+e.length)};if(closedBracketAt(r,d)){let x=n&&r.sliceDoc(d,d+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:d,to:d+x.length,insert:x},range:EditorSelection.cursor(d+x.length)}}}else{if(n&&r.sliceDoc(d-2*e.length,d)==e+e&&(m=canStartStringAt(r,d-2*e.length,o))>-1&&nodeStart(r,m))return{changes:{insert:e+e+e+e,from:d},effects:closeBracketEffect.of(d+e.length),range:EditorSelection.cursor(d+e.length)};if(r.charCategorizer(d)(g)!=CharCategory.Word&&canStartStringAt(r,d,o)>-1&&!probablyInString(r,d,e,o))return{changes:{insert:e+e,from:d},effects:closeBracketEffect.of(d+e.length),range:EditorSelection.cursor(d+e.length)}}return{range:a=f}});return a?null:r.update(u,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(r,e){let n=syntaxTree(r).resolveInner(e+1);return n.parent&&n.from==e}function probablyInString(r,e,n,s){let o=syntaxTree(r).resolveInner(e,-1),a=s.reduce((u,f)=>Math.max(u,f.length),0);for(let u=0;u<5;u++){let f=r.sliceDoc(o.from,Math.min(o.to,o.from+n.length+a)),d=f.indexOf(n);if(!d||d>-1&&s.indexOf(f.slice(0,d))>-1){let m=o.firstChild;for(;m&&m.from==o.from&&m.to-m.from>n.length+d;){if(r.sliceDoc(m.to-n.length,m.to)==n)return!1;m=m.firstChild}return!0}let g=o.to==e&&o.parent;if(!g)break;o=g}return!1}function canStartStringAt(r,e,n){let s=r.charCategorizer(e);if(s(r.sliceDoc(e-1,e))!=CharCategory.Word)return e;for(let o of n){let a=e-o.length;if(r.sliceDoc(a,e)==o&&s(r.sliceDoc(a-1,a))!=CharCategory.Word)return a}return-1}function autocompletion(r={}){return[commitCharacters,completionState,completionConfig.of(r),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{mac:"Alt-`",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],r=>r.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(e,n,s){this.from=e,this.to=n,this.diagnostic=s}}class LintState{constructor(e,n,s){this.diagnostics=e,this.panel=n,this.selected=s}static init(e,n,s){let o=e,a=s.facet(lintConfig).markerFilter;a&&(o=a(o,s));let u=e.slice().sort((O,x)=>O.from-x.from||O.to-x.to),f=new RangeSetBuilder,d=[],g=0;for(let O=0;;){let x=O==u.length?null:u[O];if(!x&&!d.length)break;let b,w;for(d.length?(b=g,w=d.reduce((k,Q)=>Math.min(k,Q.to),x&&x.from>b?x.from:1e8)):(b=x.from,w=x.to,d.push(x),O++);O<u.length;){let k=u[O];if(k.from==b&&(k.to>k.from||k.to==b))d.push(k),O++,w=Math.min(k.to,w);else{w=Math.min(k.from,w);break}}let E=maxSeverity(d);if(d.some(k=>k.from==k.to||k.from==k.to-1&&s.doc.lineAt(k.from).to==k.from))f.add(b,b,Decoration.widget({widget:new DiagnosticWidget(E),diagnostics:d.slice()}));else{let k=d.reduce((Q,A)=>A.markClass?Q+" "+A.markClass:Q,"");f.add(b,w,Decoration.mark({class:"cm-lintRange cm-lintRange-"+E+k,diagnostics:d.slice(),inclusiveEnd:d.some(Q=>Q.to>w)}))}g=w;for(let k=0;k<d.length;k++)d[k].to<=g&&d.splice(k--,1)}let m=f.finish();return new LintState(m,n,findDiagnostic(m))}}function findDiagnostic(r,e=null,n=0){let s=null;return r.between(n,1e9,(o,a,{spec:u})=>{if(!(e&&u.diagnostics.indexOf(e)<0))if(!s)s=new SelectedDiagnostic(o,a,e||u.diagnostics[0]);else{if(u.diagnostics.indexOf(s.diagnostic)<0)return!1;s=new SelectedDiagnostic(s.from,a,s.diagnostic)}}),s}function hideTooltip(r,e){let n=e.pos,s=e.end||n,o=r.state.facet(lintConfig).hideOn(r,n,s);if(o!=null)return o;let a=r.startState.doc.lineAt(e.pos);return!!(r.effects.some(u=>u.is(setDiagnosticsEffect))||r.changes.touchesRange(a.from,Math.max(a.to,s)))}function maybeEnableLint(r,e){return r.field(lintState,!1)?e:e.concat(StateEffect.appendConfig.of(lintExtensions))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(r,e){if(e.docChanged&&r.diagnostics.size){let n=r.diagnostics.map(e.changes),s=null,o=r.panel;if(r.selected){let a=e.changes.mapPos(r.selected.from,1);s=findDiagnostic(n,r.selected.diagnostic,a)||findDiagnostic(n,null,a)}!n.size&&o&&e.state.facet(lintConfig).autoPanel&&(o=null),r=new LintState(n,o,s)}for(let n of e.effects)if(n.is(setDiagnosticsEffect)){let s=e.state.facet(lintConfig).autoPanel?n.value.length?LintPanel.open:null:r.panel;r=LintState.init(n.value,s,e.state)}else n.is(togglePanel)?r=new LintState(r.diagnostics,n.value?LintPanel.open:null,r.selected):n.is(movePanelSelection)&&(r=new LintState(r.diagnostics,r.panel,n.value));return r},provide:r=>[showPanel.from(r,e=>e.panel),EditorView.decorations.from(r,e=>e.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(r,e,n){let{diagnostics:s}=r.state.field(lintState),o,a=-1,u=-1;s.between(e-(n<0?1:0),e+(n>0?1:0),(d,g,{spec:m})=>{if(e>=d&&e<=g&&(d==g||(e>d||n>0)&&(e<g||n<0)))return o=m.diagnostics,a=d,u=g,!1});let f=r.state.facet(lintConfig).tooltipFilter;return o&&f&&(o=f(o,r.state)),o?{pos:a,end:u,above:r.state.doc.lineAt(a).to<u,create(){return{dom:diagnosticsTooltip(r,o)}}}:null}function diagnosticsTooltip(r,e){return crelt("ul",{class:"cm-tooltip-lint"},e.map(n=>renderDiagnostic(r,n,!1)))}const openLintPanel=r=>{let e=r.state.field(lintState,!1);(!e||!e.panel)&&r.dispatch({effects:maybeEnableLint(r.state,[togglePanel.of(!0)])});let n=getPanel(r,LintPanel.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=r=>{let e=r.state.field(lintState,!1);return!e||!e.panel?!1:(r.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=r=>{let e=r.state.field(lintState,!1);if(!e)return!1;let n=r.state.selection.main,s=e.diagnostics.iter(n.to+1);return!s.value&&(s=e.diagnostics.iter(0),!s.value||s.from==n.from&&s.to==n.to)?!1:(r.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintConfig=Facet.define({combine(r){return Object.assign({sources:r.map(e=>e.source).filter(e=>e!=null)},combineConfig(r.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?s=>e(s)||n(s):e:n}))}});function assignKeys(r){let e=[];if(r)e:for(let{name:n}of r){for(let s=0;s<n.length;s++){let o=n[s];if(/[a-zA-Z]/.test(o)&&!e.some(a=>a.toLowerCase()==o.toLowerCase())){e.push(o);continue e}}e.push("")}return e}function renderDiagnostic(r,e,n){var s;let o=n?assignKeys(e.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},crelt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(r):e.message),(s=e.actions)===null||s===void 0?void 0:s.map((a,u)=>{let f=!1,d=x=>{if(x.preventDefault(),f)return;f=!0;let b=findDiagnostic(r.state.field(lintState).diagnostics,e);b&&a.apply(r,b.from,b.to)},{name:g}=a,m=o[u]?g.indexOf(o[u]):-1,O=m<0?g:[g.slice(0,m),crelt("u",g.slice(m,m+1)),g.slice(m+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:d,onmousedown:d,"aria-label":` Action: ${g}${m<0?"":` (access key "${o[u]})"`}.`},O)}),e.source&&crelt("div",{class:"cm-diagnosticSource"},e.source))}class DiagnosticWidget extends WidgetType{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class PanelItem{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(e){this.view=e,this.items=[];let n=o=>{if(o.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(o.keyCode==38||o.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(o.keyCode==40||o.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(o.keyCode==36)this.moveSelection(0);else if(o.keyCode==35)this.moveSelection(this.items.length-1);else if(o.keyCode==13)this.view.focus();else if(o.keyCode>=65&&o.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:a}=this.items[this.selectedIndex],u=assignKeys(a.actions);for(let f=0;f<u.length;f++)if(u[f].toUpperCase().charCodeAt(0)==o.keyCode){let d=findDiagnostic(this.view.state.field(lintState).diagnostics,a);d&&a.actions[f].apply(e,d.from,d.to)}}else return;o.preventDefault()},s=o=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(o.target)&&this.moveSelection(a)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:s}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(lintState).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(lintState),s=0,o=!1,a=null,u=new Set;for(e.between(0,this.view.state.doc.length,(f,d,{spec:g})=>{for(let m of g.diagnostics){if(u.has(m))continue;u.add(m);let O=-1,x;for(let b=s;b<this.items.length;b++)if(this.items[b].diagnostic==m){O=b;break}O<0?(x=new PanelItem(this.view,m),this.items.splice(s,0,x),o=!0):(x=this.items[O],O>s&&(this.items.splice(s,O-s),o=!0)),n&&x.diagnostic==n.diagnostic?x.dom.hasAttribute("aria-selected")||(x.dom.setAttribute("aria-selected","true"),a=x):x.dom.hasAttribute("aria-selected")&&x.dom.removeAttribute("aria-selected"),s++}});s<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)o=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),o=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:f,panel:d})=>{let g=d.height/this.list.offsetHeight;f.top<d.top?this.list.scrollTop-=(d.top-f.top)/g:f.bottom>d.bottom&&(this.list.scrollTop+=(f.bottom-d.bottom)/g)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),o&&this.sync()}sync(){let e=this.list.firstChild;function n(){let s=e;e=s.nextSibling,s.remove()}for(let s of this.items)if(s.dom.parentNode==this.list){for(;e!=s.dom;)n();e=s.dom.nextSibling}else this.list.insertBefore(s.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(lintState),s=findDiagnostic(n.diagnostics,this.items[e].diagnostic);s&&this.view.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0,effects:movePanelSelection.of(s)})}static open(e){return new LintPanel(e)}}function svg(r,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(r)}</svg>')`}function underline(r){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${r}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-hint":{backgroundImage:underline("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function severityWeight(r){return r=="error"?4:r=="warning"?3:r=="info"?2:1}function maxSeverity(r){let e="hint",n=1;for(let s of r){let o=severityWeight(s.severity);o>n&&(n=o,e=s.severity)}return e}const lintExtensions=[lintState,EditorView.decorations.compute([lintState],r=>{let{selected:e,panel:n}=r.field(lintState);return!e||!n||e.from==e.to?Decoration.none:Decoration.set([activeMark.range(e.from,e.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme];var basicSetup=function r(e){e===void 0&&(e={});var{crosshairCursor:n=!1}=e,s=[];e.closeBracketsKeymap!==!1&&(s=s.concat(closeBracketsKeymap)),e.defaultKeymap!==!1&&(s=s.concat(defaultKeymap)),e.searchKeymap!==!1&&(s=s.concat(searchKeymap)),e.historyKeymap!==!1&&(s=s.concat(historyKeymap)),e.foldKeymap!==!1&&(s=s.concat(foldKeymap)),e.completionKeymap!==!1&&(s=s.concat(completionKeymap)),e.lintKeymap!==!1&&(s=s.concat(lintKeymap));var o=[];return e.lineNumbers!==!1&&o.push(lineNumbers()),e.highlightActiveLineGutter!==!1&&o.push(highlightActiveLineGutter()),e.highlightSpecialChars!==!1&&o.push(highlightSpecialChars()),e.history!==!1&&o.push(history()),e.foldGutter!==!1&&o.push(foldGutter()),e.drawSelection!==!1&&o.push(drawSelection()),e.dropCursor!==!1&&o.push(dropCursor()),e.allowMultipleSelections!==!1&&o.push(EditorState.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&o.push(indentOnInput()),e.syntaxHighlighting!==!1&&o.push(syntaxHighlighting(defaultHighlightStyle,{fallback:!0})),e.bracketMatching!==!1&&o.push(bracketMatching()),e.closeBrackets!==!1&&o.push(closeBrackets()),e.autocompletion!==!1&&o.push(autocompletion()),e.rectangularSelection!==!1&&o.push(rectangularSelection()),n!==!1&&o.push(crosshairCursor()),e.highlightActiveLine!==!1&&o.push(highlightActiveLine()),e.highlightSelectionMatches!==!1&&o.push(highlightSelectionMatches()),e.tabSize&&typeof e.tabSize=="number"&&o.push(indentUnit.of(" ".repeat(e.tabSize))),o.concat([keymap.of(s.flat())]).filter(Boolean)};const chalky="#e5c07b",coral="#e06c75",cyan="#56b6c2",invalid="#ffffff",ivory="#abb2bf",stone="#7d8799",malibu="#61afef",sage="#98c379",whiskey="#d19a66",violet="#c678dd",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection$1="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection$1},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),oneDarkHighlightStyle=HighlightStyle.define([{tag:tags.keyword,color:violet},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:coral},{tag:[tags.function(tags.variableName),tags.labelName],color:malibu},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:whiskey},{tag:[tags.definition(tags.name),tags.separator],color:ivory},{tag:[tags.typeName,tags.className,tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:chalky},{tag:[tags.operator,tags.operatorKeyword,tags.url,tags.escape,tags.regexp,tags.link,tags.special(tags.string)],color:cyan},{tag:[tags.meta,tags.comment],color:stone},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.link,color:stone,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:coral},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:whiskey},{tag:[tags.processingInstruction,tags.string,tags.inserted],color:sage},{tag:tags.invalid,color:invalid}]),oneDark=[oneDarkTheme,syntaxHighlighting(oneDarkHighlightStyle)];var defaultLightThemeOption=EditorView.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),getDefaultExtensions=function r(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:s=!0,readOnly:o=!1,theme:a="light",placeholder:u="",basicSetup:f=!0}=e,d=[];switch(n&&d.unshift(keymap.of([indentWithTab])),f&&(typeof f=="boolean"?d.unshift(basicSetup()):d.unshift(basicSetup(f))),u&&d.unshift(placeholder(u)),a){case"light":d.push(defaultLightThemeOption);break;case"dark":d.push(oneDark);break;case"none":break;default:d.push(a);break}return s===!1&&d.push(EditorView.editable.of(!1)),o&&d.push(EditorState.readOnly.of(!0)),[...d]},getStatistics=r=>({line:r.state.doc.lineAt(r.state.selection.main.from),lineCount:r.state.doc.lines,lineBreak:r.state.lineBreak,length:r.state.doc.length,readOnly:r.state.readOnly,tabSize:r.state.tabSize,selection:r.state.selection,selectionAsSingle:r.state.selection.asSingle().main,ranges:r.state.selection.ranges,selectionCode:r.state.sliceDoc(r.state.selection.main.from,r.state.selection.main.to),selections:r.state.selection.ranges.map(e=>r.state.sliceDoc(e.from,e.to)),selectedText:r.state.selection.ranges.some(e=>!e.empty)}),External=Annotation.define(),emptyExtensions=[];function useCodeMirror(r){var{value:e,selection:n,onChange:s,onStatistics:o,onCreateEditor:a,onUpdate:u,extensions:f=emptyExtensions,autoFocus:d,theme:g="light",height:m=null,minHeight:O=null,maxHeight:x=null,width:b=null,minWidth:w=null,maxWidth:E=null,placeholder:k="",editable:Q=!0,readOnly:A=!1,indentWithTab:M=!0,basicSetup:$=!0,root:_,initialState:j}=r,[Z,W]=reactExports.useState(),[B,H]=reactExports.useState(),[ee,I]=reactExports.useState(),J=EditorView.theme({"&":{height:m,minHeight:O,maxHeight:x,width:b,minWidth:w,maxWidth:E},"& .cm-scroller":{height:"100% !important"}}),D=EditorView.updateListener.of(V=>{if(V.docChanged&&typeof s=="function"&&!V.transactions.some(R=>R.annotation(External))){var L=V.state.doc,z=L.toString();s(z,V)}o&&o(getStatistics(V))}),q=getDefaultExtensions({theme:g,editable:Q,readOnly:A,placeholder:k,indentWithTab:M,basicSetup:$}),P=[D,J,...q];return u&&typeof u=="function"&&P.push(EditorView.updateListener.of(u)),P=P.concat(f),reactExports.useEffect(()=>{if(Z&&!ee){var V={doc:e,selection:n,extensions:P},L=j?EditorState.fromJSON(j.json,V,j.fields):EditorState.create(V);if(I(L),!B){var z=new EditorView({state:L,parent:Z,root:_});H(z),a&&a(z,L)}}return()=>{B&&(I(void 0),H(void 0))}},[Z,ee]),reactExports.useEffect(()=>W(r.container),[r.container]),reactExports.useEffect(()=>()=>{B&&(B.destroy(),H(void 0))},[B]),reactExports.useEffect(()=>{d&&B&&B.focus()},[d,B]),reactExports.useEffect(()=>{B&&B.dispatch({effects:StateEffect.reconfigure.of(P)})},[g,f,m,O,x,b,w,E,k,Q,A,M,$,s,u]),reactExports.useEffect(()=>{if(e!==void 0){var V=B?B.state.doc.toString():"";B&&e!==V&&B.dispatch({changes:{from:0,to:V.length,insert:e||""},annotations:[External.of(!0)]})}},[e,B]),{state:ee,setState:I,view:B,setView:H,container:Z,setContainer:W}}var _excluded=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],ReactCodeMirror=reactExports.forwardRef((r,e)=>{var{className:n,value:s="",selection:o,extensions:a=[],onChange:u,onStatistics:f,onCreateEditor:d,onUpdate:g,autoFocus:m,theme:O="light",height:x,minHeight:b,maxHeight:w,width:E,minWidth:k,maxWidth:Q,basicSetup:A,placeholder:M,indentWithTab:$,editable:_,readOnly:j,root:Z,initialState:W}=r,B=_objectWithoutPropertiesLoose(r,_excluded),H=reactExports.useRef(null),{state:ee,view:I,container:J}=useCodeMirror({container:H.current,root:Z,value:s,autoFocus:m,theme:O,height:x,minHeight:b,maxHeight:w,width:E,minWidth:k,maxWidth:Q,basicSetup:A,placeholder:M,indentWithTab:$,editable:_,readOnly:j,selection:o,onChange:u,onStatistics:f,onCreateEditor:d,onUpdate:g,extensions:a,initialState:W});if(reactExports.useImperativeHandle(e,()=>({editor:H.current,state:ee,view:I}),[H,J,ee,I]),typeof s!="string")throw new Error("value must be typeof string but got "+typeof s);var D=typeof O=="string"?"cm-theme-"+O:"cm-theme";return jsxRuntimeExports.jsx("div",_extends({ref:H,className:""+D+(n?" "+n:"")},B))});ReactCodeMirror.displayName="CodeMirror";var define_process_env_default={};class Stack{constructor(e,n,s,o,a,u,f,d,g,m=0,O){this.p=e,this.stack=n,this.state=s,this.reducePos=o,this.pos=a,this.score=u,this.buffer=f,this.bufferBase=d,this.curContext=g,this.lookAhead=m,this.parent=O}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,s=0){let o=e.parser.context;return new Stack(e,[],n,s,s,0,[],0,o?new StackContext(o,o.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let s=e>>19,o=e&65535,{parser:a}=this.p,u=this.reducePos<this.pos-25;u&&this.setLookAhead(this.pos);let f=a.dynamicPrecedence(o);if(f&&(this.score+=f),s==0){this.pushState(a.getGoto(this.state,o,!0),this.reducePos),o<a.minRepeatTerm&&this.storeNode(o,this.reducePos,this.reducePos,u?8:4,!0),this.reduceContext(o,this.reducePos);return}let d=this.stack.length-(s-1)*3-(e&262144?6:0),g=d?this.stack[d-2]:this.p.ranges[0].from,m=this.reducePos-g;m>=2e3&&!(!((n=this.p.parser.nodeSet.types[o])===null||n===void 0)&&n.isAnonymous)&&(g==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=m):this.p.lastBigReductionSize<m&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=g,this.p.lastBigReductionSize=m));let O=d?this.stack[d-1]:0,x=this.bufferBase+this.buffer.length-O;if(o<a.minRepeatTerm||e&131072){let b=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(o,g,b,x+4,!0)}if(e&262144)this.state=this.stack[d];else{let b=this.stack[d-3];this.state=a.getGoto(b,o,!0)}for(;this.stack.length>d;)this.stack.pop();this.reduceContext(o,g)}storeNode(e,n,s,o=4,a=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let u=this,f=this.buffer.length;if(f==0&&u.parent&&(f=u.bufferBase-u.parent.bufferBase,u=u.parent),f>0&&u.buffer[f-4]==0&&u.buffer[f-1]>-1){if(n==s)return;if(u.buffer[f-2]>=n){u.buffer[f-2]=s;return}}}if(!a||this.pos==s)this.buffer.push(e,n,s,o);else{let u=this.buffer.length;if(u>0&&this.buffer[u-4]!=0){let f=!1;for(let d=u;d>0&&this.buffer[d-2]>s;d-=4)if(this.buffer[d-1]>=0){f=!0;break}if(f)for(;u>0&&this.buffer[u-2]>s;)this.buffer[u]=this.buffer[u-4],this.buffer[u+1]=this.buffer[u-3],this.buffer[u+2]=this.buffer[u-2],this.buffer[u+3]=this.buffer[u-1],u-=4,o>4&&(o-=4)}this.buffer[u]=e,this.buffer[u+1]=n,this.buffer[u+2]=s,this.buffer[u+3]=o}}shift(e,n,s,o){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=o,this.shiftContext(n,s),n<=this.p.parser.maxNode&&this.buffer.push(n,s,o,4);else{let a=e,{parser:u}=this.p;(o>this.pos||n<=u.maxNode)&&(this.pos=o,u.stateFlag(a,1)||(this.reducePos=o)),this.pushState(a,s),this.shiftContext(n,s),n<=u.maxNode&&this.buffer.push(n,s,o,4)}}apply(e,n,s,o){e&65536?this.reduce(e):this.shift(e,n,s,o)}useNode(e,n){let s=this.p.reused.length-1;(s<0||this.p.reused[s]!=e)&&(this.p.reused.push(e),s++);let o=this.pos;this.reducePos=this.pos=o+e.length,this.pushState(n,o),this.buffer.push(s,o,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let s=e.buffer.slice(n),o=e.bufferBase+n;for(;e&&o==e.bufferBase;)e=e.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,s,o,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let s=e<=this.p.parser.maxNode;s&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,s?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new SimulatedStack(this);;){let s=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(s==0)return!1;if(!(s&65536))return!0;n.reduce(s)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let o=[];for(let a=0,u;a<n.length;a+=2)(u=n[a+1])!=this.state&&this.p.parser.hasAction(u,e)&&o.push(n[a],u);if(this.stack.length<120)for(let a=0;o.length<8&&a<n.length;a+=2){let u=n[a+1];o.some((f,d)=>d&1&&f==u)||o.push(n[a],u)}n=o}let s=[];for(let o=0;o<n.length&&s.length<4;o+=2){let a=n[o+1];if(a==this.state)continue;let u=this.split();u.pushState(a,this.pos),u.storeNode(0,u.pos,u.pos,4,!0),u.shiftContext(n[o],this.pos),u.reducePos=this.pos,u.score-=200,s.push(u)}return s}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let s=n>>19,o=n&65535,a=this.stack.length-s*3;if(a<0||e.getGoto(this.stack[a],o,!1)<0){let u=this.findForcedReduction();if(u==null)return!1;n=u}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],s=(o,a)=>{if(!n.includes(o))return n.push(o),e.allActions(o,u=>{if(!(u&393216))if(u&65536){let f=(u>>19)-a;if(f>1){let d=u&65535,g=this.stack.length-f*3;if(g>=0&&e.getGoto(this.stack[g],d,!1)>=0)return f<<19|65536|d}}else{let f=s(u,a+1);if(f!=null)return f}})};return s(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new StackContext(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class SimulatedStack{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,s=e>>19;s==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(s-1)*3;let o=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=o}}class StackBufferCursor{constructor(e,n,s){this.stack=e,this.pos=n,this.index=s,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new StackBufferCursor(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(r,e=Uint16Array){if(typeof r!="string")return r;let n=null;for(let s=0,o=0;s<r.length;){let a=0;for(;;){let u=r.charCodeAt(s++),f=!1;if(u==126){a=65535;break}u>=92&&u--,u>=34&&u--;let d=u-32;if(d>=46&&(d-=46,f=!0),a+=d,f)break;a*=46}n?n[o++]=a:n=new e(a)}return n}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let s=this.range,o=this.rangeIndex,a=this.pos+e;for(;a<s.from;){if(!o)return null;let u=this.ranges[--o];a-=s.from-u.to,s=u}for(;n<0?a>s.to:a>=s.to;){if(o==this.ranges.length-1)return null;let u=this.ranges[++o];a+=u.from-s.to,s=u}return a}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,s,o;if(n>=0&&n<this.chunk.length)s=this.pos+e,o=this.chunk.charCodeAt(n);else{let a=this.resolveOffset(e,1);if(a==null)return-1;if(s=a,s>=this.chunk2Pos&&s<this.chunk2Pos+this.chunk2.length)o=this.chunk2.charCodeAt(s-this.chunk2Pos);else{let u=this.rangeIndex,f=this.range;for(;f.to<=s;)f=this.ranges[++u];this.chunk2=this.input.chunk(this.chunk2Pos=s),s+this.chunk2.length>f.to&&(this.chunk2=this.chunk2.slice(0,f.to-s)),o=this.chunk2.charCodeAt(0)}}return s>=this.token.lookAhead&&(this.token.lookAhead=s+1),o}acceptToken(e,n=0){let s=n?this.resolveOffset(n,-1):this.pos;if(s==null||s<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=s}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=nullToken,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let s="";for(let o of this.ranges){if(o.from>=n)break;o.to>e&&(s+=this.input.read(Math.max(o.from,e),Math.min(o.to,n)))}return s}}class TokenGroup{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:s}=n.p;readToken(this.data,e,n,this.id,s.data,s.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class LocalTokenGroup{constructor(e,n,s){this.precTable=n,this.elseToken=s,this.data=typeof e=="string"?decodeArray(e):e}token(e,n){let s=e.pos,o=0;for(;;){let a=e.next<0,u=e.resolveOffset(1,1);if(readToken(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(a||o++,u==null)break;e.reset(u,e.token)}o&&(e.reset(s,e.token),e.acceptToken(this.elseToken,o))}}LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function readToken(r,e,n,s,o,a){let u=0,f=1<<s,{dialect:d}=n.p.parser;e:for(;f&r[u];){let g=r[u+1];for(let b=u+3;b<g;b+=2)if((r[b+1]&f)>0){let w=r[b];if(d.allows(w)&&(e.token.value==-1||e.token.value==w||overrides(w,e.token.value,o,a))){e.acceptToken(w);break}}let m=e.next,O=0,x=r[u+2];if(e.next<0&&x>O&&r[g+x*3-3]==65535){u=r[g+x*3-1];continue e}for(;O<x;){let b=O+x>>1,w=g+b+(b<<1),E=r[w],k=r[w+1]||65536;if(m<E)x=b;else if(m>=k)O=b+1;else{u=r[w+2],e.advance();continue e}}break}}function findOffset(r,e,n){for(let s=e,o;(o=r[s])!=65535;s++)if(o==n)return s-e;return-1}function overrides(r,e,n,s){let o=findOffset(n,s,e);return o<0||findOffset(n,s,r)<o}const verbose=typeof process<"u"&&define_process_env_default&&/\bparse\b/.test(define_process_env_default.LOG);let stackIDs=null;function cutAt(r,e,n){let s=r.cursor(IterMode.IncludeAnonymous);for(s.moveTo(e);;)if(!(n<0?s.childBefore(e):s.childAfter(e)))for(;;){if((n<0?s.to<e:s.from>e)&&!s.type.isError)return n<0?Math.max(0,Math.min(s.to-1,e-25)):Math.min(r.length,Math.max(s.from+1,e+25));if(n<0?s.prevSibling():s.nextSibling())break;if(!s.parent())return n<0?0:r.length}}class FragmentCursor{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?cutAt(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?cutAt(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let s=this.trees[n],o=this.index[n];if(o==s.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=s.children[o],u=this.start[n]+s.positions[o];if(u>e)return this.nextStart=u,null;if(a instanceof Tree){if(u==e){if(u<this.safeFrom)return null;let f=u+a.length;if(f<=this.safeTo){let d=a.prop(NodeProp.lookAhead);if(!d||f+d<this.fragment.to)return a}}this.index[n]++,u+a.length>=Math.max(this.safeFrom,e)&&(this.trees.push(a),this.start.push(u),this.index.push(0))}else this.index[n]++,this.nextStart=u+a.length}}}class TokenCache{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(s=>new CachedToken)}getActions(e){let n=0,s=null,{parser:o}=e.p,{tokenizers:a}=o,u=o.stateSlot(e.state,3),f=e.curContext?e.curContext.hash:0,d=0;for(let g=0;g<a.length;g++){if(!(1<<g&u))continue;let m=a[g],O=this.tokens[g];if(!(s&&!m.fallback)&&((m.contextual||O.start!=e.pos||O.mask!=u||O.context!=f)&&(this.updateCachedToken(O,m,e),O.mask=u,O.context=f),O.lookAhead>O.end+25&&(d=Math.max(O.lookAhead,d)),O.value!=0)){let x=n;if(O.extended>-1&&(n=this.addActions(e,O.extended,O.end,n)),n=this.addActions(e,O.value,O.end,n),!m.extend&&(s=O,n>x))break}}for(;this.actions.length>n;)this.actions.pop();return d&&e.setLookAhead(d),!s&&e.pos==this.stream.end&&(s=new CachedToken,s.value=e.p.parser.eofTerm,s.start=s.end=e.pos,n=this.addActions(e,s.value,s.end,n)),this.mainToken=s,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new CachedToken,{pos:s,p:o}=e;return n.start=s,n.end=Math.min(s+1,o.stream.end),n.value=s==o.stream.end?o.parser.eofTerm:0,n}updateCachedToken(e,n,s){let o=this.stream.clipPos(s.pos);if(n.token(this.stream.reset(o,e),s),e.value>-1){let{parser:a}=s.p;for(let u=0;u<a.specialized.length;u++)if(a.specialized[u]==e.value){let f=a.specializers[u](this.stream.read(e.start,e.end),s);if(f>=0&&s.p.parser.dialect.allows(f>>1)){f&1?e.extended=f>>1:e.value=f>>1;break}}}else e.value=0,e.end=this.stream.clipPos(o+1)}putAction(e,n,s,o){for(let a=0;a<o;a+=3)if(this.actions[a]==e)return o;return this.actions[o++]=e,this.actions[o++]=n,this.actions[o++]=s,o}addActions(e,n,s,o){let{state:a}=e,{parser:u}=e.p,{data:f}=u;for(let d=0;d<2;d++)for(let g=u.stateSlot(a,d?2:1);;g+=3){if(f[g]==65535)if(f[g+1]==1)g=pair(f,g+2);else{o==0&&f[g+1]==2&&(o=this.putAction(pair(f,g+2),n,s,o));break}f[g]==n&&(o=this.putAction(pair(f,g+1),n,s,o))}return o}}class Parse{constructor(e,n,s,o){this.parser=e,this.input=n,this.ranges=o,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(n,o),this.tokens=new TokenCache(e,this.stream),this.topTerm=e.top[1];let{from:a}=o[0];this.stacks=[Stack.start(this,e.top[0],a)],this.fragments=s.length&&this.stream.end-a>e.bufferLength*4?new FragmentCursor(s,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,s=this.stacks=[],o,a;if(this.bigReductionCount>300&&e.length==1){let[u]=e;for(;u.forceReduce()&&u.stack.length&&u.stack[u.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let u=0;u<e.length;u++){let f=e[u];for(;;){if(this.tokens.mainToken=null,f.pos>n)s.push(f);else{if(this.advanceStack(f,s,e))continue;{o||(o=[],a=[]),o.push(f);let d=this.tokens.getMainToken(f);a.push(d.value,d.end)}}break}}if(!s.length){let u=o&&findFinished(o);if(u)return verbose&&console.log("Finish with "+this.stackID(u)),this.stackToTree(u);if(this.parser.strict)throw verbose&&o&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&o){let u=this.stoppedAt!=null&&o[0].pos>this.stoppedAt?o[0]:this.runRecovery(o,a,s);if(u)return verbose&&console.log("Force-finish "+this.stackID(u)),this.stackToTree(u.forceAll())}if(this.recovering){let u=this.recovering==1?1:this.recovering*3;if(s.length>u)for(s.sort((f,d)=>d.score-f.score);s.length>u;)s.pop();s.some(f=>f.reducePos>n)&&this.recovering--}else if(s.length>1){e:for(let u=0;u<s.length-1;u++){let f=s[u];for(let d=u+1;d<s.length;d++){let g=s[d];if(f.sameState(g)||f.buffer.length>500&&g.buffer.length>500)if((f.score-g.score||f.buffer.length-g.buffer.length)>0)s.splice(d--,1);else{s.splice(u--,1);continue e}}}s.length>12&&s.splice(12,s.length-12)}this.minStackPos=s[0].pos;for(let u=1;u<s.length;u++)s[u].pos<this.minStackPos&&(this.minStackPos=s[u].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,s){let o=e.pos,{parser:a}=this,u=verbose?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&o>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let g=e.curContext&&e.curContext.tracker.strict,m=g?e.curContext.hash:0;for(let O=this.fragments.nodeAt(o);O;){let x=this.parser.nodeSet.types[O.type.id]==O.type?a.getGoto(e.state,O.type.id):-1;if(x>-1&&O.length&&(!g||(O.prop(NodeProp.contextHash)||0)==m))return e.useNode(O,x),verbose&&console.log(u+this.stackID(e)+` (via reuse of ${a.getName(O.type.id)})`),!0;if(!(O instanceof Tree)||O.children.length==0||O.positions[0]>0)break;let b=O.children[0];if(b instanceof Tree&&O.positions[0]==0)O=b;else break}}let f=a.stateSlot(e.state,4);if(f>0)return e.reduce(f),verbose&&console.log(u+this.stackID(e)+` (via always-reduce ${a.getName(f&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let d=this.tokens.getActions(e);for(let g=0;g<d.length;){let m=d[g++],O=d[g++],x=d[g++],b=g==d.length||!s,w=b?e:e.split(),E=this.tokens.mainToken;if(w.apply(m,O,E?E.start:w.pos,x),verbose&&console.log(u+this.stackID(w)+` (via ${m&65536?`reduce of ${a.getName(m&65535)}`:"shift"} for ${a.getName(O)} @ ${o}${w==e?"":", split"})`),b)return!0;w.pos>o?n.push(w):s.push(w)}return!1}advanceFully(e,n){let s=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>s)return pushStackDedup(e,n),!0}}runRecovery(e,n,s){let o=null,a=!1;for(let u=0;u<e.length;u++){let f=e[u],d=n[u<<1],g=n[(u<<1)+1],m=verbose?this.stackID(f)+" -> ":"";if(f.deadEnd&&(a||(a=!0,f.restart(),verbose&&console.log(m+this.stackID(f)+" (restarted)"),this.advanceFully(f,s))))continue;let O=f.split(),x=m;for(let b=0;O.forceReduce()&&b<10&&(verbose&&console.log(x+this.stackID(O)+" (via force-reduce)"),!this.advanceFully(O,s));b++)verbose&&(x=this.stackID(O)+" -> ");for(let b of f.recoverByInsert(d))verbose&&console.log(m+this.stackID(b)+" (via recover-insert)"),this.advanceFully(b,s);this.stream.end>f.pos?(g==f.pos&&(g++,d=0),f.recoverByDelete(d,g),verbose&&console.log(m+this.stackID(f)+` (via recover-delete ${this.parser.getName(d)})`),pushStackDedup(f,s)):(!o||o.score<f.score)&&(o=f)}return o}stackToTree(e){return e.close(),Tree.build({buffer:StackBufferCursor.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(stackIDs||(stackIDs=new WeakMap)).get(e);return n||stackIDs.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function pushStackDedup(r,e){for(let n=0;n<e.length;n++){let s=e[n];if(s.pos==r.pos&&s.sameState(r)){e[n].score<r.score&&(e[n]=r);return}}e.push(r)}class Dialect{constructor(e,n,s){this.source=e,this.flags=n,this.disabled=s}allows(e){return!this.disabled||this.disabled[e]==0}}const id$1=r=>r;class ContextTracker{constructor(e){this.start=e.start,this.shift=e.shift||id$1,this.reduce=e.reduce||id$1,this.reuse=e.reuse||id$1,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class LRParser extends Parser{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let f=0;f<e.repeatNodeCount;f++)n.push("");let s=Object.keys(e.topRules).map(f=>e.topRules[f][1]),o=[];for(let f=0;f<n.length;f++)o.push([]);function a(f,d,g){o[f].push([d,d.deserialize(String(g))])}if(e.nodeProps)for(let f of e.nodeProps){let d=f[0];typeof d=="string"&&(d=NodeProp[d]);for(let g=1;g<f.length;){let m=f[g++];if(m>=0)a(m,d,f[g++]);else{let O=f[g+-m];for(let x=-m;x>0;x--)a(f[g++],d,O);g++}}}this.nodeSet=new NodeSet(n.map((f,d)=>NodeType.define({name:d>=this.minRepeatTerm?void 0:f,id:d,props:o[d],top:s.indexOf(d)>-1,error:d==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(d)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let u=decodeArray(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let f=0;f<this.specializerSpecs.length;f++)this.specialized[f]=this.specializerSpecs[f].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(e.states,Uint32Array),this.data=decodeArray(e.stateData),this.goto=decodeArray(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(f=>typeof f=="number"?new TokenGroup(u,f):f),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,s){let o=new Parse(this,e,n,s);for(let a of this.wrappers)o=a(o,e,n,s);return o}getGoto(e,n,s=!1){let o=this.goto;if(n>=o[0])return-1;for(let a=o[n+1];;){let u=o[a++],f=u&1,d=o[a++];if(f&&s)return d;for(let g=a+(u>>1);a<g;a++)if(o[a]==e)return d;if(f)return-1}}hasAction(e,n){let s=this.data;for(let o=0;o<2;o++)for(let a=this.stateSlot(e,o?2:1),u;;a+=3){if((u=s[a])==65535)if(s[a+1]==1)u=s[a=pair(s,a+2)];else{if(s[a+1]==2)return pair(s,a+2);break}if(u==n||u==0)return pair(s,a+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,s=>s==n?!0:null)}allActions(e,n){let s=this.stateSlot(e,4),o=s?n(s):void 0;for(let a=this.stateSlot(e,1);o==null;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=pair(this.data,a+2);else break;o=n(pair(this.data,a+1))}return o}nextStates(e){let n=[];for(let s=this.stateSlot(e,1);;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=pair(this.data,s+2);else break;if(!(this.data[s+2]&1)){let o=this.data[s+1];n.some((a,u)=>u&1&&a==o)||n.push(this.data[s],o)}}return n}configure(e){let n=Object.assign(Object.create(LRParser.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let s=this.topRules[e.top];if(!s)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=s}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(s=>{let o=e.tokenizers.find(a=>a.from==s);return o?o.to:s})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((s,o)=>{let a=e.specializers.find(f=>f.from==s.external);if(!a)return s;let u=Object.assign(Object.assign({},s),{external:a.to});return n.specializers[o]=getSpecializer(u),u})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),s=n.map(()=>!1);if(e)for(let a of e.split(" ")){let u=n.indexOf(a);u>=0&&(s[u]=!0)}let o=null;for(let a=0;a<n.length;a++)if(!s[a])for(let u=this.dialects[n[a]],f;(f=this.data[u++])!=65535;)(o||(o=new Uint8Array(this.maxTerm+1)))[f]=1;return new Dialect(e,s,o)}static deserialize(e){return new LRParser(e)}}function pair(r,e){return r[e]|r[e+1]<<16}function findFinished(r){let e=null;for(let n of r){let s=n.p.stoppedAt;(n.pos==n.p.stream.end||s!=null&&n.pos>s)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function getSpecializer(r){if(r.external){let e=r.extend?1:0;return(n,s)=>r.external(n,s)<<1|e}return r.get}const noSemi=314,noSemiType=315,incdec=1,incdecPrefix=2,questionDot=3,JSXStartTag=4,insertSemi=316,spaces=318,newline=319,LineComment=5,BlockComment=6,Dialect_jsx=0,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,semicolon=59,slash=47,star=42,plus=43,minus=45,lt=60,comma=44,question=63,dot=46,bracketL=91,trackNewline=new ContextTracker({start:!1,shift(r,e){return e==LineComment||e==BlockComment||e==spaces?r:e==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((r,e)=>{let{next:n}=r;(n==braceR||n==-1||e.context)&&r.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((r,e)=>{let{next:n}=r,s;space.indexOf(n)>-1||n==slash&&((s=r.peek(1))==slash||s==star)||n!=braceR&&n!=semicolon&&n!=-1&&!e.context&&r.acceptToken(noSemi)},{contextual:!0}),noSemicolonType=new ExternalTokenizer((r,e)=>{r.next==bracketL&&!e.context&&r.acceptToken(noSemiType)},{contextual:!0}),operatorToken=new ExternalTokenizer((r,e)=>{let{next:n}=r;if(n==plus||n==minus){if(r.advance(),n==r.next){r.advance();let s=!e.context&&e.canShift(incdec);r.acceptToken(s?incdec:incdecPrefix)}}else n==question&&r.peek(1)==dot&&(r.advance(),r.advance(),(r.next<48||r.next>57)&&r.acceptToken(questionDot))},{contextual:!0});function identifierChar(r,e){return r>=65&&r<=90||r>=97&&r<=122||r==95||r>=192||!e&&r>=48&&r<=57}const jsx=new ExternalTokenizer((r,e)=>{if(r.next!=lt||!e.dialectEnabled(Dialect_jsx)||(r.advance(),r.next==slash))return;let n=0;for(;space.indexOf(r.next)>-1;)r.advance(),n++;if(identifierChar(r.next,!0)){for(r.advance(),n++;identifierChar(r.next,!1);)r.advance(),n++;for(;space.indexOf(r.next)>-1;)r.advance(),n++;if(r.next==comma)return;for(let s=0;;s++){if(s==7){if(!identifierChar(r.next,!0))return;break}if(r.next!="extends".charCodeAt(s))break;r.advance(),n++}}r.acceptToken(JSXStartTag,-n)}),jsHighlight=styleTags({"get set async static":tags.modifier,"for while do if else switch try catch finally return throw break continue default case":tags.controlKeyword,"in of await yield void typeof delete instanceof":tags.operatorKeyword,"let var const using function class extends":tags.definitionKeyword,"import export from":tags.moduleKeyword,"with debugger as new":tags.keyword,TemplateString:tags.special(tags.string),super:tags.atom,BooleanLiteral:tags.bool,this:tags.self,null:tags.null,Star:tags.modifier,VariableName:tags.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags.function(tags.variableName),VariableDefinition:tags.definition(tags.variableName),Label:tags.labelName,PropertyName:tags.propertyName,PrivatePropertyName:tags.special(tags.propertyName),"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),"FunctionDeclaration/VariableDefinition":tags.function(tags.definition(tags.variableName)),"ClassDeclaration/VariableDefinition":tags.definition(tags.className),"NewExpression/VariableName":tags.className,PropertyDefinition:tags.definition(tags.propertyName),PrivatePropertyDefinition:tags.definition(tags.special(tags.propertyName)),UpdateOp:tags.updateOperator,"LineComment Hashbang":tags.lineComment,BlockComment:tags.blockComment,Number:tags.number,String:tags.string,Escape:tags.escape,ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,RegExp:tags.regexp,Equals:tags.definitionOperator,Arrow:tags.function(tags.punctuation),": Spread":tags.punctuation,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,"InterpolationStart InterpolationEnd":tags.special(tags.brace),".":tags.derefOperator,", ;":tags.separator,"@":tags.meta,TypeName:tags.typeName,TypeDefinition:tags.definition(tags.typeName),"type enum interface implements namespace module declare":tags.definitionKeyword,"abstract global Privacy readonly override":tags.modifier,"is keyof unique infer asserts":tags.operatorKeyword,JSXAttributeValue:tags.attributeValue,JSXText:tags.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags.angleBracket,"JSXIdentifier JSXNameSpacedName":tags.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags.attributeName,"JSXBuiltin/JSXIdentifier":tags.standard(tags.tagName)}),spec_identifier={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,const:52,extends:56,this:60,true:68,false:68,null:80,void:84,typeof:88,super:104,new:138,delete:150,yield:159,await:163,class:168,public:231,private:231,protected:231,readonly:233,instanceof:252,satisfies:255,in:256,import:290,keyof:347,unique:351,infer:357,asserts:393,is:395,abstract:415,implements:417,type:419,let:422,var:424,using:427,interface:433,enum:437,namespace:443,module:445,declare:449,global:453,for:472,of:481,while:484,with:488,do:492,if:496,else:498,switch:502,case:508,try:514,catch:518,finally:522,return:526,throw:530,break:534,continue:538,debugger:542},spec_word={__proto__:null,async:125,get:127,set:129,declare:191,public:193,private:193,protected:193,static:195,abstract:197,override:199,readonly:205,accessor:207,new:399},spec_LessThan={__proto__:null,"<":189},parser=LRParser.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#D_O.QQlO'#DeO.bQlO'#DpO%[QlO'#DxO0fQlO'#EQOOQ!0Lf'#EY'#EYO1PQ`O'#EVOOQO'#En'#EnOOQO'#Ij'#IjO1XQ`O'#GrO1dQ`O'#EmO1iQ`O'#EmO3hQ!0MxO'#JpO6[Q!0MxO'#JqO6uQ`O'#F[O6zQ,UO'#FsOOQ!0Lf'#Fe'#FeO7VO7dO'#FeO7eQMhO'#F{O9UQ`O'#FzOOQ!0Lf'#Jq'#JqOOQ!0Lb'#Jp'#JpO9ZQ`O'#GvOOQ['#K]'#K]O9fQ`O'#IWO9kQ!0LrO'#IXOOQ['#J^'#J^OOQ['#I]'#I]Q`QlOOQ`QlOOO9sQ!L^O'#DtO9zQlO'#D|O:RQlO'#EOO9aQ`O'#GrO:YQMhO'#CoO:hQ`O'#ElO:sQ`O'#EwO:xQMhO'#FdO;gQ`O'#GrOOQO'#K^'#K^O;lQ`O'#K^O;zQ`O'#GzO;zQ`O'#G{O;zQ`O'#G}O9aQ`O'#HQO<qQ`O'#HTO>YQ`O'#CeO>jQ`O'#HaO>rQ`O'#HgO>rQ`O'#HiO`QlO'#HkO>rQ`O'#HmO>rQ`O'#HpO>wQ`O'#HvO>|Q!0LsO'#H|O%[QlO'#IOO?XQ!0LsO'#IQO?dQ!0LsO'#ISO9kQ!0LrO'#IUO?oQ!0MxO'#CiO@qQpO'#DjQOQ`OOO%[QlO'#EOOAXQ`O'#ERO:YQMhO'#ElOAdQ`O'#ElOAoQ!bO'#FdOOQ['#Cg'#CgOOQ!0Lb'#Do'#DoOOQ!0Lb'#Jt'#JtO%[QlO'#JtOOQO'#Jw'#JwOOQO'#If'#IfOBoQpO'#EeOOQ!0Lb'#Ed'#EdOOQ!0Lb'#J{'#J{OCkQ!0MSO'#EeOCuQpO'#EUOOQO'#Jv'#JvODZQpO'#JwOEhQpO'#EUOCuQpO'#EePEuO&2DjO'#CbPOOO)CD{)CD{OOOO'#I^'#I^OFQO#tO,59UOOQ!0Lh,59U,59UOOOO'#I_'#I_OF`O&jO,59UOFnQ!L^O'#DaOOOO'#Ia'#IaOFuO#@ItO,59yOOQ!0Lf,59y,59yOGTQlO'#IbOGhQ`O'#JrOIgQ!fO'#JrO+}QlO'#JrOInQ`O,5:POJUQ`O'#EnOJcQ`O'#KROJnQ`O'#KQOJnQ`O'#KQOJvQ`O,5;[OJ{Q`O'#KPOOQ!0Ln,5:[,5:[OKSQlO,5:[OMQQ!0MxO,5:dOMqQ`O,5:lON[Q!0LrO'#KOONcQ`O'#J}O9ZQ`O'#J}ONwQ`O'#J}O! PQ`O,5;ZO! UQ`O'#J}O!#ZQ!fO'#JqOOQ!0Lh'#Ci'#CiO%[QlO'#EQO!#yQ!fO,5:qOOQS'#Jx'#JxOOQO-E<h-E<hO9aQ`O,5=^O!$aQ`O,5=^O!$fQlO,5;XO!&iQMhO'#EiO!(SQ`O,5;XO!(XQlO'#DwO!(cQpO,5;bO!(kQpO,5;bO%[QlO,5;bOOQ['#FS'#FSOOQ['#FU'#FUO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cO%[QlO,5;cOOQ['#FY'#FYO!(yQlO,5;sOOQ!0Lf,5;x,5;xOOQ!0Lf,5;y,5;yOOQ!0Lf,5;{,5;{O%[QlO'#InO!*|Q!0LrO,5<hO%[QlO,5;cO!&iQMhO,5;cO!+kQMhO,5;cO!-]QMhO'#E[O%[QlO,5;vOOQ!0Lf,5;z,5;zO!-dQ,UO'#FiO!.aQ,UO'#KVO!-{Q,UO'#KVO!.hQ,UO'#KVOOQO'#KV'#KVO!.|Q,UO,5<ROOOW,5<_,5<_O!/_QlO'#FuOOOW'#Im'#ImO7VO7dO,5<PO!/fQ,UO'#FwOOQ!0Lf,5<P,5<PO!0VQ$IUO'#CwOOQ!0Lh'#C{'#C{O!0jO#@ItO'#DPO!1WQMjO,5<dO!1_Q`O,5<gO!2zQ(CWO'#GWO!3XQ`O'#GXO!3^Q`O'#GXO!4|Q(CWO'#G]O!6RQpO'#GaOOQO'#Gm'#GmO!+rQMhO'#GlOOQO'#Go'#GoO!+rQMhO'#GnO!6tQ$IUO'#JjOOQ!0Lh'#Jj'#JjO!7OQ`O'#JiO!7^Q`O'#JhO!7fQ`O'#CuOOQ!0Lh'#Cy'#CyO!7qQ`O'#C{OOQ!0Lh'#DT'#DTOOQ!0Lh'#DV'#DVO1SQ`O'#DXO!+rQMhO'#GOO!+rQMhO'#GQO!7vQ`O'#GSO!7{Q`O'#GTO!3^Q`O'#GZO!+rQMhO'#G`O;zQ`O'#JiO!8QQ`O'#EoO!8oQ`O,5<fOOQ!0Lb'#Cr'#CrO!8wQ`O'#EpO!9qQpO'#EqOOQ!0Lb'#KP'#KPO!9xQ!0LrO'#K_O9kQ!0LrO,5=bO`QlO,5>rOOQ['#Jf'#JfOOQ[,5>s,5>sOOQ[-E<Z-E<ZO!;wQ!0MxO,5:`O!9lQpO,5:^O!>bQ!0MxO,5:hO%[QlO,5:hO!@xQ!0MxO,5:jOOQO,5@x,5@xO!AiQMhO,5=^O!AwQ!0LrO'#JgO9UQ`O'#JgO!BYQ!0LrO,59ZO!BeQpO,59ZO!BmQMhO,59ZO:YQMhO,59ZO!BxQ`O,5;XO!CQQ`O'#H`O!CfQ`O'#KbO%[QlO,5;|O!9lQpO,5<OO!CnQ`O,5=yO!CsQ`O,5=yO!CxQ`O,5=yO9kQ!0LrO,5=yO;zQ`O,5=iOOQO'#Cw'#CwO!DWQpO,5=fO!D`QMhO,5=gO!DkQ`O,5=iO!DpQ!bO,5=lO!DxQ`O'#K^O>wQ`O'#HVO9aQ`O'#HXO!D}Q`O'#HXO:YQMhO'#HZO!ESQ`O'#HZOOQ[,5=o,5=oO!EXQ`O'#H[O!EjQ`O'#CoO!EoQ`O,59PO!EyQ`O,59PO!HOQlO,59POOQ[,59P,59PO!H`Q!0LrO,59PO%[QlO,59PO!JkQlO'#HcOOQ['#Hd'#HdOOQ['#He'#HeO`QlO,5={O!KRQ`O,5={O`QlO,5>RO`QlO,5>TO!KWQ`O,5>VO`QlO,5>XO!K]Q`O,5>[O!KbQlO,5>bOOQ[,5>h,5>hO%[QlO,5>hO9kQ!0LrO,5>jOOQ[,5>l,5>lO# lQ`O,5>lOOQ[,5>n,5>nO# lQ`O,5>nOOQ[,5>p,5>pO#!YQpO'#D]O%[QlO'#JtO#!{QpO'#JtO##VQpO'#DkO##hQpO'#DkO#%yQlO'#DkO#&QQ`O'#JsO#&YQ`O,5:UO#&_Q`O'#ErO#&mQ`O'#KSO#&uQ`O,5;]O#&zQpO'#DkO#'XQpO'#ETOOQ!0Lf,5:m,5:mO%[QlO,5:mO#'`Q`O,5:mO>wQ`O,5;WO!BeQpO,5;WO!BmQMhO,5;WO:YQMhO,5;WO#'hQ`O,5@`O#'mQ07dO,5:qOOQO-E<d-E<dO#(sQ!0MSO,5;POCuQpO,5:pO#(}QpO,5:pOCuQpO,5;PO!BYQ!0LrO,5:pOOQ!0Lb'#Eh'#EhOOQO,5;P,5;PO%[QlO,5;PO#)[Q!0LrO,5;PO#)gQ!0LrO,5;PO!BeQpO,5:pOOQO,5;V,5;VO#)uQ!0LrO,5;PPOOO'#I['#I[P#*ZO&2DjO,58|POOO,58|,58|OOOO-E<[-E<[OOQ!0Lh1G.p1G.pOOOO-E<]-E<]OOOO,59{,59{O#*fQ!bO,59{OOOO-E<_-E<_OOQ!0Lf1G/e1G/eO#*kQ!fO,5>|O+}QlO,5>|OOQO,5?S,5?SO#*uQlO'#IbOOQO-E<`-E<`O#+SQ`O,5@^O#+[Q!fO,5@^O#+cQ`O,5@lOOQ!0Lf1G/k1G/kO%[QlO,5@mO#+kQ`O'#IhOOQO-E<f-E<fO#+cQ`O,5@lOOQ!0Lb1G0v1G0vOOQ!0Ln1G/v1G/vOOQ!0Ln1G0W1G0WO%[QlO,5@jO#,PQ!0LrO,5@jO#,bQ!0LrO,5@jO#,iQ`O,5@iO9ZQ`O,5@iO#,qQ`O,5@iO#-PQ`O'#IkO#,iQ`O,5@iOOQ!0Lb1G0u1G0uO!(cQpO,5:sO!(nQpO,5:sOOQS,5:u,5:uO#-qQdO,5:uO#-yQMhO1G2xO9aQ`O1G2xOOQ!0Lf1G0s1G0sO#.XQ!0MxO1G0sO#/^Q!0MvO,5;TOOQ!0Lh'#GV'#GVO#/zQ!0MzO'#JjO!$fQlO1G0sO#2VQ!fO'#JuO%[QlO'#JuO#2aQ`O,5:cOOQ!0Lh'#D]'#D]OOQ!0Lf1G0|1G0|O%[QlO1G0|OOQ!0Lf1G1e1G1eO#2fQ`O1G0|O#4zQ!0MxO1G0}O#5RQ!0MxO1G0}O#7iQ!0MxO1G0}O#7pQ!0MxO1G0}O#:WQ!0MxO1G0}O#<nQ!0MxO1G0}O#<uQ!0MxO1G0}O#<|Q!0MxO1G0}O#?dQ!0MxO1G0}O#?kQ!0MxO1G0}O#AxQ?MtO'#CiO#CsQ?MtO1G1_O#CzQ?MtO'#JqO#D_Q!0MxO,5?YOOQ!0Lb-E<l-E<lO#FlQ!0MxO1G0}O#GiQ!0MzO1G0}OOQ!0Lf1G0}1G0}O#HlQMjO'#JzO#HvQ`O,5:vO#H{Q!0MxO1G1bO#IoQ,UO,5<VO#IwQ,UO,5<WO#JPQ,UO'#FnO#JhQ`O'#FmOOQO'#KW'#KWOOQO'#Il'#IlO#JmQ,UO1G1mOOQ!0Lf1G1m1G1mOOOW1G1x1G1xO#KOQ?MtO'#JpO#KYQ`O,5<aO!(yQlO,5<aOOOW-E<k-E<kOOQ!0Lf1G1k1G1kO#K_QpO'#KVOOQ!0Lf,5<c,5<cO#KgQpO,5<cO#KlQMhO'#DROOOO'#I`'#I`O#KsO#@ItO,59kOOQ!0Lh,59k,59kO%[QlO1G2OO!7{Q`O'#IpO#LOQ`O,5<yOOQ!0Lh,5<v,5<vO!+rQMhO'#IsO#LlQMjO,5=WO!+rQMhO'#IuO#M_QMjO,5=YO!&iQMhO,5=[OOQO1G2R1G2RO#MiQ!dO'#CrO#M|Q(CWO'#EpO$ RQpO'#GaO$ iQ!dO,5<rO$ pQ`O'#KYO9ZQ`O'#KYO$!OQ`O,5<tO!+rQMhO,5<sO$!TQ`O'#GYO$!fQ`O,5<sO$!kQ!dO'#GVO$!xQ!dO'#KZO$#SQ`O'#KZO!&iQMhO'#KZO$#XQ`O,5<wO$#^QlO'#JtO$#hQpO'#GbO##hQpO'#GbO$#yQ`O'#GfO!3^Q`O'#GjO$$OQ!0LrO'#IrO$$ZQpO,5<{OOQ!0Lp,5<{,5<{O$$bQpO'#GbO$$oQpO'#GcO$%QQpO'#GcO$%VQMjO,5=WO$%gQMjO,5=YOOQ!0Lh,5=],5=]O!+rQMhO,5@TO!+rQMhO,5@TO$%wQ`O'#IwO$&VQ`O,5@SO$&_Q`O,59aOOQ!0Lh,59g,59gO$'UQ$IYO,59sOOQ!0Lh'#Jn'#JnO$'wQMjO,5<jO$(jQMjO,5<lO@iQ`O,5<nOOQ!0Lh,5<o,5<oO$(tQ`O,5<uO$(yQMjO,5<zO$)ZQ`O,5@TO$)iQ`O'#J}O!$fQlO1G2QO$)nQ`O1G2QO9ZQ`O'#KQO9ZQ`O'#ErO%[QlO'#ErO9ZQ`O'#IyO$)sQ!0LrO,5@yOOQ[1G2|1G2|OOQ[1G4^1G4^OOQ!0Lf1G/z1G/zOOQ!0Lf1G/x1G/xO$+uQ!0MxO1G0SOOQ[1G2x1G2xO!&iQMhO1G2xO%[QlO1G2xO#-|Q`O1G2xO$-yQMhO'#EiOOQ!0Lb,5@R,5@RO$.WQ!0LrO,5@ROOQ[1G.u1G.uO!BYQ!0LrO1G.uO!BeQpO1G.uO!BmQMhO1G.uO$.iQ`O1G0sO$.nQ`O'#CiO$.yQ`O'#KcO$/RQ`O,5=zO$/WQ`O'#KcO$/]Q`O'#KcO$/kQ`O'#JPO$/yQ`O,5@|O$0RQ!fO1G1hOOQ!0Lf1G1j1G1jO9aQ`O1G3eO@iQ`O1G3eO$0YQ`O1G3eO$0_Q`O1G3eOOQ[1G3e1G3eO!DkQ`O1G3TO!&iQMhO1G3QO$0dQ`O1G3QOOQ[1G3R1G3RO!&iQMhO1G3RO$0iQ`O1G3RO$0qQpO'#HPOOQ[1G3T1G3TO!5|QpO'#I{O!DpQ!bO1G3WOOQ[1G3W1G3WOOQ[,5=q,5=qO$0yQMhO,5=sO9aQ`O,5=sO$#yQ`O,5=uO9UQ`O,5=uO!BeQpO,5=uO!BmQMhO,5=uO:YQMhO,5=uO$1XQ`O'#KaO$1dQ`O,5=vOOQ[1G.k1G.kO$1iQ!0LrO1G.kO@iQ`O1G.kO$1tQ`O1G.kO9kQ!0LrO1G.kO$3|Q!fO,5AOO$4ZQ`O,5AOO9ZQ`O,5AOO$4fQlO,5=}O$4mQ`O,5=}OOQ[1G3g1G3gO`QlO1G3gOOQ[1G3m1G3mOOQ[1G3o1G3oO>rQ`O1G3qO$4rQlO1G3sO$8vQlO'#HrOOQ[1G3v1G3vO$9TQ`O'#HxO>wQ`O'#HzOOQ[1G3|1G3|O$9]QlO1G3|O9kQ!0LrO1G4SOOQ[1G4U1G4UOOQ!0Lb'#G^'#G^O9kQ!0LrO1G4WO9kQ!0LrO1G4YO$=dQ`O,5@`O!(yQlO,5;^O9ZQ`O,5;^O>wQ`O,5:VO!(yQlO,5:VO!BeQpO,5:VO$=iQ?MtO,5:VOOQO,5;^,5;^O$=sQpO'#IcO$>ZQ`O,5@_OOQ!0Lf1G/p1G/pO$>cQpO'#IiO$>mQ`O,5@nOOQ!0Lb1G0w1G0wO##hQpO,5:VOOQO'#Ie'#IeO$>uQpO,5:oOOQ!0Ln,5:o,5:oO#'cQ`O1G0XOOQ!0Lf1G0X1G0XO%[QlO1G0XOOQ!0Lf1G0r1G0rO>wQ`O1G0rO!BeQpO1G0rO!BmQMhO1G0rOOQ!0Lb1G5z1G5zO!BYQ!0LrO1G0[OOQO1G0k1G0kO%[QlO1G0kO$>|Q!0LrO1G0kO$?XQ!0LrO1G0kO!BeQpO1G0[OCuQpO1G0[O$?gQ!0LrO1G0kOOQO1G0[1G0[O$?{Q!0MxO1G0kPOOO-E<Y-E<YPOOO1G.h1G.hOOOO1G/g1G/gO$@VQ!bO,5<hO$@_Q!fO1G4hOOQO1G4n1G4nO%[QlO,5>|O$@iQ`O1G5xO$@qQ`O1G6WO$@yQ!fO1G6XO9ZQ`O,5?SO$ATQ!0MxO1G6UO%[QlO1G6UO$AeQ!0LrO1G6UO$AvQ`O1G6TO$AvQ`O1G6TO9ZQ`O1G6TO$BOQ`O,5?VO9ZQ`O,5?VOOQO,5?V,5?VO$BdQ`O,5?VO$)iQ`O,5?VOOQO-E<i-E<iOOQS1G0_1G0_OOQS1G0a1G0aO#-tQ`O1G0aOOQ[7+(d7+(dO!&iQMhO7+(dO%[QlO7+(dO$BrQ`O7+(dO$B}QMhO7+(dO$C]Q!0MzO,5=WO$EhQ!0MzO,5=YO$GsQ!0MzO,5=WO$JUQ!0MzO,5=YO$LgQ!0MzO,59sO$NlQ!0MzO,5<jO%!wQ!0MzO,5<lO%%SQ!0MzO,5<zOOQ!0Lf7+&_7+&_O%'eQ!0MxO7+&_O%(XQlO'#IdO%(fQ`O,5@aO%(nQ!fO,5@aOOQ!0Lf1G/}1G/}O%(xQ`O7+&hOOQ!0Lf7+&h7+&hO%(}Q?MtO,5:dO%[QlO7+&yO%)XQ?MtO,5:`O%)fQ?MtO,5:hO%)pQ?MtO,5:jO%)zQMhO'#IgO%*UQ`O,5@fOOQ!0Lh1G0b1G0bOOQO1G1q1G1qOOQO1G1r1G1rO%*^Q!jO,5<YO!(yQlO,5<XOOQO-E<j-E<jOOQ!0Lf7+'X7+'XOOOW7+'d7+'dOOOW1G1{1G1{O%*iQ`O1G1{OOQ!0Lf1G1}1G1}OOOO,59m,59mO%*nQ!dO,59mOOOO-E<^-E<^OOQ!0Lh1G/V1G/VO%*uQ!0MxO7+'jOOQ!0Lh,5?[,5?[O%+iQMhO1G2eP%+pQ`O'#IpPOQ!0Lh-E<n-E<nO%,^QMjO,5?_OOQ!0Lh-E<q-E<qO%-PQMjO,5?aOOQ!0Lh-E<s-E<sO%-ZQ!dO1G2vO%-bQ!dO'#CrO%-xQMhO'#KQO$#^QlO'#JtOOQ!0Lh1G2^1G2^O%.PQ`O'#IoO%.eQ`O,5@tO%.eQ`O,5@tO%.mQ`O,5@tO%.xQ`O,5@tOOQO1G2`1G2`O%/WQMjO1G2_O!+rQMhO1G2_O%/hQ(CWO'#IqO%/uQ`O,5@uO!&iQMhO,5@uO%/}Q!dO,5@uOOQ!0Lh1G2c1G2cO%2_Q!fO'#CiO%2iQ`O,5=OOOQ!0Lb,5<|,5<|O%2qQpO,5<|OOQ!0Lb,5<},5<}OCfQ`O,5<|O%2|QpO,5<|OOQ!0Lb,5=Q,5=QO$)iQ`O,5=UOOQO,5?^,5?^OOQO-E<p-E<pOOQ!0Lp1G2g1G2gO##hQpO,5<|O$#^QlO,5=OO%3[Q`O,5<}O%3gQpO,5<}O!+rQMhO'#IsO%4aQMjO1G2rO!+rQMhO'#IuO%5SQMjO1G2tO%5^QMjO1G5oO%5hQMjO1G5oOOQO,5?c,5?cOOQO-E<u-E<uOOQO1G.{1G.{O!9lQpO,59uO%[QlO,59uOOQ!0Lh,5<i,5<iO%5uQ`O1G2YO!+rQMhO1G2aO!+rQMhO1G5oO!+rQMhO1G5oO%5zQ!0MxO7+'lOOQ!0Lf7+'l7+'lO!$fQlO7+'lO%6nQ`O,5;^OOQ!0Lb,5?e,5?eOOQ!0Lb-E<w-E<wO%6sQ!dO'#K[O#'cQ`O7+(dO4UQ!fO7+(dO$BuQ`O7+(dO%6}Q!0MvO'#CiO%7nQ!0LrO,5=RO%8PQ!0MvO,5=RO%8dQ`O,5=ROOQ!0Lb1G5m1G5mOOQ[7+$a7+$aO!BYQ!0LrO7+$aO!BeQpO7+$aO!$fQlO7+&_O%8lQ`O'#JOO%9TQ`O,5@}OOQO1G3f1G3fO9aQ`O,5@}O%9TQ`O,5@}O%9]Q`O,5@}OOQO,5?k,5?kOOQO-E<}-E<}OOQ!0Lf7+'S7+'SO%9bQ`O7+)PO9kQ!0LrO7+)PO9aQ`O7+)PO@iQ`O7+)POOQ[7+(o7+(oO%9gQ!0MvO7+(lO!&iQMhO7+(lO!DfQ`O7+(mOOQ[7+(m7+(mO!&iQMhO7+(mO%9qQ`O'#K`O%9|Q`O,5=kOOQO,5?g,5?gOOQO-E<y-E<yOOQ[7+(r7+(rO%;`QpO'#HYOOQ[1G3_1G3_O!&iQMhO1G3_O%[QlO1G3_O%;gQ`O1G3_O%;rQMhO1G3_O9kQ!0LrO1G3aO$#yQ`O1G3aO9UQ`O1G3aO!BeQpO1G3aO!BmQMhO1G3aO%<QQ`O'#I}O%<fQ`O,5@{O%<nQpO,5@{OOQ!0Lb1G3b1G3bOOQ[7+$V7+$VO@iQ`O7+$VO9kQ!0LrO7+$VO%<yQ`O7+$VO%[QlO1G6jO%[QlO1G6kO%=OQ!0LrO1G6jO%=YQlO1G3iO%=aQ`O1G3iO%=fQlO1G3iOOQ[7+)R7+)RO9kQ!0LrO7+)]O`QlO7+)_OOQ['#Kf'#KfOOQ['#JQ'#JQO%=mQlO,5>^OOQ[,5>^,5>^O%[QlO'#HsO%=zQ`O'#HuOOQ[,5>d,5>dO9ZQ`O,5>dOOQ[,5>f,5>fOOQ[7+)h7+)hOOQ[7+)n7+)nOOQ[7+)r7+)rOOQ[7+)t7+)tO%>PQpO1G5zO%>kQ?MtO1G0xO%>uQ`O1G0xOOQO1G/q1G/qO%?QQ?MtO1G/qO>wQ`O1G/qO!(yQlO'#DkOOQO,5>},5>}OOQO-E<a-E<aOOQO,5?T,5?TOOQO-E<g-E<gO!BeQpO1G/qOOQO-E<c-E<cOOQ!0Ln1G0Z1G0ZOOQ!0Lf7+%s7+%sO#'cQ`O7+%sOOQ!0Lf7+&^7+&^O>wQ`O7+&^O!BeQpO7+&^OOQO7+%v7+%vO$?{Q!0MxO7+&VOOQO7+&V7+&VO%[QlO7+&VO%?[Q!0LrO7+&VO!BYQ!0LrO7+%vO!BeQpO7+%vO%?gQ!0LrO7+&VO%?uQ!0MxO7++pO%[QlO7++pO%@VQ`O7++oO%@VQ`O7++oOOQO1G4q1G4qO9ZQ`O1G4qO%@_Q`O1G4qOOQS7+%{7+%{O#'cQ`O<<LOO4UQ!fO<<LOO%@mQ`O<<LOOOQ[<<LO<<LOO!&iQMhO<<LOO%[QlO<<LOO%@uQ`O<<LOO%AQQ!0MzO,5?_O%C]Q!0MzO,5?aO%EhQ!0MzO1G2_O%GyQ!0MzO1G2rO%JUQ!0MzO1G2tO%LaQ!fO,5?OO%[QlO,5?OOOQO-E<b-E<bO%LkQ`O1G5{OOQ!0Lf<<JS<<JSO%LsQ?MtO1G0sO%NzQ?MtO1G0}O& RQ?MtO1G0}O&#SQ?MtO1G0}O&#ZQ?MtO1G0}O&%[Q?MtO1G0}O&']Q?MtO1G0}O&'dQ?MtO1G0}O&'kQ?MtO1G0}O&)lQ?MtO1G0}O&)sQ?MtO1G0}O&)zQ!0MxO<<JeO&+rQ?MtO1G0}O&,oQ?MvO1G0}O&-rQ?MvO'#JjO&/xQ?MtO1G1bO&0VQ?MtO1G0SO&0aQMjO,5?ROOQO-E<e-E<eO!(yQlO'#FpOOQO'#KX'#KXOOQO1G1t1G1tO&0kQ`O1G1sO&0pQ?MtO,5?YOOOW7+'g7+'gOOOO1G/X1G/XO&0zQ!dO1G4vOOQ!0Lh7+(P7+(PP!&iQMhO,5?[O!+rQMhO7+(bO&1RQ`O,5?ZO9ZQ`O,5?ZOOQO-E<m-E<mO&1aQ`O1G6`O&1aQ`O1G6`O&1iQ`O1G6`O&1tQMjO7+'yO&2UQ!dO,5?]O&2`Q`O,5?]O!&iQMhO,5?]OOQO-E<o-E<oO&2eQ!dO1G6aO&2oQ`O1G6aO&2wQ`O1G2jO!&iQMhO1G2jOOQ!0Lb1G2h1G2hOOQ!0Lb1G2i1G2iO%2qQpO1G2hO!BeQpO1G2hOCfQ`O1G2hOOQ!0Lb1G2p1G2pO&2|QpO1G2hO&3[Q`O1G2jO$)iQ`O1G2iOCfQ`O1G2iO$#^QlO1G2jO&3dQ`O1G2iO&4WQMjO,5?_OOQ!0Lh-E<r-E<rO&4yQMjO,5?aOOQ!0Lh-E<t-E<tO!+rQMhO7++ZOOQ!0Lh1G/a1G/aO&5TQ`O1G/aOOQ!0Lh7+'t7+'tO&5YQMjO7+'{O&5jQMjO7++ZO&5tQMjO7++ZO&6RQ!0MxO<<KWOOQ!0Lf<<KW<<KWO&6uQ`O1G0xO!&iQMhO'#IxO&6zQ`O,5@vO&8|Q!fO<<LOO!&iQMhO1G2mO&9TQ!0LrO1G2mOOQ[<<G{<<G{O!BYQ!0LrO<<G{O&9fQ!0MxO<<IyOOQ!0Lf<<Iy<<IyOOQO,5?j,5?jO&:YQ`O,5?jO&:_Q`O,5?jOOQO-E<|-E<|O&:mQ`O1G6iO&:mQ`O1G6iO9aQ`O1G6iO@iQ`O<<LkOOQ[<<Lk<<LkO&:uQ`O<<LkO9kQ!0LrO<<LkOOQ[<<LW<<LWO%9gQ!0MvO<<LWOOQ[<<LX<<LXO!DfQ`O<<LXO&:zQpO'#IzO&;VQ`O,5@zO!(yQlO,5@zOOQ[1G3V1G3VOOQO'#I|'#I|O9kQ!0LrO'#I|O&;_QpO,5=tOOQ[,5=t,5=tO&;fQpO'#EeO&;mQpO'#GdO&;rQ`O7+(yO&;wQ`O7+(yOOQ[7+(y7+(yO!&iQMhO7+(yO%[QlO7+(yO&<PQ`O7+(yOOQ[7+({7+({O9kQ!0LrO7+({O$#yQ`O7+({O9UQ`O7+({O!BeQpO7+({O&<[Q`O,5?iOOQO-E<{-E<{OOQO'#H]'#H]O&<gQ`O1G6gO9kQ!0LrO<<GqOOQ[<<Gq<<GqO@iQ`O<<GqO&<oQ`O7+,UO&<tQ`O7+,VO%[QlO7+,UO%[QlO7+,VOOQ[7+)T7+)TO&<yQ`O7+)TO&=OQlO7+)TO&=VQ`O7+)TOOQ[<<Lw<<LwOOQ[<<Ly<<LyOOQ[-E=O-E=OOOQ[1G3x1G3xO&=[Q`O,5>_OOQ[,5>a,5>aO&=aQ`O1G4OO9ZQ`O7+&dO!(yQlO7+&dOOQO7+%]7+%]O&=fQ?MtO1G6XO>wQ`O7+%]OOQ!0Lf<<I_<<I_OOQ!0Lf<<Ix<<IxO>wQ`O<<IxOOQO<<Iq<<IqO$?{Q!0MxO<<IqO%[QlO<<IqOOQO<<Ib<<IbO!BYQ!0LrO<<IbO&=pQ!0LrO<<IqO&={Q!0MxO<= [O&>]Q`O<= ZOOQO7+*]7+*]O9ZQ`O7+*]OOQ[ANAjANAjO&>eQ!fOANAjO!&iQMhOANAjO#'cQ`OANAjO4UQ!fOANAjO&>lQ`OANAjO%[QlOANAjO&>tQ!0MzO7+'yO&AVQ!0MzO,5?_O&CbQ!0MzO,5?aO&EmQ!0MzO7+'{O&HOQ!fO1G4jO&HYQ?MtO7+&_O&J^Q?MvO,5=WO&LeQ?MvO,5=YO&LuQ?MvO,5=WO&MVQ?MvO,5=YO&MgQ?MvO,59sO' mQ?MvO,5<jO'#pQ?MvO,5<lO'&UQ?MvO,5<zO''zQ?MtO7+'jO'(XQ?MtO7+'lO'(fQ`O,5<[OOQO7+'_7+'_OOQ!0Lh7+*b7+*bO'(kQMjO<<K|OOQO1G4u1G4uO'(rQ`O1G4uO'(}Q`O1G4uO')]Q`O7++zO')]Q`O7++zO!&iQMhO1G4wO')eQ!dO1G4wO')oQ`O7++{O')wQ`O7+(UO'*SQ!dO7+(UOOQ!0Lb7+(S7+(SOOQ!0Lb7+(T7+(TO!BeQpO7+(SOCfQ`O7+(SO'*^Q`O7+(UO!&iQMhO7+(UO$)iQ`O7+(TO'*cQ`O7+(UOCfQ`O7+(TO'*kQMjO<<NuOOQ!0Lh7+${7+${O!+rQMhO<<NuO'*uQ!dO,5?dOOQO-E<v-E<vO'+PQ!0MvO7+(XO!&iQMhO7+(XOOQ[AN=gAN=gO9aQ`O1G5UOOQO1G5U1G5UO'+aQ`O1G5UO'+fQ`O7+,TO'+fQ`O7+,TO9kQ!0LrOANBVO@iQ`OANBVOOQ[ANBVANBVOOQ[ANArANArOOQ[ANAsANAsO'+nQ`O,5?fOOQO-E<x-E<xO'+yQ?MtO1G6fOOQO,5?h,5?hOOQO-E<z-E<zOOQ[1G3`1G3`O',TQ`O,5=OOOQ[<<Le<<LeO!&iQMhO<<LeO&;rQ`O<<LeO',YQ`O<<LeO%[QlO<<LeOOQ[<<Lg<<LgO9kQ!0LrO<<LgO$#yQ`O<<LgO9UQ`O<<LgO',bQpO1G5TO',mQ`O7+,ROOQ[AN=]AN=]O9kQ!0LrOAN=]OOQ[<= p<= pOOQ[<= q<= qO',uQ`O<= pO',zQ`O<= qOOQ[<<Lo<<LoO'-PQ`O<<LoO'-UQlO<<LoOOQ[1G3y1G3yO>wQ`O7+)jO'-]Q`O<<JOO'-hQ?MtO<<JOOOQO<<Hw<<HwOOQ!0LfAN?dAN?dOOQOAN?]AN?]O$?{Q!0MxOAN?]OOQOAN>|AN>|O%[QlOAN?]OOQO<<Mw<<MwOOQ[G27UG27UO!&iQMhOG27UO#'cQ`OG27UO'-rQ!fOG27UO4UQ!fOG27UO'-yQ`OG27UO'.RQ?MtO<<JeO'.`Q?MvO1G2_O'0UQ?MvO,5?_O'2XQ?MvO,5?aO'4[Q?MvO1G2rO'6_Q?MvO1G2tO'8bQ?MtO<<KWO'8oQ?MtO<<IyOOQO1G1v1G1vO!+rQMhOANAhOOQO7+*a7+*aO'8|Q`O7+*aO'9XQ`O<= fO'9aQ!dO7+*cOOQ!0Lb<<Kp<<KpO$)iQ`O<<KpOCfQ`O<<KpO'9kQ`O<<KpO!&iQMhO<<KpOOQ!0Lb<<Kn<<KnO!BeQpO<<KnO'9vQ!dO<<KpOOQ!0Lb<<Ko<<KoO':QQ`O<<KpO!&iQMhO<<KpO$)iQ`O<<KoO':VQMjOANDaO':aQ!0MvO<<KsOOQO7+*p7+*pO9aQ`O7+*pO':qQ`O<= oOOQ[G27qG27qO9kQ!0LrOG27qO!(yQlO1G5QO':yQ`O7+,QO';RQ`O1G2jO&;rQ`OANBPOOQ[ANBPANBPO!&iQMhOANBPO';WQ`OANBPOOQ[ANBRANBRO9kQ!0LrOANBRO$#yQ`OANBROOQO'#H^'#H^OOQO7+*o7+*oOOQ[G22wG22wOOQ[ANE[ANE[OOQ[ANE]ANE]OOQ[ANBZANBZO';`Q`OANBZOOQ[<<MU<<MUO!(yQlOAN?jOOQOG24wG24wO$?{Q!0MxOG24wO#'cQ`OLD,pOOQ[LD,pLD,pO!&iQMhOLD,pO';eQ!fOLD,pO';lQ?MvO7+'yO'=bQ?MvO,5?_O'?eQ?MvO,5?aO'AhQ?MvO7+'{O'C^QMjOG27SOOQO<<M{<<M{OOQ!0LbANA[ANA[O$)iQ`OANA[OCfQ`OANA[O'CnQ!dOANA[OOQ!0LbANAYANAYO'CuQ`OANA[O!&iQMhOANA[O'DQQ!dOANA[OOQ!0LbANAZANAZOOQO<<N[<<N[OOQ[LD-]LD-]O'D[Q?MtO7+*lOOQO'#Ge'#GeOOQ[G27kG27kO&;rQ`OG27kO!&iQMhOG27kOOQ[G27mG27mO9kQ!0LrOG27mOOQ[G27uG27uO'DfQ?MtOG25UOOQOLD*cLD*cOOQ[!$(![!$(![O#'cQ`O!$(![O!&iQMhO!$(![O'DpQ!0MzOG27SOOQ!0LbG26vG26vO$)iQ`OG26vO'GRQ`OG26vOCfQ`OG26vO'G^Q!dOG26vO!&iQMhOG26vOOQ[LD-VLD-VO&;rQ`OLD-VOOQ[LD-XLD-XOOQ[!)9Ev!)9EvO#'cQ`O!)9EvOOQ!0LbLD,bLD,bO$)iQ`OLD,bOCfQ`OLD,bO'GeQ`OLD,bO'GpQ!dOLD,bOOQ[!$(!q!$(!qOOQ[!.K;b!.K;bO'GwQ?MvOG27SOOQ!0Lb!$( |!$( |O$)iQ`O!$( |OCfQ`O!$( |O'ImQ`O!$( |OOQ!0Lb!)9Eh!)9EhO$)iQ`O!)9EhOCfQ`O!)9EhOOQ!0Lb!.K;S!.K;SO$)iQ`O!.K;SOOQ!0Lb!4/0n!4/0nO!(yQlO'#DxO1PQ`O'#EVO'IxQ!fO'#JpO'JPQ!L^O'#DtO'JWQlO'#D|O'J_Q!fO'#CiO'LuQ!fO'#CiO!(yQlO'#EOO'MVQlO,5;XO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO,5;cO!(yQlO'#InO( YQ`O,5<hO!(yQlO,5;cO( bQMhO,5;cO(!{QMhO,5;cO!(yQlO,5;vO!&iQMhO'#GlO( bQMhO'#GlO!&iQMhO'#GnO( bQMhO'#GnO1SQ`O'#DXO1SQ`O'#DXO!&iQMhO'#GOO( bQMhO'#GOO!&iQMhO'#GQO( bQMhO'#GQO!&iQMhO'#G`O( bQMhO'#G`O!(yQlO,5:hO(#SQpO'#D]O(#^QpO'#JtO!(yQlO,5@mO'MVQlO1G0sO(#hQ?MtO'#CiO!(yQlO1G2OO!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO(#rQ!dO'#CrO!&iQMhO,5<sO( bQMhO,5<sO'MVQlO1G2QO!(yQlO7+&yO!&iQMhO1G2_O( bQMhO1G2_O!&iQMhO'#IsO( bQMhO'#IsO!&iQMhO'#IuO( bQMhO'#IuO!&iQMhO1G2aO( bQMhO1G2aO'MVQlO7+'lO'MVQlO7+&_O!&iQMhOANAhO( bQMhOANAhO($VQ`O'#EmO($[Q`O'#EmO($dQ`O'#F[O($iQ`O'#EwO($nQ`O'#KRO($yQ`O'#KPO(%UQ`O,5;XO(%ZQMjO,5<dO(%bQ`O'#GXO(%gQ`O'#GXO(%lQ`O,5<fO(%tQ`O,5;XO(%|Q?MtO1G1_O(&TQ`O,5<sO(&YQ`O,5<sO(&_Q`O,5<uO(&dQ`O,5<uO(&iQ`O1G2QO(&nQ`O1G0sO(&sQMjO<<K|O(&zQMjO<<K|O7eQMhO'#F{O9UQ`O'#FzOAdQ`O'#ElO!(yQlO,5;sO!3^Q`O'#GXO!3^Q`O'#GXO!3^Q`O'#GZO!3^Q`O'#GZO!+rQMhO7+(bO!+rQMhO7+(bO%-ZQ!dO1G2vO%-ZQ!dO1G2vO!&iQMhO,5=[O!&iQMhO,5=[",stateData:"((P~O'zOS'{OSTOS'|RQ~OPYOQYOSfOY!VOaqOdzOeyOj!POnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!swO!vxO!z]O$V|O$miO%g}O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO&U!WO&[!XO&^!YO&`!ZO&b![O&e!]O&k!^O&q!_O&s!`O&u!aO&w!bO&y!cO(RSO(TTO(WUO(_VO(m[O~OWtO~P`OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa!wOq!nO!Q!oO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!xO#U!pO#V!pO#Y!zO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O'|!{O~OP]XR]X[]Xa]Xp]X!O]X!Q]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X'x]X(_]X(p]X(w]X(x]X~O!e%QX~P(qO_!}O(T#PO(U!}O(V#PO~O_#QO(V#PO(W#PO(X#QO~Ov#SO!S#TO(`#TO(a#VO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R;{O(TTO(WUO(_VO(m[O~O!Y#ZO!Z#WO!W(fP!W(tP~P+}O![#cO~P`OPYOQYOSfOd!jOe!iOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(TTO(WUO(_VO(m[O~On#mO!Y#iO!z]O#g#lO#h#iO(R;|O!i(qP~P.iO!j#oO(R#nO~O!v#sO!z]O%g#tO~O#i#uO~O!e#vO#i#uO~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z$_O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa(dX'x(dX'u(dX!i(dX!W(dX!](dX%h(dX!e(dX~P1qO#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX!](eX%h(eX~Oa(eX'x(eX'u(eX!W(eX!i(eXt(eX!e(eX~P4UO#^$eO~O$[$hO$^$gO$e$mO~OSfO!]$nO$h$oO$j$qO~Oh%VOj%cOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R$sO(TTO(WUO(_$uO(w$}O(x%POg([P~O!j%dO~O!Q%gO!]%hO(R%fO~O!e%lO~Oa%mO'x%mO~O!O%qO~P%[O(S!lO~P%[O%m%uO~P%[Oh%VO!j%dO(R%fO(S!lO~Oe%|O!j%dO(R%fO~O#t$RO~O!O&RO!]&OO!j&QO%i&UO(R%fO(S!lO(TTO(WUO`)UP~O!v#sO~O%r&WO!Q)QX!])QX(R)QX~O(R&XO~Oj!PO!s&^O%i!QO%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO~Od&cOe&bO!v&`O%g&aO%z&_O~P<POd&fOeyOj!PO!]&eO!s&^O!vxO!z]O%g}O%k!OO%l!OO%m!OO%p!RO%r!SO%u!TO%v!TO%x!UO~Ob&iO#^&lO%i&gO(S!lO~P=UO!j&mO!s&qO~O!j#oO~O!]XO~Oa%mO'v&yO'x%mO~Oa%mO'v&|O'x%mO~Oa%mO'v'OO'x%mO~O'u]X!W]Xt]X!i]X&Y]X!]]X%h]X!e]X~P(qO!`']O!a'UO!b'UO(S!lO(TTO(WUO~Oq'SO!Q'RO!Y'VO(c'QO![(gP![(vP~P@]Ol'`O!]'^O(R%fO~Oe'eO!j%dO(R%fO~O!O&RO!j&QO~Oq!nO!Q!oO!z;wO#R!pO#S!pO#U!pO#V!pO(S!lO(TTO(WUO(c!mO(m!sO~O!`'kO!a'jO!b'jO#T!pO#Y'lO#Z'lO~PAwOa%mOh%VO!e#vO!j%dO'x%mO(p'nO~O!n'rO#^'pO~PCVOq!nO!Q!oO(TTO(WUO(c!mO(m!sO~O!]XOq(kX!Q(kX!`(kX!a(kX!b(kX!z(kX#R(kX#S(kX#T(kX#U(kX#V(kX#Y(kX#Z(kX(S(kX(T(kX(W(kX(c(kX(m(kX~O!a'jO!b'jO(S!lO~PCuO'}'vO(O'vO(P'xO~O_!}O(T'zO(U!}O(V'zO~O_#QO(V'zO(W'zO(X#QO~Ot'|O~P%[Ov#SO!S#TO(`#TO(a(PO~O!Y(RO!W'UX!W'[X!Z'UX!Z'[X~P+}O!Z(TO!W(fX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!Z(TO!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~O!W(fX~PGpO!W(YO~O!W(sX!Z(sX!e(sX!i(sX(p(sX~O#^(sX#i#bX![(sX~PIsO#^(ZO!W(uX!Z(uX~O!Z([O!W(tX~O!W(_O~O#^$eO~PIsO![(`O~P`OR#zO!O#yO!Q#{O!j#xO(_VOP!la[!lap!la!Z!la!n!la#P!la#l!la#m!la#n!la#o!la#p!la#q!la#r!la#s!la#t!la#u!la#w!la#y!la#z!la(p!la(w!la(x!la~Oa!la'x!la'u!la!W!la!i!lat!la!]!la%h!la!e!la~PKZO!i(aO~O!e#vO#^(bO(p'nO!Z(rXa(rX'x(rX~O!i(rX~PMvO!Q%gO!]%hO!z]O#g(gO#h(fO(R%fO~O!Z(hO!i(qX~O!i(jO~O!Q%gO!]%hO#h(fO(R%fO~OP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#t(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O!e#vO!i(eX~P! dOR(lO!O(kO!j#xO#Q$dO!z!ya!Q!ya~O!v!ya%g!ya!]!ya#g!ya#h!ya(R!ya~P!#eO!v(pO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]XO!guO!jZO!mYO!nYO!oYO!qvO!s!gO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~O#i(vO~O!Y(xO!i(iP~P%[O(c(zO(m[O~O!Q(|O!j#xO(c(zO(m[O~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z$_Oa$pa'x$pa'u$pa!i$pa!W$pa!]$pa%h$pa!e$pa~Oj)bO~P!&iOh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|%[O!Q${O!]$|O!g%aO!j$xO#h%bO$V%_O$s%]O$u%^O$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Og(nP~P!+rO!O)gO!e)fO!]$]X$Y$]X$[$]X$^$]X$e$]X~O!e)fO!](yX$Y(yX$[(yX$^(yX$e(yX~O!O)gO~P!-{O!O)gO!](yX$Y(yX$[(yX$^(yX$e(yX~O!])iO$Y)mO$[)hO$^)hO$e)nO~O!Y)qO~P!(yO$[$hO$^$gO$e)uO~Ol$yX!O$yX#Q$yX'w$yX(w$yX(x$yX~OgkXg$yXlkX!ZkX#^kX~P!/qOv)wO(`)xO(a)zO~Ol*TO!O)|O'w)}O(w$}O(x%PO~Og){O~P!0uOg*UO~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q*WO!]*XO!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~O!Y*[O(R*VO!i(|P~P!1dO#i*^O~O!j*_O~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(R*aO(TTO(WUO(_$uO(w$}O(x%PO~O!Y*dO!W(}P~P!3cOp*pOq!nO!Q*fO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO(c!mO~O![*mO~P!5WO#Q$dOl(^X!O(^X'w(^X(w(^X(x(^X!Z(^X#^(^X~Og(^X#}(^X~P!6YOl*uO#^*tOg(]X!Z(]X~O!Z*vOg([X~Oj%cO(R&XOg([P~Oq*yO~O!j+OO~O(R(tO~On+TO!Q%gO!Y#iO!]%hO!z]O#g#lO#h#iO(R%fO!i(qP~O!e#vO#i+UO~O!Q%gO!Y+WO!Z([O!]%hO(R%fO!W(tP~Oq'YO!Q+YO!Y+XO(TTO(WUO(c(zO~O![(vP~P!9]O!Z+ZOa)RX'x)RX~OP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO#y$WO#z$XO(_VO(p$YO(w#|O(x#}O~Oa!ha!Z!ha'x!ha'u!ha!W!ha!i!hat!ha!]!ha%h!ha!e!ha~P!:TOR#zO!O#yO!Q#{O!j#xO(_VOP!pa[!pap!pa!Z!pa!n!pa#P!pa#l!pa#m!pa#n!pa#o!pa#p!pa#q!pa#r!pa#s!pa#t!pa#u!pa#w!pa#y!pa#z!pa(p!pa(w!pa(x!pa~Oa!pa'x!pa'u!pa!W!pa!i!pat!pa!]!pa%h!pa!e!pa~P!<kOR#zO!O#yO!Q#{O!j#xO(_VOP!ra[!rap!ra!Z!ra!n!ra#P!ra#l!ra#m!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#w!ra#y!ra#z!ra(p!ra(w!ra(x!ra~Oa!ra'x!ra'u!ra!W!ra!i!rat!ra!]!ra%h!ra!e!ra~P!?ROh%VOl+dO!]'^O%h+cO~O!e+fOa(ZX!](ZX'x(ZX!Z(ZX~Oa%mO!]XO'x%mO~Oh%VO!j%dO~Oh%VO!j%dO(R%fO~O!e#vO#i(vO~Ob+qO%i+rO(R+nO(TTO(WUO![)VP~O!Z+sO`)UX~O[+wO~O`+xO~O!]&OO(R%fO(S!lO`)UP~Oh%VO#^+}O~Oh%VOl,QO!]$|O~O!],SO~O!O,UO!]XO~O%m%uO~O!v,ZO~Oe,`O~Ob,aO(R#nO(TTO(WUO![)TP~Oe%|O~O%i!QO(R&XO~P=UO[,fO`,eO~OPYOQYOSfOdzOeyOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!guO!jZO!mYO!nYO!oYO!qvO!vxO!z]O$miO%g}O(TTO(WUO(_VO(m[O~O!]!eO!s!gO$V!kO(R!dO~P!FRO`,eOa%mO'x%mO~OPYOQYOSfOd!jOe!iOnkOpYOqkOrkOxkOzYO|YO!QWO!UkO!VkO!]!eO!guO!jZO!mYO!nYO!oYO!qvO!v!hO$V!kO$miO(R!dO(TTO(WUO(_VO(m[O~Oa,kOj!OO!swO%k!OO%l!OO%m!OO~P!HkO!j&mO~O&[,qO~O!],sO~O&m,uO&o,vOP&jaQ&jaS&jaY&jaa&jad&jae&jaj&jan&jap&jaq&jar&jax&jaz&ja|&ja!Q&ja!U&ja!V&ja!]&ja!g&ja!j&ja!m&ja!n&ja!o&ja!q&ja!s&ja!v&ja!z&ja$V&ja$m&ja%g&ja%i&ja%k&ja%l&ja%m&ja%p&ja%r&ja%u&ja%v&ja%x&ja&U&ja&[&ja&^&ja&`&ja&b&ja&e&ja&k&ja&q&ja&s&ja&u&ja&w&ja&y&ja'u&ja(R&ja(T&ja(W&ja(_&ja(m&ja![&ja&c&jab&ja&h&ja~O(R,{O~Oh!cX!Z!PX![!PX!e!PX!e!cX!j!cX#^!PX~O!Z!cX![!cX~P# qO!e-QO#^-POh(hX!Z#fX![#fX!e(hX!j(hX~O!Z(hX![(hX~P#!dOh%VO!e-SO!j%dO!Z!_X![!_X~Oq!nO!Q!oO(TTO(WUO(c!mO~OP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]!eO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(TTO(WUO(_VO(m[O~O(R<rO~P##yO!Z-WO![(gX~O![-YO~O!e-QO#^-PO!Z#fX![#fX~O!Z-ZO![(vX~O![-]O~O!a-^O!b-^O(S!lO~P##hO![-aO~P'_Ol-dO!]'^O~O!W-iO~Oq!ya!`!ya!a!ya!b!ya#R!ya#S!ya#T!ya#U!ya#V!ya#Y!ya#Z!ya(S!ya(T!ya(W!ya(c!ya(m!ya~P!#eO!n-nO#^-lO~PCVO!a-pO!b-pO(S!lO~PCuOa%mO#^-lO'x%mO~Oa%mO!e#vO#^-lO'x%mO~Oa%mO!e#vO!n-nO#^-lO'x%mO(p'nO~O'}'vO(O'vO(P-uO~Ot-vO~O!W'Ua!Z'Ua~P!:TO!Y-zO!W'UX!Z'UX~P%[O!Z(TO!W(fa~O!W(fa~PGpO!Z([O!W(ta~O!Q%gO!Y.OO!]%hO(R%fO!W'[X!Z'[X~O#^.QO!Z(ra!i(raa(ra'x(ra~O!e#vO~P#,PO!Z(hO!i(qa~O!Q%gO!]%hO#h.UO(R%fO~On.ZO!Q%gO!Y.WO!]%hO!z]O#g.YO#h.WO(R%fO!Z'_X!i'_X~OR._O!j#xO~Oh%VOl.bO!]'^O%h.aO~Oa#ai!Z#ai'x#ai'u#ai!W#ai!i#ait#ai!]#ai%h#ai!e#ai~P!:TOl=|O!O)|O'w)}O(w$}O(x%PO~O#i#]aa#]a#^#]a'x#]a!Z#]a!i#]a!]#]a!W#]a~P#.{O#i(^XP(^XR(^X[(^Xa(^Xp(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X'x(^X(_(^X(p(^X!i(^X!W(^X'u(^Xt(^X!](^X%h(^X!e(^X~P!6YO!Z.oO!i(iX~P!:TO!i.rO~O!W.tO~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kia#kip#ki!Z#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#l#ki~P#2kO#l$OO~P#2kOP$[OR#zOp$aO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO[#kia#ki!Z#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#p#ki~P#5YO#p$QO~P#5YOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO(_VOa#ki!Z#ki#w#ki#y#ki#z#ki'x#ki(p#ki(w#ki(x#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#u#ki~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO(_VO(x#}Oa#ki!Z#ki#y#ki#z#ki'x#ki(p#ki(w#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#w$UO~P#:_O#w#ki~P#:_O#u$SO~P#7wOP$[OR#zO[$cOp$aO!O#yO!Q#{O!j#xO!n$[O#P$RO#l$OO#m$PO#n$PO#o$PO#p$QO#q$RO#r$RO#s$bO#t$RO#u$SO#w$UO(_VO(w#|O(x#}Oa#ki!Z#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~O#y#ki~P#=TO#y$WO~P#=TOP]XR]X[]Xp]X!O]X!Q]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X!Z]X![]X~O#}]X~P#?rOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO#y<XO#z<YO(_VO(p$YO(w#|O(x#}O~O#}.vO~P#BPO#Q$dO#^<`O$P<`O#}(eX![(eX~P! dOa'ba!Z'ba'x'ba'u'ba!i'ba!W'bat'ba!]'ba%h'ba!e'ba~P!:TO[#kia#kip#ki!Z#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki'x#ki(p#ki'u#ki!W#ki!i#kit#ki!]#ki%h#ki!e#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l$OO#m$PO#n$PO#o$PO(_VO(w#ki(x#ki~P#EROl=|O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P#ERO!Z.zOg(nX~P!0uOg.|O~Oa$Oi!Z$Oi'x$Oi'u$Oi!W$Oi!i$Oit$Oi!]$Oi%h$Oi!e$Oi~P!:TO$[.}O$^.}O~O$[/OO$^/OO~O!e)fO#^/PO!]$bX$Y$bX$[$bX$^$bX$e$bX~O!Y/QO~O!])iO$Y/SO$[)hO$^)hO$e/TO~O!Z<ZO![(dX~P#BPO![/UO~O!e)fO$e(yX~O$e/WO~Ot/XO~P!&iOv)wO(`)xO(a/[O~O!Q/_O~O(w$}Ol%`a!O%`a'w%`a(x%`a!Z%`a#^%`a~Og%`a#}%`a~P#LTO(x%POl%ba!O%ba'w%ba(w%ba!Z%ba#^%ba~Og%ba#}%ba~P#LvO!ZfX!efX!ifX!i$yX(pfX~P!/qO!Y/hO!Z([O(R/gO!W(tP!W(}P~P!1dOp*pO!`*nO!a*hO!b*hO!j*_O#Y*oO%_*jO(S!lO(TTO(WUO~Oq<oO!Q/iO!Y+XO![*mO(c<nO![(vP~P#NaO!i/jO~P#.{O!Z/kO!e#vO(p'nO!i(|X~O!i/pO~O!Q%gO!Y*[O!]%hO(R%fO!i(|P~O#i/rO~O!W$yX!Z$yX!e%QX~P!/qO!Z/sO!W(}X~P#.{O!e/uO~O!W/wO~OnkO(R/xO~P.iOh%VOp/}O!e#vO!j%dO(p'nO~O!e+fO~Oa%mO!Z0RO'x%mO~O![0TO~P!5WO!a0UO!b0UO(S!lO~P##hOq!nO!Q0VO(TTO(WUO(c!mO~O#Y0XO~Og%`a!Z%`a#^%`a#}%`a~P!0uOg%ba!Z%ba#^%ba#}%ba~P!0uOj%cO(R&XOg'kX!Z'kX~O!Z*vOg([a~Og0bO~OR0cO!O0cO!Q0dO#Q$dOl{a'w{a(w{a(x{a!Z{a#^{a~Og{a#}{a~P$&dO!O)|O'w)}Ol$ra(w$ra(x$ra!Z$ra#^$ra~Og$ra#}$ra~P$'`O!O)|O'w)}Ol$ta(w$ta(x$ta!Z$ta#^$ta~Og$ta#}$ta~P$(RO#i0gO~Og%Sa!Z%Sa#^%Sa#}%Sa~P!0uOl0iO#^0hOg(]a!Z(]a~O!e#vO~O#i0lO~O!Z+ZOa)Ra'x)Ra~OR#zO!O#yO!Q#{O!j#xO(_VOP!pi[!pip!pi!Z!pi!n!pi#P!pi#l!pi#m!pi#n!pi#o!pi#p!pi#q!pi#r!pi#s!pi#t!pi#u!pi#w!pi#y!pi#z!pi(p!pi(w!pi(x!pi~Oa!pi'x!pi'u!pi!W!pi!i!pit!pi!]!pi%h!pi!e!pi~P$*OOh%VOp%XOq$tOr$tOx%YOz%ZO|<eO!Q${O!]$|O!g=vO!j$xO#h<kO$V%_O$s<gO$u<iO$x%`O(TTO(WUO(_$uO(w$}O(x%PO~On0vO%[0wO(R0tO~P$,fO!e+fOa(Za!](Za'x(Za!Z(Za~O#i0|O~O[]X!ZfX![fX~O!Z0}O![)VX~O![1PO~O[1QO~Ob1SO(R+nO(TTO(WUO~O!]&OO(R%fO`'sX!Z'sX~O!Z+sO`)Ua~O!i1VO~P!:TO[1YO~O`1ZO~O#^1^O~Ol1aO!]$|O~O(c(zO![)SP~Oh%VOl1jO!]1gO%h1iO~O[1tO!Z1rO![)TX~O![1uO~O`1wOa%mO'x%mO~O(R#nO(TTO(WUO~O#Q$dO#^$eO$P$eOP(eXR(eX[(eXp(eX!O(eX!Q(eX!Z(eX!j(eX!n(eX#P(eX#l(eX#m(eX#n(eX#o(eX#p(eX#q(eX#r(eX#s(eX#u(eX#w(eX#y(eX#z(eX(_(eX(p(eX(w(eX(x(eX~O#t1zO&Y1{Oa(eX~P$2PO#^$eO#t1zO&Y1{O~Oa1}O~P%[Oa2PO~O&c2SOP&aiQ&aiS&aiY&aia&aid&aie&aij&ain&aip&aiq&air&aix&aiz&ai|&ai!Q&ai!U&ai!V&ai!]&ai!g&ai!j&ai!m&ai!n&ai!o&ai!q&ai!s&ai!v&ai!z&ai$V&ai$m&ai%g&ai%i&ai%k&ai%l&ai%m&ai%p&ai%r&ai%u&ai%v&ai%x&ai&U&ai&[&ai&^&ai&`&ai&b&ai&e&ai&k&ai&q&ai&s&ai&u&ai&w&ai&y&ai'u&ai(R&ai(T&ai(W&ai(_&ai(m&ai![&aib&ai&h&ai~Ob2YO![2WO&h2XO~P`O!]XO!j2[O~O&o,vOP&jiQ&jiS&jiY&jia&jid&jie&jij&jin&jip&jiq&jir&jix&jiz&ji|&ji!Q&ji!U&ji!V&ji!]&ji!g&ji!j&ji!m&ji!n&ji!o&ji!q&ji!s&ji!v&ji!z&ji$V&ji$m&ji%g&ji%i&ji%k&ji%l&ji%m&ji%p&ji%r&ji%u&ji%v&ji%x&ji&U&ji&[&ji&^&ji&`&ji&b&ji&e&ji&k&ji&q&ji&s&ji&u&ji&w&ji&y&ji'u&ji(R&ji(T&ji(W&ji(_&ji(m&ji![&ji&c&jib&ji&h&ji~O!W2bO~O!Z!_a![!_a~P#BPOq!nO!Q!oO!Y2hO(c!mO!Z'VX!['VX~P@]O!Z-WO![(ga~O!Z']X![']X~P!9]O!Z-ZO![(va~O![2oO~P'_Oa%mO#^2xO'x%mO~Oa%mO!e#vO#^2xO'x%mO~Oa%mO!e#vO!n2|O#^2xO'x%mO(p'nO~Oa%mO'x%mO~P!:TO!Z$_Ot$pa~O!W'Ui!Z'Ui~P!:TO!Z(TO!W(fi~O!Z([O!W(ti~O!W(ui!Z(ui~P!:TO!Z(ri!i(ria(ri'x(ri~P!:TO#^3OO!Z(ri!i(ria(ri'x(ri~O!Z(hO!i(qi~O!Q%gO!]%hO!z]O#g3TO#h3SO(R%fO~O!Q%gO!]%hO#h3SO(R%fO~Ol3[O!]'^O%h3ZO~Oh%VOl3[O!]'^O%h3ZO~O#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`at%`a!]%`a%h%`a!e%`a~P#LTO#i%baP%baR%ba[%baa%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%bat%ba!]%ba%h%ba!e%ba~P#LvO#i%`aP%`aR%`a[%`aa%`ap%`a!Q%`a!Z%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a'x%`a(_%`a(p%`a!i%`a!W%`a'u%`a#^%`at%`a!]%`a%h%`a!e%`a~P#.{O#i%baP%baR%ba[%baa%bap%ba!Q%ba!Z%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba'x%ba(_%ba(p%ba!i%ba!W%ba'u%ba#^%bat%ba!]%ba%h%ba!e%ba~P#.{O#i{aP{a[{aa{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a'x{a(_{a(p{a!i{a!W{a'u{at{a!]{a%h{a!e{a~P$&dO#i$raP$raR$ra[$raa$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra'x$ra(_$ra(p$ra!i$ra!W$ra'u$rat$ra!]$ra%h$ra!e$ra~P$'`O#i$taP$taR$ta[$taa$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta'x$ta(_$ta(p$ta!i$ta!W$ta'u$tat$ta!]$ta%h$ta!e$ta~P$(RO#i%SaP%SaR%Sa[%Saa%Sap%Sa!Q%Sa!Z%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa'x%Sa(_%Sa(p%Sa!i%Sa!W%Sa'u%Sa#^%Sat%Sa!]%Sa%h%Sa!e%Sa~P#.{Oa#aq!Z#aq'x#aq'u#aq!W#aq!i#aqt#aq!]#aq%h#aq!e#aq~P!:TO!Y3dO!Z'WX!i'WX~P%[O!Z.oO!i(ia~O!Z.oO!i(ia~P!:TO!W3gO~O#}!la![!la~PKZO#}!ha!Z!ha![!ha~P#BPO#}!pa![!pa~P!<kO#}!ra![!ra~P!?ROg'ZX!Z'ZX~P!+rO!Z.zOg(na~OSfO!]3{O$c3|O~O![4QO~Ot4RO~P#.{Oa$lq!Z$lq'x$lq'u$lq!W$lq!i$lqt$lq!]$lq%h$lq!e$lq~P!:TO!W4TO~P!&iO!Q4UO~O!O)|O'w)}O(x%POl'ga(w'ga!Z'ga#^'ga~Og'ga#}'ga~P%+uO!O)|O'w)}Ol'ia(w'ia(x'ia!Z'ia#^'ia~Og'ia#}'ia~P%,hO(p$YO~P#.{O!WfX!W$yX!ZfX!Z$yX!e%QX#^fX~P!/qO(R<xO~P!1dO!Q%gO!Y4XO!]%hO(R%fO!Z'cX!i'cX~O!Z/kO!i(|a~O!Z/kO!e#vO!i(|a~O!Z/kO!e#vO(p'nO!i(|a~Og${i!Z${i#^${i#}${i~P!0uO!Y4aO!W'eX!Z'eX~P!3cO!Z/sO!W(}a~O!Z/sO!W(}a~P#.{OP]XR]X[]Xp]X!O]X!Q]X!W]X!Z]X!j]X!n]X#P]X#Q]X#^]X#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!e%XX#t%XX~P%0XO!e#vO#t4fO~Oh%VO!e#vO!j%dO~Oh%VOp4kO!j%dO(p'nO~Op4pO!e#vO(p'nO~Oq!nO!Q4qO(TTO(WUO(c!mO~O(w$}Ol%`i!O%`i'w%`i(x%`i!Z%`i#^%`i~Og%`i#}%`i~P%3xO(x%POl%bi!O%bi'w%bi(w%bi!Z%bi#^%bi~Og%bi#}%bi~P%4kOg(]i!Z(]i~P!0uO#^4wOg(]i!Z(]i~P!0uO!i4zO~Oa$nq!Z$nq'x$nq'u$nq!W$nq!i$nqt$nq!]$nq%h$nq!e$nq~P!:TO!W5QO~O!Z5RO!])OX~P#.{Oa]Xa$yX!]]X!]$yX%]]X'x]X'x$yX!Z]X!Z$yX~P!/qO%]5UOa%Za!]%Za'x%Za!Z%Za~OlmX!OmX'wmX(wmX(xmX~P%7nOn5VO(R#nO~Ob5]O%i5^O(R+nO(TTO(WUO!Z'rX!['rX~O!Z0}O![)Va~O[5bO~O`5cO~Oa%mO'x%mO~P#.{O!Z5kO#^5mO![)SX~O![5nO~Op5tOq!nO!Q*fO!`!yO!a!vO!b!vO!z;wO#R!pO#S!pO#T!pO#U!pO#V!pO#Y5sO#Z!zO(S!lO(TTO(WUO(c!mO(m!sO~O![5rO~P%:ROl5yO!]1gO%h5xO~Oh%VOl5yO!]1gO%h5xO~Ob6QO(R#nO(TTO(WUO!Z'qX!['qX~O!Z1rO![)Ta~O(TTO(WUO(c6SO~O`6WO~O#t6ZO&Y6[O~PMvO!i6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO![6dO&h2XO~P`O!e6fO~O!e6hOh(hi!Z(hi![(hi!e(hi!j(hip(hi(p(hi~O!Z#fi![#fi~P#BPO#^6iO!Z#fi![#fi~O!Z!_i![!_i~P#BPOa%mO#^6rO'x%mO~Oa%mO!e#vO#^6rO'x%mO~O!Z(rq!i(rqa(rq'x(rq~P!:TO!Z(hO!i(qq~O!Q%gO!]%hO#h6yO(R%fO~O!]'^O%h6|O~Ol7QO!]'^O%h6|O~O#i'gaP'gaR'ga['gaa'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga'x'ga(_'ga(p'ga!i'ga!W'ga'u'gat'ga!]'ga%h'ga!e'ga~P%+uO#i'iaP'iaR'ia['iaa'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia'x'ia(_'ia(p'ia!i'ia!W'ia'u'iat'ia!]'ia%h'ia!e'ia~P%,hO#i${iP${iR${i[${ia${ip${i!Q${i!Z${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i'x${i(_${i(p${i!i${i!W${i'u${i#^${it${i!]${i%h${i!e${i~P#.{O#i%`iP%`iR%`i[%`ia%`ip%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i'x%`i(_%`i(p%`i!i%`i!W%`i'u%`it%`i!]%`i%h%`i!e%`i~P%3xO#i%biP%biR%bi[%bia%bip%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi'x%bi(_%bi(p%bi!i%bi!W%bi'u%bit%bi!]%bi%h%bi!e%bi~P%4kO!Z'Wa!i'Wa~P!:TO!Z.oO!i(ii~O#}#ai!Z#ai![#ai~P#BPOP$[OR#zO!O#yO!Q#{O!j#xO!n$[O(_VO[#kip#ki#P#ki#m#ki#n#ki#o#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#l#ki~P%MQO#l<PO~P%MQOP$[OR#zOp<]O!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO[#ki#P#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#p#ki~P& YO#p<RO~P& YOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO(_VO#w#ki#y#ki#z#ki#}#ki(p#ki(w#ki(x#ki!Z#ki![#ki~O#u#ki~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO(_VO(x#}O#y#ki#z#ki#}#ki(p#ki(w#ki!Z#ki![#ki~O#w<VO~P&%cO#w#ki~P&%cO#u<TO~P&#bOP$[OR#zO[<_Op<]O!O#yO!Q#{O!j#xO!n$[O#P<SO#l<PO#m<QO#n<QO#o<QO#p<RO#q<SO#r<SO#s<^O#t<SO#u<TO#w<VO(_VO(w#|O(x#}O#z#ki#}#ki(p#ki!Z#ki![#ki~O#y#ki~P&'rO#y<XO~P&'rOa#{y!Z#{y'x#{y'u#{y!W#{y!i#{yt#{y!]#{y%h#{y!e#{y~P!:TO[#kip#ki#P#ki#p#ki#q#ki#r#ki#s#ki#t#ki#u#ki#w#ki#y#ki#z#ki#}#ki(p#ki!Z#ki![#ki~OP$[OR#zO!O#yO!Q#{O!j#xO!n$[O#l<PO#m<QO#n<QO#o<QO(_VO(w#ki(x#ki~P&*nOl=}O!O)|O'w)}O(w$}O(x%POP#kiR#ki!Q#ki!j#ki!n#ki#l#ki#m#ki#n#ki#o#ki(_#ki~P&*nO#Q$dOP(^XR(^X[(^Xl(^Xp(^X!O(^X!Q(^X!j(^X!n(^X#P(^X#l(^X#m(^X#n(^X#o(^X#p(^X#q(^X#r(^X#s(^X#t(^X#u(^X#w(^X#y(^X#z(^X#}(^X'w(^X(_(^X(p(^X(w(^X(x(^X!Z(^X![(^X~O#}$Oi!Z$Oi![$Oi~P#BPO#}!pi![!pi~P$*OOg'Za!Z'Za~P!0uO![7dO~O!Z'ba!['ba~P#BPO!W7eO~P#.{O!e#vO(p'nO!Z'ca!i'ca~O!Z/kO!i(|i~O!Z/kO!e#vO!i(|i~Og${q!Z${q#^${q#}${q~P!0uO!W'ea!Z'ea~P#.{O!e7lO~O!Z/sO!W(}i~P#.{O!Z/sO!W(}i~O!W7oO~Oh%VOp7tO!j%dO(p'nO~O!e#vO#t7vO~Op7yO!e#vO(p'nO~O!O)|O'w)}O(x%POl'ha(w'ha!Z'ha#^'ha~Og'ha#}'ha~P&3oO!O)|O'w)}Ol'ja(w'ja(x'ja!Z'ja#^'ja~Og'ja#}'ja~P&4bO!W7{O~Og$}q!Z$}q#^$}q#}$}q~P!0uOg(]q!Z(]q~P!0uO#^7|Og(]q!Z(]q~P!0uOa$ny!Z$ny'x$ny'u$ny!W$ny!i$nyt$ny!]$ny%h$ny!e$ny~P!:TO!e6hO~O!Z5RO!])Oa~O!]'^OP$SaR$Sa[$Sap$Sa!O$Sa!Q$Sa!Z$Sa!j$Sa!n$Sa#P$Sa#l$Sa#m$Sa#n$Sa#o$Sa#p$Sa#q$Sa#r$Sa#s$Sa#t$Sa#u$Sa#w$Sa#y$Sa#z$Sa(_$Sa(p$Sa(w$Sa(x$Sa~O%h6|O~P&7SO%]8QOa%Zi!]%Zi'x%Zi!Z%Zi~Oa#ay!Z#ay'x#ay'u#ay!W#ay!i#ayt#ay!]#ay%h#ay!e#ay~P!:TO[8SO~Ob8UO(R+nO(TTO(WUO~O!Z0}O![)Vi~O`8YO~O(c(zO!Z'nX!['nX~O!Z5kO![)Sa~O![8cO~P%:RO(m!sO~P$$oO#Y8dO~O!]1gO~O!]1gO%h8fO~Ol8iO!]1gO%h8fO~O[8nO!Z'qa!['qa~O!Z1rO![)Ti~O!i8rO~O!i8sO~O!i8vO~O!i8vO~P%[Oa8xO~O!e8yO~O!i8zO~O!Z(ui![(ui~P#BPOa%mO#^9SO'x%mO~O!Z(ry!i(rya(ry'x(ry~P!:TO!Z(hO!i(qy~O%h9VO~P&7SO!]'^O%h9VO~O#i${qP${qR${q[${qa${qp${q!Q${q!Z${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q'x${q(_${q(p${q!i${q!W${q'u${q#^${qt${q!]${q%h${q!e${q~P#.{O#i'haP'haR'ha['haa'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha'x'ha(_'ha(p'ha!i'ha!W'ha'u'hat'ha!]'ha%h'ha!e'ha~P&3oO#i'jaP'jaR'ja['jaa'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja'x'ja(_'ja(p'ja!i'ja!W'ja'u'jat'ja!]'ja%h'ja!e'ja~P&4bO#i$}qP$}qR$}q[$}qa$}qp$}q!Q$}q!Z$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q'x$}q(_$}q(p$}q!i$}q!W$}q'u$}q#^$}qt$}q!]$}q%h$}q!e$}q~P#.{O!Z'Wi!i'Wi~P!:TO#}#aq!Z#aq![#aq~P#BPO(w$}OP%`aR%`a[%`ap%`a!Q%`a!j%`a!n%`a#P%`a#l%`a#m%`a#n%`a#o%`a#p%`a#q%`a#r%`a#s%`a#t%`a#u%`a#w%`a#y%`a#z%`a#}%`a(_%`a(p%`a!Z%`a![%`a~Ol%`a!O%`a'w%`a(x%`a~P&HgO(x%POP%baR%ba[%bap%ba!Q%ba!j%ba!n%ba#P%ba#l%ba#m%ba#n%ba#o%ba#p%ba#q%ba#r%ba#s%ba#t%ba#u%ba#w%ba#y%ba#z%ba#}%ba(_%ba(p%ba!Z%ba![%ba~Ol%ba!O%ba'w%ba(w%ba~P&JnOl=}O!O)|O'w)}O(x%PO~P&HgOl=}O!O)|O'w)}O(w$}O~P&JnOR0cO!O0cO!Q0dO#Q$dOP{a[{al{ap{a!j{a!n{a#P{a#l{a#m{a#n{a#o{a#p{a#q{a#r{a#s{a#t{a#u{a#w{a#y{a#z{a#}{a'w{a(_{a(p{a(w{a(x{a!Z{a![{a~O!O)|O'w)}OP$raR$ra[$ral$rap$ra!Q$ra!j$ra!n$ra#P$ra#l$ra#m$ra#n$ra#o$ra#p$ra#q$ra#r$ra#s$ra#t$ra#u$ra#w$ra#y$ra#z$ra#}$ra(_$ra(p$ra(w$ra(x$ra!Z$ra![$ra~O!O)|O'w)}OP$taR$ta[$tal$tap$ta!Q$ta!j$ta!n$ta#P$ta#l$ta#m$ta#n$ta#o$ta#p$ta#q$ta#r$ta#s$ta#t$ta#u$ta#w$ta#y$ta#z$ta#}$ta(_$ta(p$ta(w$ta(x$ta!Z$ta![$ta~Ol=}O!O)|O'w)}O(w$}O(x%PO~OP%SaR%Sa[%Sap%Sa!Q%Sa!j%Sa!n%Sa#P%Sa#l%Sa#m%Sa#n%Sa#o%Sa#p%Sa#q%Sa#r%Sa#s%Sa#t%Sa#u%Sa#w%Sa#y%Sa#z%Sa#}%Sa(_%Sa(p%Sa!Z%Sa![%Sa~P'%sO#}$lq!Z$lq![$lq~P#BPO#}$nq!Z$nq![$nq~P#BPO![9dO~O#}9eO~P!0uO!e#vO!Z'ci!i'ci~O!e#vO(p'nO!Z'ci!i'ci~O!Z/kO!i(|q~O!W'ei!Z'ei~P#.{O!Z/sO!W(}q~Op9lO!e#vO(p'nO~O[9nO!W9mO~P#.{O!W9mO~O!e#vO#t9tO~Og(]y!Z(]y~P!0uO!Z'la!]'la~P#.{Oa%Zq!]%Zq'x%Zq!Z%Zq~P#.{O[9yO~O!Z0}O![)Vq~O#^9}O!Z'na!['na~O!Z5kO![)Si~P#BPO!Q:PO~O!]1gO%h:SO~O(TTO(WUO(c:XO~O!Z1rO![)Tq~O!i:[O~O!i:]O~O!i:^O~O!i:^O~P%[O#^:aO!Z#fy![#fy~O!Z#fy![#fy~P#BPO%h:fO~P&7SO!]'^O%h:fO~O#}#{y!Z#{y![#{y~P#BPOP${iR${i[${ip${i!Q${i!j${i!n${i#P${i#l${i#m${i#n${i#o${i#p${i#q${i#r${i#s${i#t${i#u${i#w${i#y${i#z${i#}${i(_${i(p${i!Z${i![${i~P'%sO!O)|O'w)}O(x%POP'gaR'ga['gal'gap'ga!Q'ga!j'ga!n'ga#P'ga#l'ga#m'ga#n'ga#o'ga#p'ga#q'ga#r'ga#s'ga#t'ga#u'ga#w'ga#y'ga#z'ga#}'ga(_'ga(p'ga(w'ga!Z'ga!['ga~O!O)|O'w)}OP'iaR'ia['ial'iap'ia!Q'ia!j'ia!n'ia#P'ia#l'ia#m'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#w'ia#y'ia#z'ia#}'ia(_'ia(p'ia(w'ia(x'ia!Z'ia!['ia~O(w$}OP%`iR%`i[%`il%`ip%`i!O%`i!Q%`i!j%`i!n%`i#P%`i#l%`i#m%`i#n%`i#o%`i#p%`i#q%`i#r%`i#s%`i#t%`i#u%`i#w%`i#y%`i#z%`i#}%`i'w%`i(_%`i(p%`i(x%`i!Z%`i![%`i~O(x%POP%biR%bi[%bil%bip%bi!O%bi!Q%bi!j%bi!n%bi#P%bi#l%bi#m%bi#n%bi#o%bi#p%bi#q%bi#r%bi#s%bi#t%bi#u%bi#w%bi#y%bi#z%bi#}%bi'w%bi(_%bi(p%bi(w%bi!Z%bi![%bi~O#}$ny!Z$ny![$ny~P#BPO#}#ay!Z#ay![#ay~P#BPO!e#vO!Z'cq!i'cq~O!Z/kO!i(|y~O!W'eq!Z'eq~P#.{Op:pO!e#vO(p'nO~O[:tO!W:sO~P#.{O!W:sO~Og(]!R!Z(]!R~P!0uOa%Zy!]%Zy'x%Zy!Z%Zy~P#.{O!Z0}O![)Vy~O!Z5kO![)Sq~O(R:zO~O!]1gO%h:}O~O!i;QO~O%h;VO~P&7SOP${qR${q[${qp${q!Q${q!j${q!n${q#P${q#l${q#m${q#n${q#o${q#p${q#q${q#r${q#s${q#t${q#u${q#w${q#y${q#z${q#}${q(_${q(p${q!Z${q![${q~P'%sO!O)|O'w)}O(x%POP'haR'ha['hal'hap'ha!Q'ha!j'ha!n'ha#P'ha#l'ha#m'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#w'ha#y'ha#z'ha#}'ha(_'ha(p'ha(w'ha!Z'ha!['ha~O!O)|O'w)}OP'jaR'ja['jal'jap'ja!Q'ja!j'ja!n'ja#P'ja#l'ja#m'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#w'ja#y'ja#z'ja#}'ja(_'ja(p'ja(w'ja(x'ja!Z'ja!['ja~OP$}qR$}q[$}qp$}q!Q$}q!j$}q!n$}q#P$}q#l$}q#m$}q#n$}q#o$}q#p$}q#q$}q#r$}q#s$}q#t$}q#u$}q#w$}q#y$}q#z$}q#}$}q(_$}q(p$}q!Z$}q![$}q~P'%sOg%d!Z!Z%d!Z#^%d!Z#}%d!Z~P!0uO!W;ZO~P#.{Op;[O!e#vO(p'nO~O[;^O!W;ZO~P#.{O!Z'nq!['nq~P#BPO!Z#f!Z![#f!Z~P#BPO#i%d!ZP%d!ZR%d!Z[%d!Za%d!Zp%d!Z!Q%d!Z!Z%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z'x%d!Z(_%d!Z(p%d!Z!i%d!Z!W%d!Z'u%d!Z#^%d!Zt%d!Z!]%d!Z%h%d!Z!e%d!Z~P#.{Op;fO!e#vO(p'nO~O!W;gO~P#.{Op;nO!e#vO(p'nO~O!W;oO~P#.{OP%d!ZR%d!Z[%d!Zp%d!Z!Q%d!Z!j%d!Z!n%d!Z#P%d!Z#l%d!Z#m%d!Z#n%d!Z#o%d!Z#p%d!Z#q%d!Z#r%d!Z#s%d!Z#t%d!Z#u%d!Z#w%d!Z#y%d!Z#z%d!Z#}%d!Z(_%d!Z(p%d!Z!Z%d!Z![%d!Z~P'%sOp;rO!e#vO(p'nO~Ot(dX~P1qO!O%qO~P!(yO(S!lO~P!(yO!WfX!ZfX#^fX~P%0XOP]XR]X[]Xp]X!O]X!Q]X!Z]X!ZfX!j]X!n]X#P]X#Q]X#^]X#^fX#ifX#l]X#m]X#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#w]X#y]X#z]X$P]X(_]X(p]X(w]X(x]X~O!efX!i]X!ifX(pfX~P'JlOP;vOQ;vOSfOd=rOe!iOnkOp;vOqkOrkOxkOz;vO|;vO!QWO!UkO!VkO!]XO!g;yO!jZO!m;vO!n;vO!o;vO!q;zO!s;}O!v!hO$V!kO$m=pO(R)ZO(TTO(WUO(_VO(m[O~O!Z<ZO![$pa~Oh%VOn%WOp%XOq$tOr$tOx%YOz%ZO|<fO!Q${O!]$|O!g=wO!j$xO#h<lO$V%_O$s<hO$u<jO$x%`O(R(tO(TTO(WUO(_$uO(w$}O(x%PO~Oj)bO~P( bOp!cX(p!cX~P# qOp(hX(p(hX~P#!dO![]X![fX~P'JlO!WfX!W$yX!ZfX!Z$yX#^fX~P!/qO#i<OO~O!e#vO#i<OO~O#^<`O~O#t<SO~O#^<pO!Z(uX![(uX~O#^<`O!Z(sX![(sX~O#i<qO~Og<sO~P!0uO#i<yO~O#i<zO~O!e#vO#i<{O~O!e#vO#i<qO~O#}<|O~P#BPO#i<}O~O#i=OO~O#i=TO~O#i=UO~O#i=VO~O#i=WO~O#}=XO~P!0uO#}=YO~P!0uO#Q#R#S#U#V#Y#g#h#s$m$s$u$x%[%]%g%h%i%p%r%u%v%x%z~'|T#m!V'z(S#nq#l#op!O'{$['{(R$^(c~",goto:"$8f)ZPPPPPP)[PP)_P)pP+Q/VPPPP6aPP6wPP<oP@cP@yP@yPPP@yPCRP@yP@yP@yPCVPC[PCyPHsPPPHwPPPPHwKzPPPLQLrPHwPHwPP! QHwPPPHwPHwP!#XHwP!&o!'t!'}P!(q!(u!(q!,SPPPPPPP!,s!'tPP!-T!.uP!2RHwHw!2W!5d!:Q!:Q!>PPPP!>XHwPPPPPPPPPP!AhP!BuPPHw!DWPHwPHwHwHwHwHwPHw!EjP!HtP!KzP!LO!LY!L^!L^P!HqP!Lb!LbP# hP# lHwPHw# r#$wCV@yP@yP@y@yP#&U@y@y#(h@y#+`@y#-l@y@y#.[#0p#0p#0u#1O#0p#1ZPP#0pP@y#1s@y#5r@y@y6aPPP#9wPPP#:b#:bP#:bP#:x#:bPP#;OP#:uP#:u#;c#:u#;}#<T#<W)_#<Z)_P#<b#<b#<bP)_P)_P)_P)_PP)_P#<h#<kP#<k)_P#<oP#<rP)_P)_P)_P)_P)_P)_)_PP#<x#=O#=Z#=a#=g#=m#=s#>R#>X#>c#>i#>s#>y#?Z#?a#@R#@e#@k#@q#AP#Af#CZ#Ci#Cp#E[#Ej#G[#Gj#Gp#Gv#G|#HW#H^#Hd#Hn#IQ#IWPPPPPPPPPPP#I^PPPPPPP#JR#MY#Nr#Ny$ RPPP$&mP$&v$)o$0Y$0]$0`$1_$1b$1i$1qP$1w$1zP$2h$2l$3d$4r$4w$5_PP$5d$5j$5n$5q$5u$5y$6u$7^$7u$7y$7|$8P$8V$8Y$8^$8bR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0u+fQ1S+rQ1y,fQ3W.bQ5V0wQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:378,context:trackNewline,nodeProps:[["isolate",-8,5,6,14,35,37,49,51,53,""],["group",-26,9,17,19,66,206,210,214,215,217,220,223,233,235,241,243,245,247,250,256,262,264,266,268,270,272,273,"Statement",-34,13,14,30,33,34,40,49,52,53,55,60,68,70,74,78,80,82,83,108,109,118,119,135,138,140,141,142,143,144,146,147,166,168,170,"Expression",-23,29,31,35,39,41,43,172,174,176,177,179,180,181,183,184,185,187,188,189,200,202,204,205,"Type",-3,86,101,107,"ClassItem"],["openedBy",23,"<",36,"InterpolationStart",54,"[",58,"{",71,"(",159,"JSXStartCloseTag"],["closedBy",-2,24,167,">",38,"InterpolationEnd",48,"]",59,"}",72,")",164,"JSXEndTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6,276],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$h&j(Up(X!b'z0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(V#S$h&j'{0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$h&j(Up(X!b'{0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$h&j!n),Q(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#u(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(T':f$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$h&j(X!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$h&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$c`$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$c``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$c`$h&j(X!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(X!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$c`(X!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$h&j(Up(X!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$h&j(Up(X!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$h&j(X!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$h&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(X!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$h&j(UpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(UpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Up(X!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$h&j(m%1l(Up(X!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$h&j(Up(X!b$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$h&j(Up(X!b$[#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$h&j(Up(X!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$h&j$P(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(x+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$h&j#y(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(W';W$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$h&j(UpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$h&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$c`$h&j(UpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(UpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$c`(UpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!j/.^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!i!Lf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$h&j(Up(X!b(S%&f#o(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$h&j(Up(X!b#l(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$h&j(Up(X!bp+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!Z+Jf$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$h&j(Up(X!b!O.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_!Y!L^$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$h&j(Up(X!b#m(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$h&j(X!b!V7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$h&j!V7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$h&j!V7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!V7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!V7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$h&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$h&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$h&j(X!b!V7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(X!b!V7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(X!b!V7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(X!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$h&j(X!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$h&j(Up!V7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$h&j(Up!V7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Up!V7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Up!V7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(UpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$h&j(UpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$h&j(Up(X!b!V7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Up(X!b!V7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Up(X!b!V7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Up(X!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$h&j(Up(X!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$h&j(Up(X!b'|0/l!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$h&j(Up(X!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$h&j(X!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$h&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(X!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$h&j(UpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(UpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Up(X!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$h&j$P(Ch(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Y#t$h&j(Up(X!b!V7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$h&j(Up(X!bq'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!e$b$h&j#})Lv(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#P-<U(Up(X!b$m7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$j&j(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#p(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$P(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#q(Ch(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#^*!Y$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#i(Cl$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#q(Ch$e#|$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#q(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#p(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(p(Ct$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$h&j#z(Ch(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!z$Ip$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!Q0,v$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$h&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$h&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$h&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$h&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$h&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$h&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!W#)l$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#w(Ch$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$h&j(Up(X!b(_+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$h&j(Up(X!b(R,2j$^#t(c$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$h&j(Up(X!b$^#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!]#Hb(Up(X!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(w+JY$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_![(CdtBr$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!o7`$h&j(Up(X!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$h&j(Up(X!b'z0/l$[#t(R,2j(c$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$h&j(Up(X!b'{0/l$[#t(R,2j(c$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[noSemicolon,noSemicolonType,operatorToken,jsx,2,3,4,5,6,7,8,9,10,11,12,13,14,insertSemicolon,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOv~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!S~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(a~~",141,338),new LocalTokenGroup("j~RQYZXz{^~^O(O~~aP!P!Qd~iO(P~~",25,321)],topRules:{Script:[0,7],SingleExpression:[1,274],SingleClassItem:[2,275]},dialects:{jsx:0,ts:15091},dynamicPrecedences:{78:1,80:1,92:1,168:1,198:1},specialized:[{term:325,get:r=>spec_identifier[r]||-1},{term:341,get:r=>spec_word[r]||-1},{term:93,get:r=>spec_LessThan[r]||-1}],tokenPrec:15116}),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],typescriptSnippets=snippets.concat([snippetCompletion("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),snippetCompletion("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),snippetCompletion("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(r){return(e,n)=>{let s=e.node.getChild("VariableDefinition");return s&&n(s,r),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(r,e){r.matchContext(functionContext)||e(r,"variable")},TypeDefinition(r,e){e(r,"type")},__proto__:null};function getScope(r,e){let n=cache.get(e);if(n)return n;let s=[],o=!0;function a(u,f){let d=r.sliceString(u.from,u.to);s.push({label:d,type:f})}return e.cursor(IterMode.IncludeAnonymous).iterate(u=>{if(o)o=!1;else if(u.name){let f=gatherCompletions[u.name];if(f&&f(u,a)||ScopeNodes.has(u.name))return!1}else if(u.to-u.from>8192){for(let f of getScope(r,u.node))s.push(f);return!1}}),cache.set(e,s),s}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function localCompletionSource(r){let e=syntaxTree(r.state).resolveInner(r.pos,-1);if(dontComplete.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&Identifier.test(r.state.sliceDoc(e.from,e.to));if(!n&&!r.explicit)return null;let s=[];for(let o=e;o;o=o.parent)ScopeNodes.has(o.name)&&(s=s.concat(getScope(r.state.doc,o)));return{options:s,from:n?e.from:r.pos,validFor:Identifier}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:r=>{let e=r.textAfter,n=/^\s*\}/.test(e),s=/^\s*(case|default)\b/.test(e);return r.baseIndent+(n?0:s?1:2)*r.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:r=>r.baseIndent+r.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^{/}),JSXElement(r){let e=/^\s*<\//.test(r.textAfter);return r.lineIndent(r.node.from)+(e?0:r.unit)},JSXEscape(r){let e=/\s*\}/.test(r.textAfter);return r.lineIndent(r.node.from)+(e?0:r.unit)},"JSXOpenTag JSXSelfClosingTag"(r){return r.column(r.node.from)+r.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":foldInside,BlockComment(r){return{from:r.from+2,to:r.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jsxSublanguage={test:r=>/^JSX/.test(r.name),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx",props:[sublanguageProp.add(r=>r.isTop?[jsxSublanguage]:void 0)]}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts",props:[sublanguageProp.add(r=>r.isTop?[jsxSublanguage]:void 0)]},"typescript");let kwCompletion=r=>({label:r,type:"keyword"});const keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion),typescriptKeywords=keywords.concat(["declare","implements","private","protected","public"].map(kwCompletion));function javascript(r={}){let e=r.jsx?r.typescript?tsxLanguage:jsxLanguage:r.typescript?typescriptLanguage:javascriptLanguage,n=r.typescript?typescriptSnippets.concat(typescriptKeywords):snippets.concat(keywords);return new LanguageSupport(e,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(n))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),r.jsx?autoCloseTags:[]])}function findOpenTag(r){for(;;){if(r.name=="JSXOpenTag"||r.name=="JSXSelfClosingTag"||r.name=="JSXFragmentTag")return r;if(r.name=="JSXEscape"||!r.parent)return null;r=r.parent}}function elementName(r,e,n=r.length){for(let s=e==null?void 0:e.firstChild;s;s=s.nextSibling)if(s.name=="JSXIdentifier"||s.name=="JSXBuiltin"||s.name=="JSXNamespacedName"||s.name=="JSXMemberExpression")return r.sliceString(s.from,Math.min(s.to,n));return""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags=EditorView.inputHandler.of((r,e,n,s,o)=>{if((android?r.composing:r.compositionStarted)||r.state.readOnly||e!=n||s!=">"&&s!="/"||!javascriptLanguage.isActiveAt(r.state,e,-1))return!1;let a=o(),{state:u}=a,f=u.changeByRange(d=>{var g;let{head:m}=d,O=syntaxTree(u).resolveInner(m-1,-1),x;if(O.name=="JSXStartTag"&&(O=O.parent),!(u.doc.sliceString(m-1,m)!=s||O.name=="JSXAttributeValue"&&O.to>m)){if(s==">"&&O.name=="JSXFragmentTag")return{range:d,changes:{from:m,insert:"</>"}};if(s=="/"&&O.name=="JSXStartCloseTag"){let b=O.parent,w=b.parent;if(w&&b.from==m-2&&((x=elementName(u.doc,w.firstChild,m))||((g=w.firstChild)===null||g===void 0?void 0:g.name)=="JSXFragmentTag")){let E=`${x}>`;return{range:EditorSelection.cursor(m+E.length,-1),changes:{from:m,insert:E}}}}else if(s==">"){let b=findOpenTag(O);if(b&&b.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(u.doc.sliceString(m,m+2))&&(x=elementName(u.doc,b,m)))return{range:d,changes:{from:m,insert:`</${x}>`}}}}return{range:d}});return f.changes.empty?!1:(r.dispatch([a,u.update(f,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});function CodeEditor({label:r="Javascript code",defaultValue:e,name:n}){const[s,o]=reactExports.useState(e??""),a=reactExports.useCallback(u=>{o(u)},[]);return jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-10 grid-rows-1",children:[jsxRuntimeExports.jsx("div",{className:"col-span-2",children:jsxRuntimeExports.jsx(FormInput,{className:"hidden",label:r,name:n,value:s})}),jsxRuntimeExports.jsx("div",{className:"col-span-8 flex flex-col items-center",children:jsxRuntimeExports.jsx(ReactCodeMirror,{className:"size-full",extensions:[javascript()],height:"300px",onChange:a,theme:"dark",value:s})})]})}const PLACEHOLDER_NAME="My custom function",PLACEHOLDER_DESCRIPTION="This method does x and y, and halts when z occurs",PLACEHOLDER_FUNCTION_CODE=CALCULATIONS.even.fn.toString(),PLACEHOLDER_TIP="Optional: Describe a useful thing you can do with this";function useDialogForms(){const running=useVirtualStore(r=>r.isRunning),setCalculation=useVirtualStore(r=>r.setCalculation),addCalculation=useVirtualStore(r=>r.addCalculation),dialogForms=reactExports.useMemo(()=>({set:{title:"Set the function the Virtual machine applies:",form:jsxRuntimeExports.jsxs("div",{className:"w-full flex space-x-4 items-center",children:[jsxRuntimeExports.jsx("label",{htmlFor:"calcName",children:"Method:"}),jsxRuntimeExports.jsx("select",{className:"w-full h-8",name:"calcName",id:"calcName",children:Object.entries(CALCULATIONS).sort(([r],[e])=>r.localeCompare(e)).map(([r,e])=>{let n=e.description;return e.tip&&(n+=`

Tip:
${e.tip}`),jsxRuntimeExports.jsxs("option",{disabled:running,value:r,title:n,children:["[",r,"] ",e.name]},r)})})]}),onSubmit:r=>{const e=r.get("calcName");setCalculation(e)}},create:{title:"Create a method for the Virtual machine to apply every step",form:jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-4",children:[jsxRuntimeExports.jsx(FormInput,{label:"Function name",name:"calcName",placeholderValue:PLACEHOLDER_NAME}),jsxRuntimeExports.jsx(FormInput,{label:"Description",name:"calcDescription",placeholderValue:PLACEHOLDER_DESCRIPTION}),jsxRuntimeExports.jsx(CodeEditor,{defaultValue:PLACEHOLDER_FUNCTION_CODE,name:"calcFunction"}),jsxRuntimeExports.jsx(FormInput,{label:"Tip",name:"calcTip",placeholderValue:PLACEHOLDER_TIP}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-2 text-gray-400 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"h-fit max-h-32 overflow-y-auto",children:[jsxRuntimeExports.jsx("p",{children:"Methods available:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside",children:[jsxRuntimeExports.jsxs(ListItem,{title:"$vm_back(n: number)",children:["advance the tape backwards ",jsxRuntimeExports.jsx("code",{children:"n"})," steps"]}),jsxRuntimeExports.jsxs(ListItem,{title:"$vm_forward(n: number)",children:["advance the tape forwards ",jsxRuntimeExports.jsx("code",{children:"n"})," steps"]})]})]}),jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{children:["The default code example is for the ",jsxRuntimeExports.jsx("code",{children:"even"})," method."]}),jsxRuntimeExports.jsxs("p",{children:["It receives the index of the current ",jsxRuntimeExports.jsx("code",{children:"step"})," (unused), the current ",jsxRuntimeExports.jsx("code",{children:"value"})," and the next ",jsxRuntimeExports.jsx("code",{children:"input"})," from the tape, and returns their sum. If the result is even (divisible by 2), instead of returning it, the function throws an error, describing why the machine is halting."]}),jsxRuntimeExports.jsxs("p",{children:["When throwing an ",jsxRuntimeExports.jsx("b",{children:"error"}),", do it as a ",jsxRuntimeExports.jsx("code",{children:'new Error({ message: "Something went wrong", result: 123 })'}),". The ",jsxRuntimeExports.jsx("code",{children:"result"})," is the would-be next value - which presumably is ",jsxRuntimeExports.jsx("b",{children:"halting"})," the machine"]})]})]})]}),onSubmit:formData=>{const calcName=formData.get("calcName"),calcDescription=formData.get("calcDescription"),calcFunction=formData.get("calcFunction"),calcTip=formData.get("calcTip");console.log({calcName,calcFunction,calcTip});const testParams=[1,2,1];console.log("Testing method with parameters:",testParams);const builtInMethods=getAllUtilityMethods();console.log(builtInMethods);const result=eval(`${builtInMethods}(${calcFunction})(${testParams.join(",")})`);if(typeof result!="number")throw new Error(`Invalid method - result ${result} (type: ${typeof result}) is not a number type`);console.log(`Result: ${result}, accepted`),addCalculation({description:calcDescription,fn:calcFunction,name:calcName,tip:calcTip})}}}),[addCalculation,running,setCalculation]);return dialogForms}function getAllUtilityMethods(){const r=[];return Object.keys(VirtualAction).forEach(e=>{const n=`const $${e} = window.$vm_${e};`;console.log("Method",`$${e} / global:$vm_${e}`,n),r.push(n)}),r.join(`
`)}function DashboardButtons(){const[r,e]=reactExports.useState("set"),n=useDialogForms(),s=useVirtualStore(f=>f.calculation),o=useVirtualStore(f=>f.isRunning),a=reactExports.useRef(null),u=f=>{var d,g;if(!f){(d=a.current)==null||d.close();return}e(f),(g=a.current)==null||g.showModal()};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Dialog,{title:n[r].title,onSubmit:n[r].onSubmit,ref:a,children:jsxRuntimeExports.jsx("div",{className:"flex flex-col",children:n[r].form})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col min-h-0 h-full",children:jsxRuntimeExports.jsx("div",{className:"overflow-y-auto h-full space-x-2",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-rows-1 grid-cols-2 items-center",children:[jsxRuntimeExports.jsx("p",{children:"Current method:"}),jsxRuntimeExports.jsx("button",{className:"w-full",onClick:()=>u("set"),title:"Change method",type:"button",disabled:o,children:s.toString()})]}),jsxRuntimeExports.jsx("button",{className:"inverse",disabled:o,onClick:()=>u("create"),type:"button",children:"Create a new method"})]})})})]})}function OperationsLog(){const r=useVirtualStore(e=>e.logs);return jsxRuntimeExports.jsx("div",{className:"overflow-y-auto h-full border border-t-color5 rounded-md p-2",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col-reverse text-gray-500",children:r.map((e,n)=>jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsxs("b",{children:["#",n+1,":"]})," ",jsxRuntimeExports.jsx("small",{children:e})]},n))})})}function Dashboard(){return jsxRuntimeExports.jsxs("div",{className:"containerBox min-h-0 h-full grid grid-cols-10 gap-2",children:[jsxRuntimeExports.jsx("div",{className:"col-span-3",children:jsxRuntimeExports.jsx(DashboardButtons,{})}),jsxRuntimeExports.jsx("div",{className:"col-span-7 w-full flex flex-col min-h-0 h-full",children:jsxRuntimeExports.jsx(OperationsLog,{})})]})}function Header(){return jsxRuntimeExports.jsxs("div",{className:"containerBox text-center flex flex-col items-center space-x-2 justify-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-2 items-center",children:[jsxRuntimeExports.jsx("small",{}),jsxRuntimeExports.jsx("h1",{className:"inline",children:"Virtual machine"}),jsxRuntimeExports.jsxs("small",{children:["by ",jsxRuntimeExports.jsx("a",{target:"__blank",href:"https://github.com/thavixt/virtual-machine-sim",children:"thavixt@github"})]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("em",{children:jsxRuntimeExports.jsxs("small",{children:["started out as a simplified ",jsxRuntimeExports.jsx("a",{target:"__blank",href:"https://en.wikipedia.org/wiki/Turing_machine",children:"Turing machine"})," - turned out to be something different"]})})})]})}function TapeInput(){const r=useVirtualStore(d=>d.initialInputValue),e=useVirtualStore(d=>d.isRunning),n=useVirtualStore(d=>d.setInitialInputValue),s=useVirtualStore(d=>d.setStepMs),o=useVirtualStore(d=>d.setTapeString),a=useVirtualStore(d=>d.stepMs),u=useVirtualStore(d=>d.tapeString),f=d=>{o(d)};return jsxRuntimeExports.jsxs("div",{className:"containerBox grid grid-rows-1 grid-cols-12 gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-2 col-span-2 items-center",children:[jsxRuntimeExports.jsx("label",{htmlFor:"inputValue",children:"Input:"}),jsxRuntimeExports.jsx("input",{className:"w-full",disabled:e,id:"inputValue",name:"inputValue",onChange:d=>n(Math.max(0,+d.target.value)),type:"number",value:r})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2 col-span-8 items-center",title:"Input a list of numbers separated by spaces, like: '0 1123 0 -1 0 0 4 5'",children:[jsxRuntimeExports.jsx("label",{htmlFor:"inputTape",children:"Tape:"}),jsxRuntimeExports.jsx("input",{className:"w-full",disabled:e,id:"inputTape",name:"inputTape",onChange:d=>f(d.target.value),pattern:"[0-9\\s]+",type:"text",value:u})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-2 col-span-2 items-center",title:"Time it takes for the tape to advance (in ms, default 500 = half a second)",children:[jsxRuntimeExports.jsx("label",{htmlFor:"inputSpeed",children:"Speed:"}),jsxRuntimeExports.jsx("input",{className:"w-full",disabled:e,id:"inputSpeed",name:"inputSpeed",onChange:d=>s(+d.target.value),type:"number",value:a})]})]})}var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var hasRequiredClassnames;function requireClassnames(){return hasRequiredClassnames||(hasRequiredClassnames=1,function(r){(function(){var e={}.hasOwnProperty;function n(){for(var a="",u=0;u<arguments.length;u++){var f=arguments[u];f&&(a=o(a,s(f)))}return a}function s(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var f in a)e.call(a,f)&&a[f]&&(u=o(u,f));return u}function o(a,u){return u?a?a+" "+u:a+u:a}r.exports?(n.default=n,r.exports=n):window.classNames=n})()}(classnames)),classnames.exports}var classnamesExports=requireClassnames();const classNames=getDefaultExportFromCjs(classnamesExports);function StepCounter(){const r=useVirtualStore(s=>s.currentProcess),e=useVirtualStore(s=>s.position),n=r==="halt";return jsxRuntimeExports.jsx("div",{className:classNames("rounded-md flex place-items-center px-2 text-center text-sm",{"bg-red-500 text-gray-100":n}),children:n?jsxRuntimeExports.jsxs("span",{children:["Halted at step: #",e+1]}):jsxRuntimeExports.jsxs("span",{children:["Step: #",e+1]})})}function Tape(){const r=useVirtualStore(n=>n.position),e=useVirtualStore(n=>n.tape);return jsxRuntimeExports.jsx("div",{className:"min-w-0 flex flex-col justify-center w-full",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto overflow-y-hidden",children:jsxRuntimeExports.jsx("div",{className:"flex h-full",children:e.map((n,s)=>jsxRuntimeExports.jsx(TapeValue,{value:n,current:s===r},s))})})})}function TapeValue({current:r,value:e}){const n=reactExports.useRef(null);reactExports.useEffect(()=>{n.current&&r&&n.current.scrollIntoView({behavior:"auto"})},[r]);const s=classNames({"border-t-color3":r,"border-transparent":!r},"border-2 rounded-sm w-fit text-center px-1");return jsxRuntimeExports.jsx("div",{ref:n,className:s,children:e})}async function sleep$1(r=200){return new Promise(e=>setTimeout(e,r))}function VirtualMachine(){const r=useVirtualStore(g=>g.calculate),e=useVirtualStore(g=>g.reset),n=useVirtualStore(g=>g.isRunning),s=useVirtualStore(g=>g.setCurrentProcess),o=useVirtualStore(g=>g.setIsRunning),a=useVirtualStore(g=>g.forward),u=useVirtualStore(g=>g.stepMs),f=async()=>{o(!0),a(),s("input"),await sleep$1(u/2),s("calc"),await sleep$1(u/2);const g=await r();if(g){const m=JSON.parse(g.message);console.warn(`Halted - reason: ${m.reason}`);return}TurningState.isRunning()&&await f()},d=()=>{e(),f()};return jsxRuntimeExports.jsxs("div",{className:"containerBox flex px-2 space-x-2 items-center",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"start",disabled:!!n,onClick:d,children:"Start"}),jsxRuntimeExports.jsx("button",{type:"button",className:"stop",disabled:!n,onClick:VirtualAction.stop,children:"Stop"}),jsxRuntimeExports.jsx(Tape,{}),jsxRuntimeExports.jsx(Value,{}),jsxRuntimeExports.jsx(StepCounter,{})]})}function Value(){const r=useVirtualStore(e=>e.currentValue);return jsxRuntimeExports.jsxs("div",{className:"bg-gray-300 rounded-md px-2 text-center text-sm",children:["Value: ",r]})}function cc(r){if(typeof r=="string"||typeof r=="number")return""+r;let e="";if(Array.isArray(r))for(let n=0,s;n<r.length;n++)(s=cc(r[n]))!==""&&(e+=(e&&" ")+s);else for(let n in r)r[n]&&(e+=(e&&" ")+n);return e}var noop={value:()=>{}};function dispatch(){for(var r=0,e=arguments.length,n={},s;r<e;++r){if(!(s=arguments[r]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new Dispatch(n)}function Dispatch(r){this._=r}function parseTypenames$1(r,e){return r.trim().split(/^|\s+/).map(function(n){var s="",o=n.indexOf(".");if(o>=0&&(s=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(r,e){var n=this._,s=parseTypenames$1(r+"",n),o,a=-1,u=s.length;if(arguments.length<2){for(;++a<u;)if((o=(r=s[a]).type)&&(o=get$1(n[o],r.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<u;)if(o=(r=s[a]).type)n[o]=set$1(n[o],r.name,e);else if(e==null)for(o in n)n[o]=set$1(n[o],r.name,null);return this},copy:function(){var r={},e=this._;for(var n in e)r[n]=e[n].slice();return new Dispatch(r)},call:function(r,e){if((o=arguments.length-2)>0)for(var n=new Array(o),s=0,o,a;s<o;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(a=this._[r],s=0,o=a.length;s<o;++s)a[s].value.apply(e,n)},apply:function(r,e,n){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var s=this._[r],o=0,a=s.length;o<a;++o)s[o].value.apply(e,n)}};function get$1(r,e){for(var n=0,s=r.length,o;n<s;++n)if((o=r[n]).name===e)return o.value}function set$1(r,e,n){for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r[s]=noop,r=r.slice(0,s).concat(r.slice(s+1));break}return n!=null&&r.push({name:e,value:n}),r}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(r){var e=r+="",n=e.indexOf(":");return n>=0&&(e=r.slice(0,n))!=="xmlns"&&(r=r.slice(n+1)),namespaces.hasOwnProperty(e)?{space:namespaces[e],local:r}:r}function creatorInherit(r){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===xhtml&&e.documentElement.namespaceURI===xhtml?e.createElement(r):e.createElementNS(n,r)}}function creatorFixed(r){return function(){return this.ownerDocument.createElementNS(r.space,r.local)}}function creator(r){var e=namespace(r);return(e.local?creatorFixed:creatorInherit)(e)}function none(){}function selector(r){return r==null?none:function(){return this.querySelector(r)}}function selection_select(r){typeof r!="function"&&(r=selector(r));for(var e=this._groups,n=e.length,s=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,f=s[o]=new Array(u),d,g,m=0;m<u;++m)(d=a[m])&&(g=r.call(d,d.__data__,m,a))&&("__data__"in d&&(g.__data__=d.__data__),f[m]=g);return new Selection$1(s,this._parents)}function array(r){return r==null?[]:Array.isArray(r)?r:Array.from(r)}function empty(){return[]}function selectorAll(r){return r==null?empty:function(){return this.querySelectorAll(r)}}function arrayAll(r){return function(){return array(r.apply(this,arguments))}}function selection_selectAll(r){typeof r=="function"?r=arrayAll(r):r=selectorAll(r);for(var e=this._groups,n=e.length,s=[],o=[],a=0;a<n;++a)for(var u=e[a],f=u.length,d,g=0;g<f;++g)(d=u[g])&&(s.push(r.call(d,d.__data__,g,u)),o.push(d));return new Selection$1(s,o)}function matcher(r){return function(){return this.matches(r)}}function childMatcher(r){return function(e){return e.matches(r)}}var find=Array.prototype.find;function childFind(r){return function(){return find.call(this.children,r)}}function childFirst(){return this.firstElementChild}function selection_selectChild(r){return this.select(r==null?childFirst:childFind(typeof r=="function"?r:childMatcher(r)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(r){return function(){return filter.call(this.children,r)}}function selection_selectChildren(r){return this.selectAll(r==null?children:childrenFilter(typeof r=="function"?r:childMatcher(r)))}function selection_filter(r){typeof r!="function"&&(r=matcher(r));for(var e=this._groups,n=e.length,s=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,f=s[o]=[],d,g=0;g<u;++g)(d=a[g])&&r.call(d,d.__data__,g,a)&&f.push(d);return new Selection$1(s,this._parents)}function sparse(r){return new Array(r.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(r,e){this.ownerDocument=r.ownerDocument,this.namespaceURI=r.namespaceURI,this._next=null,this._parent=r,this.__data__=e}EnterNode.prototype={constructor:EnterNode,appendChild:function(r){return this._parent.insertBefore(r,this._next)},insertBefore:function(r,e){return this._parent.insertBefore(r,e)},querySelector:function(r){return this._parent.querySelector(r)},querySelectorAll:function(r){return this._parent.querySelectorAll(r)}};function constant$3(r){return function(){return r}}function bindIndex(r,e,n,s,o,a){for(var u=0,f,d=e.length,g=a.length;u<g;++u)(f=e[u])?(f.__data__=a[u],s[u]=f):n[u]=new EnterNode(r,a[u]);for(;u<d;++u)(f=e[u])&&(o[u]=f)}function bindKey(r,e,n,s,o,a,u){var f,d,g=new Map,m=e.length,O=a.length,x=new Array(m),b;for(f=0;f<m;++f)(d=e[f])&&(x[f]=b=u.call(d,d.__data__,f,e)+"",g.has(b)?o[f]=d:g.set(b,d));for(f=0;f<O;++f)b=u.call(r,a[f],f,a)+"",(d=g.get(b))?(s[f]=d,d.__data__=a[f],g.delete(b)):n[f]=new EnterNode(r,a[f]);for(f=0;f<m;++f)(d=e[f])&&g.get(x[f])===d&&(o[f]=d)}function datum(r){return r.__data__}function selection_data(r,e){if(!arguments.length)return Array.from(this,datum);var n=e?bindKey:bindIndex,s=this._parents,o=this._groups;typeof r!="function"&&(r=constant$3(r));for(var a=o.length,u=new Array(a),f=new Array(a),d=new Array(a),g=0;g<a;++g){var m=s[g],O=o[g],x=O.length,b=arraylike(r.call(m,m&&m.__data__,g,s)),w=b.length,E=f[g]=new Array(w),k=u[g]=new Array(w),Q=d[g]=new Array(x);n(m,O,E,k,Q,b,e);for(var A=0,M=0,$,_;A<w;++A)if($=E[A]){for(A>=M&&(M=A+1);!(_=k[M])&&++M<w;);$._next=_||null}}return u=new Selection$1(u,s),u._enter=f,u._exit=d,u}function arraylike(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(r,e,n){var s=this.enter(),o=this,a=this.exit();return typeof r=="function"?(s=r(s),s&&(s=s.selection())):s=s.append(r+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?a.remove():n(a),s&&o?s.merge(o).order():o}function selection_merge(r){for(var e=r.selection?r.selection():r,n=this._groups,s=e._groups,o=n.length,a=s.length,u=Math.min(o,a),f=new Array(o),d=0;d<u;++d)for(var g=n[d],m=s[d],O=g.length,x=f[d]=new Array(O),b,w=0;w<O;++w)(b=g[w]||m[w])&&(x[w]=b);for(;d<o;++d)f[d]=n[d];return new Selection$1(f,this._parents)}function selection_order(){for(var r=this._groups,e=-1,n=r.length;++e<n;)for(var s=r[e],o=s.length-1,a=s[o],u;--o>=0;)(u=s[o])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function selection_sort(r){r||(r=ascending);function e(O,x){return O&&x?r(O.__data__,x.__data__):!O-!x}for(var n=this._groups,s=n.length,o=new Array(s),a=0;a<s;++a){for(var u=n[a],f=u.length,d=o[a]=new Array(f),g,m=0;m<f;++m)(g=u[m])&&(d[m]=g);d.sort(e)}return new Selection$1(o,this._parents).order()}function ascending(r,e){return r<e?-1:r>e?1:r>=e?0:NaN}function selection_call(){var r=arguments[0];return arguments[0]=this,r.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var r=this._groups,e=0,n=r.length;e<n;++e)for(var s=r[e],o=0,a=s.length;o<a;++o){var u=s[o];if(u)return u}return null}function selection_size(){let r=0;for(const e of this)++r;return r}function selection_empty(){return!this.node()}function selection_each(r){for(var e=this._groups,n=0,s=e.length;n<s;++n)for(var o=e[n],a=0,u=o.length,f;a<u;++a)(f=o[a])&&r.call(f,f.__data__,a,o);return this}function attrRemove$1(r){return function(){this.removeAttribute(r)}}function attrRemoveNS$1(r){return function(){this.removeAttributeNS(r.space,r.local)}}function attrConstant$1(r,e){return function(){this.setAttribute(r,e)}}function attrConstantNS$1(r,e){return function(){this.setAttributeNS(r.space,r.local,e)}}function attrFunction$1(r,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(r):this.setAttribute(r,n)}}function attrFunctionNS$1(r,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,n)}}function selection_attr(r,e){var n=namespace(r);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((e==null?n.local?attrRemoveNS$1:attrRemove$1:typeof e=="function"?n.local?attrFunctionNS$1:attrFunction$1:n.local?attrConstantNS$1:attrConstant$1)(n,e))}function defaultView(r){return r.ownerDocument&&r.ownerDocument.defaultView||r.document&&r||r.defaultView}function styleRemove$1(r){return function(){this.style.removeProperty(r)}}function styleConstant$1(r,e,n){return function(){this.style.setProperty(r,e,n)}}function styleFunction$1(r,e,n){return function(){var s=e.apply(this,arguments);s==null?this.style.removeProperty(r):this.style.setProperty(r,s,n)}}function selection_style(r,e,n){return arguments.length>1?this.each((e==null?styleRemove$1:typeof e=="function"?styleFunction$1:styleConstant$1)(r,e,n??"")):styleValue(this.node(),r)}function styleValue(r,e){return r.style.getPropertyValue(e)||defaultView(r).getComputedStyle(r,null).getPropertyValue(e)}function propertyRemove(r){return function(){delete this[r]}}function propertyConstant(r,e){return function(){this[r]=e}}function propertyFunction(r,e){return function(){var n=e.apply(this,arguments);n==null?delete this[r]:this[r]=n}}function selection_property(r,e){return arguments.length>1?this.each((e==null?propertyRemove:typeof e=="function"?propertyFunction:propertyConstant)(r,e)):this.node()[r]}function classArray(r){return r.trim().split(/^|\s+/)}function classList(r){return r.classList||new ClassList(r)}function ClassList(r){this._node=r,this._names=classArray(r.getAttribute("class")||"")}ClassList.prototype={add:function(r){var e=this._names.indexOf(r);e<0&&(this._names.push(r),this._node.setAttribute("class",this._names.join(" ")))},remove:function(r){var e=this._names.indexOf(r);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(r){return this._names.indexOf(r)>=0}};function classedAdd(r,e){for(var n=classList(r),s=-1,o=e.length;++s<o;)n.add(e[s])}function classedRemove(r,e){for(var n=classList(r),s=-1,o=e.length;++s<o;)n.remove(e[s])}function classedTrue(r){return function(){classedAdd(this,r)}}function classedFalse(r){return function(){classedRemove(this,r)}}function classedFunction(r,e){return function(){(e.apply(this,arguments)?classedAdd:classedRemove)(this,r)}}function selection_classed(r,e){var n=classArray(r+"");if(arguments.length<2){for(var s=classList(this.node()),o=-1,a=n.length;++o<a;)if(!s.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?classedFunction:e?classedTrue:classedFalse)(n,e))}function textRemove(){this.textContent=""}function textConstant$1(r){return function(){this.textContent=r}}function textFunction$1(r){return function(){var e=r.apply(this,arguments);this.textContent=e??""}}function selection_text(r){return arguments.length?this.each(r==null?textRemove:(typeof r=="function"?textFunction$1:textConstant$1)(r)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(r){return function(){this.innerHTML=r}}function htmlFunction(r){return function(){var e=r.apply(this,arguments);this.innerHTML=e??""}}function selection_html(r){return arguments.length?this.each(r==null?htmlRemove:(typeof r=="function"?htmlFunction:htmlConstant)(r)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(r){var e=typeof r=="function"?r:creator(r);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function constantNull(){return null}function selection_insert(r,e){var n=typeof r=="function"?r:creator(r),s=e==null?constantNull:typeof e=="function"?e:selector(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function remove(){var r=this.parentNode;r&&r.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var r=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(r,this.nextSibling):r}function selection_cloneDeep(){var r=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(r,this.nextSibling):r}function selection_clone(r){return this.select(r?selection_cloneDeep:selection_cloneShallow)}function selection_datum(r){return arguments.length?this.property("__data__",r):this.node().__data__}function contextListener(r){return function(e){r.call(this,e,this.__data__)}}function parseTypenames(r){return r.trim().split(/^|\s+/).map(function(e){var n="",s=e.indexOf(".");return s>=0&&(n=e.slice(s+1),e=e.slice(0,s)),{type:e,name:n}})}function onRemove(r){return function(){var e=this.__on;if(e){for(var n=0,s=-1,o=e.length,a;n<o;++n)a=e[n],(!r.type||a.type===r.type)&&a.name===r.name?this.removeEventListener(a.type,a.listener,a.options):e[++s]=a;++s?e.length=s:delete this.__on}}}function onAdd(r,e,n){return function(){var s=this.__on,o,a=contextListener(e);if(s){for(var u=0,f=s.length;u<f;++u)if((o=s[u]).type===r.type&&o.name===r.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=e;return}}this.addEventListener(r.type,a,n),o={type:r.type,name:r.name,value:e,listener:a,options:n},s?s.push(o):this.__on=[o]}}function selection_on(r,e,n){var s=parseTypenames(r+""),o,a=s.length,u;if(arguments.length<2){var f=this.node().__on;if(f){for(var d=0,g=f.length,m;d<g;++d)for(o=0,m=f[d];o<a;++o)if((u=s[o]).type===m.type&&u.name===m.name)return m.value}return}for(f=e?onAdd:onRemove,o=0;o<a;++o)this.each(f(s[o],e,n));return this}function dispatchEvent(r,e,n){var s=defaultView(r),o=s.CustomEvent;typeof o=="function"?o=new o(e,n):(o=s.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),r.dispatchEvent(o)}function dispatchConstant(r,e){return function(){return dispatchEvent(this,r,e)}}function dispatchFunction(r,e){return function(){return dispatchEvent(this,r,e.apply(this,arguments))}}function selection_dispatch(r,e){return this.each((typeof e=="function"?dispatchFunction:dispatchConstant)(r,e))}function*selection_iterator(){for(var r=this._groups,e=0,n=r.length;e<n;++e)for(var s=r[e],o=0,a=s.length,u;o<a;++o)(u=s[o])&&(yield u)}var root=[null];function Selection$1(r,e){this._groups=r,this._parents=e}function selection(){return new Selection$1([[document.documentElement]],root)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(r){return typeof r=="string"?new Selection$1([[document.querySelector(r)]],[document.documentElement]):new Selection$1([[r]],root)}function sourceEvent(r){let e;for(;e=r.sourceEvent;)r=e;return r}function pointer(r,e){if(r=sourceEvent(r),e===void 0&&(e=r.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var s=n.createSVGPoint();return s.x=r.clientX,s.y=r.clientY,s=s.matrixTransform(e.getScreenCTM().inverse()),[s.x,s.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[r.clientX-o.left-e.clientLeft,r.clientY-o.top-e.clientTop]}}return[r.pageX,r.pageY]}const nonpassive={passive:!1},nonpassivecapture={capture:!0,passive:!1};function nopropagation$1(r){r.stopImmediatePropagation()}function noevent$1(r){r.preventDefault(),r.stopImmediatePropagation()}function dragDisable(r){var e=r.document.documentElement,n=select(r).on("dragstart.drag",noevent$1,nonpassivecapture);"onselectstart"in e?n.on("selectstart.drag",noevent$1,nonpassivecapture):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function yesdrag(r,e){var n=r.document.documentElement,s=select(r).on("dragstart.drag",null);e&&(s.on("click.drag",noevent$1,nonpassivecapture),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const constant$2=r=>()=>r;function DragEvent(r,{sourceEvent:e,subject:n,target:s,identifier:o,active:a,x:u,y:f,dx:d,dy:g,dispatch:m}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:f,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:m}})}DragEvent.prototype.on=function(){var r=this._.on.apply(this._,arguments);return r===this._?this:r};function defaultFilter$1(r){return!r.ctrlKey&&!r.button}function defaultContainer(){return this.parentNode}function defaultSubject(r,e){return e??{x:r.x,y:r.y}}function defaultTouchable$1(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var r=defaultFilter$1,e=defaultContainer,n=defaultSubject,s=defaultTouchable$1,o={},a=dispatch("start","drag","end"),u=0,f,d,g,m,O=0;function x($){$.on("mousedown.drag",b).filter(s).on("touchstart.drag",k).on("touchmove.drag",Q,nonpassive).on("touchend.drag touchcancel.drag",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b($,_){if(!(m||!r.call(this,$,_))){var j=M(this,e.call(this,$,_),$,_,"mouse");j&&(select($.view).on("mousemove.drag",w,nonpassivecapture).on("mouseup.drag",E,nonpassivecapture),dragDisable($.view),nopropagation$1($),g=!1,f=$.clientX,d=$.clientY,j("start",$))}}function w($){if(noevent$1($),!g){var _=$.clientX-f,j=$.clientY-d;g=_*_+j*j>O}o.mouse("drag",$)}function E($){select($.view).on("mousemove.drag mouseup.drag",null),yesdrag($.view,g),noevent$1($),o.mouse("end",$)}function k($,_){if(r.call(this,$,_)){var j=$.changedTouches,Z=e.call(this,$,_),W=j.length,B,H;for(B=0;B<W;++B)(H=M(this,Z,$,_,j[B].identifier,j[B]))&&(nopropagation$1($),H("start",$,j[B]))}}function Q($){var _=$.changedTouches,j=_.length,Z,W;for(Z=0;Z<j;++Z)(W=o[_[Z].identifier])&&(noevent$1($),W("drag",$,_[Z]))}function A($){var _=$.changedTouches,j=_.length,Z,W;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),Z=0;Z<j;++Z)(W=o[_[Z].identifier])&&(nopropagation$1($),W("end",$,_[Z]))}function M($,_,j,Z,W,B){var H=a.copy(),ee=pointer(B||j,_),I,J,D;if((D=n.call($,new DragEvent("beforestart",{sourceEvent:j,target:x,identifier:W,active:u,x:ee[0],y:ee[1],dx:0,dy:0,dispatch:H}),Z))!=null)return I=D.x-ee[0]||0,J=D.y-ee[1]||0,function q(P,V,L){var z=ee,R;switch(P){case"start":o[W]=q,R=u++;break;case"end":delete o[W],--u;case"drag":ee=pointer(L||V,_),R=u;break}H.call(P,$,new DragEvent(P,{sourceEvent:V,subject:D,target:x,identifier:W,active:R,x:ee[0]+I,y:ee[1]+J,dx:ee[0]-z[0],dy:ee[1]-z[1],dispatch:H}),Z)}}return x.filter=function($){return arguments.length?(r=typeof $=="function"?$:constant$2(!!$),x):r},x.container=function($){return arguments.length?(e=typeof $=="function"?$:constant$2($),x):e},x.subject=function($){return arguments.length?(n=typeof $=="function"?$:constant$2($),x):n},x.touchable=function($){return arguments.length?(s=typeof $=="function"?$:constant$2(!!$),x):s},x.on=function(){var $=a.on.apply(a,arguments);return $===a?x:$},x.clickDistance=function($){return arguments.length?(O=($=+$)*$,x):Math.sqrt(O)},x}function define(r,e,n){r.prototype=e.prototype=n,n.constructor=r}function extend(r,e){var n=Object.create(r.prototype);for(var s in e)n[s]=e[s];return n}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(r){var e,n;return r=(r+"").trim().toLowerCase(),(e=reHex.exec(r))?(n=e[1].length,e=parseInt(e[1],16),n===6?rgbn(e):n===3?new Rgb(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?rgba(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?rgba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=reRgbInteger.exec(r))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(r))?new Rgb(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=reRgbaInteger.exec(r))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(r))?rgba(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=reHslPercent.exec(r))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(r))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named.hasOwnProperty(r)?rgbn(named[r]):r==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(r){return new Rgb(r>>16&255,r>>8&255,r&255,1)}function rgba(r,e,n,s){return s<=0&&(r=e=n=NaN),new Rgb(r,e,n,s)}function rgbConvert(r){return r instanceof Color||(r=color(r)),r?(r=r.rgb(),new Rgb(r.r,r.g,r.b,r.opacity)):new Rgb}function rgb(r,e,n,s){return arguments.length===1?rgbConvert(r):new Rgb(r,e,n,s??1)}function Rgb(r,e,n,s){this.r=+r,this.g=+e,this.b=+n,this.opacity=+s}define(Rgb,rgb,extend(Color,{brighter(r){return r=r==null?brighter:Math.pow(brighter,r),new Rgb(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?darker:Math.pow(darker,r),new Rgb(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const r=clampa(this.opacity);return`${r===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${r===1?")":`, ${r})`}`}function clampa(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function clampi(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function hex(r){return r=clampi(r),(r<16?"0":"")+r.toString(16)}function hsla(r,e,n,s){return s<=0?r=e=n=NaN:n<=0||n>=1?r=e=NaN:e<=0&&(r=NaN),new Hsl(r,e,n,s)}function hslConvert(r){if(r instanceof Hsl)return new Hsl(r.h,r.s,r.l,r.opacity);if(r instanceof Color||(r=color(r)),!r)return new Hsl;if(r instanceof Hsl)return r;r=r.rgb();var e=r.r/255,n=r.g/255,s=r.b/255,o=Math.min(e,n,s),a=Math.max(e,n,s),u=NaN,f=a-o,d=(a+o)/2;return f?(e===a?u=(n-s)/f+(n<s)*6:n===a?u=(s-e)/f+2:u=(e-n)/f+4,f/=d<.5?a+o:2-a-o,u*=60):f=d>0&&d<1?0:u,new Hsl(u,f,d,r.opacity)}function hsl(r,e,n,s){return arguments.length===1?hslConvert(r):new Hsl(r,e,n,s??1)}function Hsl(r,e,n,s){this.h=+r,this.s=+e,this.l=+n,this.opacity=+s}define(Hsl,hsl,extend(Color,{brighter(r){return r=r==null?brighter:Math.pow(brighter,r),new Hsl(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?darker:Math.pow(darker,r),new Hsl(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*e,o=2*n-s;return new Rgb(hsl2rgb(r>=240?r-240:r+120,o,s),hsl2rgb(r,o,s),hsl2rgb(r<120?r+240:r-120,o,s),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const r=clampa(this.opacity);return`${r===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${r===1?")":`, ${r})`}`}}));function clamph(r){return r=(r||0)%360,r<0?r+360:r}function clampt(r){return Math.max(0,Math.min(1,r||0))}function hsl2rgb(r,e,n){return(r<60?e+(n-e)*r/60:r<180?n:r<240?e+(n-e)*(240-r)/60:e)*255}const constant$1=r=>()=>r;function linear(r,e){return function(n){return r+n*e}}function exponential(r,e,n){return r=Math.pow(r,n),e=Math.pow(e,n)-r,n=1/n,function(s){return Math.pow(r+s*e,n)}}function gamma(r){return(r=+r)==1?nogamma:function(e,n){return n-e?exponential(e,n,r):constant$1(isNaN(e)?n:e)}}function nogamma(r,e){var n=e-r;return n?linear(r,n):constant$1(isNaN(r)?e:r)}const interpolateRgb=function r(e){var n=gamma(e);function s(o,a){var u=n((o=rgb(o)).r,(a=rgb(a)).r),f=n(o.g,a.g),d=n(o.b,a.b),g=nogamma(o.opacity,a.opacity);return function(m){return o.r=u(m),o.g=f(m),o.b=d(m),o.opacity=g(m),o+""}}return s.gamma=r,s}(1);function interpolateNumber(r,e){return r=+r,e=+e,function(n){return r*(1-n)+e*n}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(r){return function(){return r}}function one(r){return function(e){return r(e)+""}}function interpolateString(r,e){var n=reA.lastIndex=reB.lastIndex=0,s,o,a,u=-1,f=[],d=[];for(r=r+"",e=e+"";(s=reA.exec(r))&&(o=reB.exec(e));)(a=o.index)>n&&(a=e.slice(n,a),f[u]?f[u]+=a:f[++u]=a),(s=s[0])===(o=o[0])?f[u]?f[u]+=o:f[++u]=o:(f[++u]=null,d.push({i:u,x:interpolateNumber(s,o)})),n=reB.lastIndex;return n<e.length&&(a=e.slice(n),f[u]?f[u]+=a:f[++u]=a),f.length<2?d[0]?one(d[0].x):zero(e):(e=d.length,function(g){for(var m=0,O;m<e;++m)f[(O=d[m]).i]=O.x(g);return f.join("")})}var degrees=180/Math.PI,identity$2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(r,e,n,s,o,a){var u,f,d;return(u=Math.sqrt(r*r+e*e))&&(r/=u,e/=u),(d=r*n+e*s)&&(n-=r*d,s-=e*d),(f=Math.sqrt(n*n+s*s))&&(n/=f,s/=f,d/=f),r*s<e*n&&(r=-r,e=-e,d=-d,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(e,r)*degrees,skewX:Math.atan(d)*degrees,scaleX:u,scaleY:f}}var svgNode;function parseCss(r){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(r+"");return e.isIdentity?identity$2:decompose(e.a,e.b,e.c,e.d,e.e,e.f)}function parseSvg(r){return r==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",r),!(r=svgNode.transform.baseVal.consolidate()))?identity$2:(r=r.matrix,decompose(r.a,r.b,r.c,r.d,r.e,r.f))}function interpolateTransform(r,e,n,s){function o(g){return g.length?g.pop()+" ":""}function a(g,m,O,x,b,w){if(g!==O||m!==x){var E=b.push("translate(",null,e,null,n);w.push({i:E-4,x:interpolateNumber(g,O)},{i:E-2,x:interpolateNumber(m,x)})}else(O||x)&&b.push("translate("+O+e+x+n)}function u(g,m,O,x){g!==m?(g-m>180?m+=360:m-g>180&&(g+=360),x.push({i:O.push(o(O)+"rotate(",null,s)-2,x:interpolateNumber(g,m)})):m&&O.push(o(O)+"rotate("+m+s)}function f(g,m,O,x){g!==m?x.push({i:O.push(o(O)+"skewX(",null,s)-2,x:interpolateNumber(g,m)}):m&&O.push(o(O)+"skewX("+m+s)}function d(g,m,O,x,b,w){if(g!==O||m!==x){var E=b.push(o(b)+"scale(",null,",",null,")");w.push({i:E-4,x:interpolateNumber(g,O)},{i:E-2,x:interpolateNumber(m,x)})}else(O!==1||x!==1)&&b.push(o(b)+"scale("+O+","+x+")")}return function(g,m){var O=[],x=[];return g=r(g),m=r(m),a(g.translateX,g.translateY,m.translateX,m.translateY,O,x),u(g.rotate,m.rotate,O,x),f(g.skewX,m.skewX,O,x),d(g.scaleX,g.scaleY,m.scaleX,m.scaleY,O,x),g=m=null,function(b){for(var w=-1,E=x.length,k;++w<E;)O[(k=x[w]).i]=k.x(b);return O.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),epsilon2=1e-12;function cosh(r){return((r=Math.exp(r))+1/r)/2}function sinh(r){return((r=Math.exp(r))-1/r)/2}function tanh(r){return((r=Math.exp(2*r))-1)/(r+1)}const interpolateZoom=function r(e,n,s){function o(a,u){var f=a[0],d=a[1],g=a[2],m=u[0],O=u[1],x=u[2],b=m-f,w=O-d,E=b*b+w*w,k,Q;if(E<epsilon2)Q=Math.log(x/g)/e,k=function(Z){return[f+Z*b,d+Z*w,g*Math.exp(e*Z*Q)]};else{var A=Math.sqrt(E),M=(x*x-g*g+s*E)/(2*g*n*A),$=(x*x-g*g-s*E)/(2*x*n*A),_=Math.log(Math.sqrt(M*M+1)-M),j=Math.log(Math.sqrt($*$+1)-$);Q=(j-_)/e,k=function(Z){var W=Z*Q,B=cosh(_),H=g/(n*A)*(B*tanh(e*W+_)-sinh(_));return[f+H*b,d+H*w,g*B/cosh(e*W+_)]}}return k.duration=Q*1e3*e/Math.SQRT2,k}return o.rho=function(a){var u=Math.max(.001,+a),f=u*u,d=f*f;return r(u,f,d)},o}(Math.SQRT2,2,4);var frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(r,e,n){if(typeof r!="function")throw new TypeError("callback is not a function");n=(n==null?now():+n)+(e==null?0:+e),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=r,this._time=n,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(r,e,n){var s=new Timer;return s.restart(r,e,n),s}function timerFlush(){now(),++frame;for(var r=taskHead,e;r;)(e=clockNow-r._time)>=0&&r._call.call(void 0,e),r=r._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var r=clock.now(),e=r-clockLast;e>pokeDelay&&(clockSkew-=e,clockLast=r)}function nap(){for(var r,e=taskHead,n,s=1/0;e;)e._call?(s>e._time&&(s=e._time),r=e,e=e._next):(n=e._next,e._next=null,e=r?r._next=n:taskHead=n);taskTail=r,sleep(s)}function sleep(r){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var e=r-clockNow;e>24?(r<1/0&&(timeout$1=setTimeout(wake,r-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(r,e,n){var s=new Timer;return e=e==null?0:+e,s.restart(o=>{s.stop(),r(o+e)},e,n),s}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(r,e,n,s,o,a){var u=r.__transition;if(!u)r.__transition={};else if(n in u)return;create(r,n,{name:e,index:s,group:o,on:emptyOn,tween:emptyTween,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:CREATED})}function init(r,e){var n=get(r,e);if(n.state>CREATED)throw new Error("too late; already scheduled");return n}function set(r,e){var n=get(r,e);if(n.state>STARTED)throw new Error("too late; already running");return n}function get(r,e){var n=r.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function create(r,e,n){var s=r.__transition,o;s[e]=n,n.timer=timer(a,0,n.time);function a(g){n.state=SCHEDULED,n.timer.restart(u,n.delay,n.time),n.delay<=g&&u(g-n.delay)}function u(g){var m,O,x,b;if(n.state!==SCHEDULED)return d();for(m in s)if(b=s[m],b.name===n.name){if(b.state===STARTED)return timeout(u);b.state===RUNNING?(b.state=ENDED,b.timer.stop(),b.on.call("interrupt",r,r.__data__,b.index,b.group),delete s[m]):+m<e&&(b.state=ENDED,b.timer.stop(),b.on.call("cancel",r,r.__data__,b.index,b.group),delete s[m])}if(timeout(function(){n.state===STARTED&&(n.state=RUNNING,n.timer.restart(f,n.delay,n.time),f(g))}),n.state=STARTING,n.on.call("start",r,r.__data__,n.index,n.group),n.state===STARTING){for(n.state=STARTED,o=new Array(x=n.tween.length),m=0,O=-1;m<x;++m)(b=n.tween[m].value.call(r,r.__data__,n.index,n.group))&&(o[++O]=b);o.length=O+1}}function f(g){for(var m=g<n.duration?n.ease.call(null,g/n.duration):(n.timer.restart(d),n.state=ENDING,1),O=-1,x=o.length;++O<x;)o[O].call(r,m);n.state===ENDING&&(n.on.call("end",r,r.__data__,n.index,n.group),d())}function d(){n.state=ENDED,n.timer.stop(),delete s[e];for(var g in s)return;delete r.__transition}}function interrupt(r,e){var n=r.__transition,s,o,a=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((s=n[u]).name!==e){a=!1;continue}o=s.state>STARTING&&s.state<ENDING,s.state=ENDED,s.timer.stop(),s.on.call(o?"interrupt":"cancel",r,r.__data__,s.index,s.group),delete n[u]}a&&delete r.__transition}}function selection_interrupt(r){return this.each(function(){interrupt(this,r)})}function tweenRemove(r,e){var n,s;return function(){var o=set(this,r),a=o.tween;if(a!==n){s=n=a;for(var u=0,f=s.length;u<f;++u)if(s[u].name===e){s=s.slice(),s.splice(u,1);break}}o.tween=s}}function tweenFunction(r,e,n){var s,o;if(typeof n!="function")throw new Error;return function(){var a=set(this,r),u=a.tween;if(u!==s){o=(s=u).slice();for(var f={name:e,value:n},d=0,g=o.length;d<g;++d)if(o[d].name===e){o[d]=f;break}d===g&&o.push(f)}a.tween=o}}function transition_tween(r,e){var n=this._id;if(r+="",arguments.length<2){for(var s=get(this.node(),n).tween,o=0,a=s.length,u;o<a;++o)if((u=s[o]).name===r)return u.value;return null}return this.each((e==null?tweenRemove:tweenFunction)(n,r,e))}function tweenValue(r,e,n){var s=r._id;return r.each(function(){var o=set(this,s);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return get(o,s).value[e]}}function interpolate(r,e){var n;return(typeof e=="number"?interpolateNumber:e instanceof color?interpolateRgb:(n=color(e))?(e=n,interpolateRgb):interpolateString)(r,e)}function attrRemove(r){return function(){this.removeAttribute(r)}}function attrRemoveNS(r){return function(){this.removeAttributeNS(r.space,r.local)}}function attrConstant(r,e,n){var s,o=n+"",a;return function(){var u=this.getAttribute(r);return u===o?null:u===s?a:a=e(s=u,n)}}function attrConstantNS(r,e,n){var s,o=n+"",a;return function(){var u=this.getAttributeNS(r.space,r.local);return u===o?null:u===s?a:a=e(s=u,n)}}function attrFunction(r,e,n){var s,o,a;return function(){var u,f=n(this),d;return f==null?void this.removeAttribute(r):(u=this.getAttribute(r),d=f+"",u===d?null:u===s&&d===o?a:(o=d,a=e(s=u,f)))}}function attrFunctionNS(r,e,n){var s,o,a;return function(){var u,f=n(this),d;return f==null?void this.removeAttributeNS(r.space,r.local):(u=this.getAttributeNS(r.space,r.local),d=f+"",u===d?null:u===s&&d===o?a:(o=d,a=e(s=u,f)))}}function transition_attr(r,e){var n=namespace(r),s=n==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(r,typeof e=="function"?(n.local?attrFunctionNS:attrFunction)(n,s,tweenValue(this,"attr."+r,e)):e==null?(n.local?attrRemoveNS:attrRemove)(n):(n.local?attrConstantNS:attrConstant)(n,s,e))}function attrInterpolate(r,e){return function(n){this.setAttribute(r,e.call(this,n))}}function attrInterpolateNS(r,e){return function(n){this.setAttributeNS(r.space,r.local,e.call(this,n))}}function attrTweenNS(r,e){var n,s;function o(){var a=e.apply(this,arguments);return a!==s&&(n=(s=a)&&attrInterpolateNS(r,a)),n}return o._value=e,o}function attrTween(r,e){var n,s;function o(){var a=e.apply(this,arguments);return a!==s&&(n=(s=a)&&attrInterpolate(r,a)),n}return o._value=e,o}function transition_attrTween(r,e){var n="attr."+r;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var s=namespace(r);return this.tween(n,(s.local?attrTweenNS:attrTween)(s,e))}function delayFunction(r,e){return function(){init(this,r).delay=+e.apply(this,arguments)}}function delayConstant(r,e){return e=+e,function(){init(this,r).delay=e}}function transition_delay(r){var e=this._id;return arguments.length?this.each((typeof r=="function"?delayFunction:delayConstant)(e,r)):get(this.node(),e).delay}function durationFunction(r,e){return function(){set(this,r).duration=+e.apply(this,arguments)}}function durationConstant(r,e){return e=+e,function(){set(this,r).duration=e}}function transition_duration(r){var e=this._id;return arguments.length?this.each((typeof r=="function"?durationFunction:durationConstant)(e,r)):get(this.node(),e).duration}function easeConstant(r,e){if(typeof e!="function")throw new Error;return function(){set(this,r).ease=e}}function transition_ease(r){var e=this._id;return arguments.length?this.each(easeConstant(e,r)):get(this.node(),e).ease}function easeVarying(r,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;set(this,r).ease=n}}function transition_easeVarying(r){if(typeof r!="function")throw new Error;return this.each(easeVarying(this._id,r))}function transition_filter(r){typeof r!="function"&&(r=matcher(r));for(var e=this._groups,n=e.length,s=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,f=s[o]=[],d,g=0;g<u;++g)(d=a[g])&&r.call(d,d.__data__,g,a)&&f.push(d);return new Transition(s,this._parents,this._name,this._id)}function transition_merge(r){if(r._id!==this._id)throw new Error;for(var e=this._groups,n=r._groups,s=e.length,o=n.length,a=Math.min(s,o),u=new Array(s),f=0;f<a;++f)for(var d=e[f],g=n[f],m=d.length,O=u[f]=new Array(m),x,b=0;b<m;++b)(x=d[b]||g[b])&&(O[b]=x);for(;f<s;++f)u[f]=e[f];return new Transition(u,this._parents,this._name,this._id)}function start(r){return(r+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function onFunction(r,e,n){var s,o,a=start(e)?init:set;return function(){var u=a(this,r),f=u.on;f!==s&&(o=(s=f).copy()).on(e,n),u.on=o}}function transition_on(r,e){var n=this._id;return arguments.length<2?get(this.node(),n).on.on(r):this.each(onFunction(n,r,e))}function removeFunction(r){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==r)return;e&&e.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(r){var e=this._name,n=this._id;typeof r!="function"&&(r=selector(r));for(var s=this._groups,o=s.length,a=new Array(o),u=0;u<o;++u)for(var f=s[u],d=f.length,g=a[u]=new Array(d),m,O,x=0;x<d;++x)(m=f[x])&&(O=r.call(m,m.__data__,x,f))&&("__data__"in m&&(O.__data__=m.__data__),g[x]=O,schedule(g[x],e,n,x,g,get(m,n)));return new Transition(a,this._parents,e,n)}function transition_selectAll(r){var e=this._name,n=this._id;typeof r!="function"&&(r=selectorAll(r));for(var s=this._groups,o=s.length,a=[],u=[],f=0;f<o;++f)for(var d=s[f],g=d.length,m,O=0;O<g;++O)if(m=d[O]){for(var x=r.call(m,m.__data__,O,d),b,w=get(m,n),E=0,k=x.length;E<k;++E)(b=x[E])&&schedule(b,e,n,E,x,w);a.push(x),u.push(m)}return new Transition(a,u,e,n)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(r,e){var n,s,o;return function(){var a=styleValue(this,r),u=(this.style.removeProperty(r),styleValue(this,r));return a===u?null:a===n&&u===s?o:o=e(n=a,s=u)}}function styleRemove(r){return function(){this.style.removeProperty(r)}}function styleConstant(r,e,n){var s,o=n+"",a;return function(){var u=styleValue(this,r);return u===o?null:u===s?a:a=e(s=u,n)}}function styleFunction(r,e,n){var s,o,a;return function(){var u=styleValue(this,r),f=n(this),d=f+"";return f==null&&(d=f=(this.style.removeProperty(r),styleValue(this,r))),u===d?null:u===s&&d===o?a:(o=d,a=e(s=u,f))}}function styleMaybeRemove(r,e){var n,s,o,a="style."+e,u="end."+a,f;return function(){var d=set(this,r),g=d.on,m=d.value[a]==null?f||(f=styleRemove(e)):void 0;(g!==n||o!==m)&&(s=(n=g).copy()).on(u,o=m),d.on=s}}function transition_style(r,e,n){var s=(r+="")=="transform"?interpolateTransformCss:interpolate;return e==null?this.styleTween(r,styleNull(r,s)).on("end.style."+r,styleRemove(r)):typeof e=="function"?this.styleTween(r,styleFunction(r,s,tweenValue(this,"style."+r,e))).each(styleMaybeRemove(this._id,r)):this.styleTween(r,styleConstant(r,s,e),n).on("end.style."+r,null)}function styleInterpolate(r,e,n){return function(s){this.style.setProperty(r,e.call(this,s),n)}}function styleTween(r,e,n){var s,o;function a(){var u=e.apply(this,arguments);return u!==o&&(s=(o=u)&&styleInterpolate(r,u,n)),s}return a._value=e,a}function transition_styleTween(r,e,n){var s="style."+(r+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(e==null)return this.tween(s,null);if(typeof e!="function")throw new Error;return this.tween(s,styleTween(r,e,n??""))}function textConstant(r){return function(){this.textContent=r}}function textFunction(r){return function(){var e=r(this);this.textContent=e??""}}function transition_text(r){return this.tween("text",typeof r=="function"?textFunction(tweenValue(this,"text",r)):textConstant(r==null?"":r+""))}function textInterpolate(r){return function(e){this.textContent=r.call(this,e)}}function textTween(r){var e,n;function s(){var o=r.apply(this,arguments);return o!==n&&(e=(n=o)&&textInterpolate(o)),e}return s._value=r,s}function transition_textTween(r){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(r==null)return this.tween(e,null);if(typeof r!="function")throw new Error;return this.tween(e,textTween(r))}function transition_transition(){for(var r=this._name,e=this._id,n=newId(),s=this._groups,o=s.length,a=0;a<o;++a)for(var u=s[a],f=u.length,d,g=0;g<f;++g)if(d=u[g]){var m=get(d,e);schedule(d,r,n,g,u,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new Transition(s,this._parents,r,n)}function transition_end(){var r,e,n=this,s=n._id,o=n.size();return new Promise(function(a,u){var f={value:u},d={value:function(){--o===0&&a()}};n.each(function(){var g=set(this,s),m=g.on;m!==r&&(e=(r=m).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(d)),g.on=e}),o===0&&a()})}var id=0;function Transition(r,e,n,s){this._groups=r,this._parents=e,this._name=n,this._id=s}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(r,e){for(var n;!(n=r.__transition)||!(n=n[e]);)if(!(r=r.parentNode))throw new Error(`transition ${e} not found`);return n}function selection_transition(r){var e,n;r instanceof Transition?(e=r._id,r=r._name):(e=newId(),(n=defaultTiming).time=now(),r=r==null?null:r+"");for(var s=this._groups,o=s.length,a=0;a<o;++a)for(var u=s[a],f=u.length,d,g=0;g<f;++g)(d=u[g])&&schedule(d,r,e,g,u,n||inherit(d,e));return new Transition(s,this._parents,r,e)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const constant=r=>()=>r;function ZoomEvent(r,{sourceEvent:e,target:n,transform:s,dispatch:o}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:o}})}function Transform(r,e,n){this.k=r,this.x=e,this.y=n}Transform.prototype={constructor:Transform,scale:function(r){return r===1?this:new Transform(this.k*r,this.x,this.y)},translate:function(r,e){return r===0&e===0?this:new Transform(this.k,this.x+this.k*r,this.y+this.k*e)},apply:function(r){return[r[0]*this.k+this.x,r[1]*this.k+this.y]},applyX:function(r){return r*this.k+this.x},applyY:function(r){return r*this.k+this.y},invert:function(r){return[(r[0]-this.x)/this.k,(r[1]-this.y)/this.k]},invertX:function(r){return(r-this.x)/this.k},invertY:function(r){return(r-this.y)/this.k},rescaleX:function(r){return r.copy().domain(r.range().map(this.invertX,this).map(r.invert,r))},rescaleY:function(r){return r.copy().domain(r.range().map(this.invertY,this).map(r.invert,r))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var identity$1=new Transform(1,0,0);transform.prototype=Transform.prototype;function transform(r){for(;!r.__zoom;)if(!(r=r.parentNode))return identity$1;return r.__zoom}function nopropagation(r){r.stopImmediatePropagation()}function noevent(r){r.preventDefault(),r.stopImmediatePropagation()}function defaultFilter(r){return(!r.ctrlKey||r.type==="wheel")&&!r.button}function defaultExtent(){var r=this;return r instanceof SVGElement?(r=r.ownerSVGElement||r,r.hasAttribute("viewBox")?(r=r.viewBox.baseVal,[[r.x,r.y],[r.x+r.width,r.y+r.height]]):[[0,0],[r.width.baseVal.value,r.height.baseVal.value]]):[[0,0],[r.clientWidth,r.clientHeight]]}function defaultTransform(){return this.__zoom||identity$1}function defaultWheelDelta(r){return-r.deltaY*(r.deltaMode===1?.05:r.deltaMode?1:.002)*(r.ctrlKey?10:1)}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(r,e,n){var s=r.invertX(e[0][0])-n[0][0],o=r.invertX(e[1][0])-n[1][0],a=r.invertY(e[0][1])-n[0][1],u=r.invertY(e[1][1])-n[1][1];return r.translate(o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o),u>a?(a+u)/2:Math.min(0,a)||Math.max(0,u))}function zoom(){var r=defaultFilter,e=defaultExtent,n=defaultConstrain,s=defaultWheelDelta,o=defaultTouchable,a=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],f=250,d=interpolateZoom,g=dispatch("start","zoom","end"),m,O,x,b=500,w=150,E=0,k=10;function Q(D){D.property("__zoom",defaultTransform).on("wheel.zoom",W,{passive:!1}).on("mousedown.zoom",B).on("dblclick.zoom",H).filter(o).on("touchstart.zoom",ee).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",J).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}Q.transform=function(D,q,P,V){var L=D.selection?D.selection():D;L.property("__zoom",defaultTransform),D!==L?_(D,q,P,V):L.interrupt().each(function(){j(this,arguments).event(V).start().zoom(null,typeof q=="function"?q.apply(this,arguments):q).end()})},Q.scaleBy=function(D,q,P,V){Q.scaleTo(D,function(){var L=this.__zoom.k,z=typeof q=="function"?q.apply(this,arguments):q;return L*z},P,V)},Q.scaleTo=function(D,q,P,V){Q.transform(D,function(){var L=e.apply(this,arguments),z=this.__zoom,R=P==null?$(L):typeof P=="function"?P.apply(this,arguments):P,U=z.invert(R),te=typeof q=="function"?q.apply(this,arguments):q;return n(M(A(z,te),R,U),L,u)},P,V)},Q.translateBy=function(D,q,P,V){Q.transform(D,function(){return n(this.__zoom.translate(typeof q=="function"?q.apply(this,arguments):q,typeof P=="function"?P.apply(this,arguments):P),e.apply(this,arguments),u)},null,V)},Q.translateTo=function(D,q,P,V,L){Q.transform(D,function(){var z=e.apply(this,arguments),R=this.__zoom,U=V==null?$(z):typeof V=="function"?V.apply(this,arguments):V;return n(identity$1.translate(U[0],U[1]).scale(R.k).translate(typeof q=="function"?-q.apply(this,arguments):-q,typeof P=="function"?-P.apply(this,arguments):-P),z,u)},V,L)};function A(D,q){return q=Math.max(a[0],Math.min(a[1],q)),q===D.k?D:new Transform(q,D.x,D.y)}function M(D,q,P){var V=q[0]-P[0]*D.k,L=q[1]-P[1]*D.k;return V===D.x&&L===D.y?D:new Transform(D.k,V,L)}function $(D){return[(+D[0][0]+ +D[1][0])/2,(+D[0][1]+ +D[1][1])/2]}function _(D,q,P,V){D.on("start.zoom",function(){j(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(V).end()}).tween("zoom",function(){var L=this,z=arguments,R=j(L,z).event(V),U=e.apply(L,z),te=P==null?$(U):typeof P=="function"?P.apply(L,z):P,oe=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),ne=L.__zoom,fe=typeof q=="function"?q.apply(L,z):q,ue=d(ne.invert(te).concat(oe/ne.k),fe.invert(te).concat(oe/fe.k));return function(he){if(he===1)he=fe;else{var ce=ue(he),pe=oe/ce[2];he=new Transform(pe,te[0]-ce[0]*pe,te[1]-ce[1]*pe)}R.zoom(null,he)}})}function j(D,q,P){return!P&&D.__zooming||new Z(D,q)}function Z(D,q){this.that=D,this.args=q,this.active=0,this.sourceEvent=null,this.extent=e.apply(D,q),this.taps=0}Z.prototype={event:function(D){return D&&(this.sourceEvent=D),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(D,q){return this.mouse&&D!=="mouse"&&(this.mouse[1]=q.invert(this.mouse[0])),this.touch0&&D!=="touch"&&(this.touch0[1]=q.invert(this.touch0[0])),this.touch1&&D!=="touch"&&(this.touch1[1]=q.invert(this.touch1[0])),this.that.__zoom=q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(D){var q=select(this.that).datum();g.call(D,this.that,new ZoomEvent(D,{sourceEvent:this.sourceEvent,target:Q,type:D,transform:this.that.__zoom,dispatch:g}),q)}};function W(D,...q){if(!r.apply(this,arguments))return;var P=j(this,q).event(D),V=this.__zoom,L=Math.max(a[0],Math.min(a[1],V.k*Math.pow(2,s.apply(this,arguments)))),z=pointer(D);if(P.wheel)(P.mouse[0][0]!==z[0]||P.mouse[0][1]!==z[1])&&(P.mouse[1]=V.invert(P.mouse[0]=z)),clearTimeout(P.wheel);else{if(V.k===L)return;P.mouse=[z,V.invert(z)],interrupt(this),P.start()}noevent(D),P.wheel=setTimeout(R,w),P.zoom("mouse",n(M(A(V,L),P.mouse[0],P.mouse[1]),P.extent,u));function R(){P.wheel=null,P.end()}}function B(D,...q){if(x||!r.apply(this,arguments))return;var P=D.currentTarget,V=j(this,q,!0).event(D),L=select(D.view).on("mousemove.zoom",te,!0).on("mouseup.zoom",oe,!0),z=pointer(D,P),R=D.clientX,U=D.clientY;dragDisable(D.view),nopropagation(D),V.mouse=[z,this.__zoom.invert(z)],interrupt(this),V.start();function te(ne){if(noevent(ne),!V.moved){var fe=ne.clientX-R,ue=ne.clientY-U;V.moved=fe*fe+ue*ue>E}V.event(ne).zoom("mouse",n(M(V.that.__zoom,V.mouse[0]=pointer(ne,P),V.mouse[1]),V.extent,u))}function oe(ne){L.on("mousemove.zoom mouseup.zoom",null),yesdrag(ne.view,V.moved),noevent(ne),V.event(ne).end()}}function H(D,...q){if(r.apply(this,arguments)){var P=this.__zoom,V=pointer(D.changedTouches?D.changedTouches[0]:D,this),L=P.invert(V),z=P.k*(D.shiftKey?.5:2),R=n(M(A(P,z),V,L),e.apply(this,q),u);noevent(D),f>0?select(this).transition().duration(f).call(_,R,V,D):select(this).call(Q.transform,R,V,D)}}function ee(D,...q){if(r.apply(this,arguments)){var P=D.touches,V=P.length,L=j(this,q,D.changedTouches.length===V).event(D),z,R,U,te;for(nopropagation(D),R=0;R<V;++R)U=P[R],te=pointer(U,this),te=[te,this.__zoom.invert(te),U.identifier],L.touch0?!L.touch1&&L.touch0[2]!==te[2]&&(L.touch1=te,L.taps=0):(L.touch0=te,z=!0,L.taps=1+!!m);m&&(m=clearTimeout(m)),z&&(L.taps<2&&(O=te[0],m=setTimeout(function(){m=null},b)),interrupt(this),L.start())}}function I(D,...q){if(this.__zooming){var P=j(this,q).event(D),V=D.changedTouches,L=V.length,z,R,U,te;for(noevent(D),z=0;z<L;++z)R=V[z],U=pointer(R,this),P.touch0&&P.touch0[2]===R.identifier?P.touch0[0]=U:P.touch1&&P.touch1[2]===R.identifier&&(P.touch1[0]=U);if(R=P.that.__zoom,P.touch1){var oe=P.touch0[0],ne=P.touch0[1],fe=P.touch1[0],ue=P.touch1[1],he=(he=fe[0]-oe[0])*he+(he=fe[1]-oe[1])*he,ce=(ce=ue[0]-ne[0])*ce+(ce=ue[1]-ne[1])*ce;R=A(R,Math.sqrt(he/ce)),U=[(oe[0]+fe[0])/2,(oe[1]+fe[1])/2],te=[(ne[0]+ue[0])/2,(ne[1]+ue[1])/2]}else if(P.touch0)U=P.touch0[0],te=P.touch0[1];else return;P.zoom("touch",n(M(R,U,te),P.extent,u))}}function J(D,...q){if(this.__zooming){var P=j(this,q).event(D),V=D.changedTouches,L=V.length,z,R;for(nopropagation(D),x&&clearTimeout(x),x=setTimeout(function(){x=null},b),z=0;z<L;++z)R=V[z],P.touch0&&P.touch0[2]===R.identifier?delete P.touch0:P.touch1&&P.touch1[2]===R.identifier&&delete P.touch1;if(P.touch1&&!P.touch0&&(P.touch0=P.touch1,delete P.touch1),P.touch0)P.touch0[1]=this.__zoom.invert(P.touch0[0]);else if(P.end(),P.taps===2&&(R=pointer(R,this),Math.hypot(O[0]-R[0],O[1]-R[1])<k)){var U=select(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return Q.wheelDelta=function(D){return arguments.length?(s=typeof D=="function"?D:constant(+D),Q):s},Q.filter=function(D){return arguments.length?(r=typeof D=="function"?D:constant(!!D),Q):r},Q.touchable=function(D){return arguments.length?(o=typeof D=="function"?D:constant(!!D),Q):o},Q.extent=function(D){return arguments.length?(e=typeof D=="function"?D:constant([[+D[0][0],+D[0][1]],[+D[1][0],+D[1][1]]]),Q):e},Q.scaleExtent=function(D){return arguments.length?(a[0]=+D[0],a[1]=+D[1],Q):[a[0],a[1]]},Q.translateExtent=function(D){return arguments.length?(u[0][0]=+D[0][0],u[1][0]=+D[1][0],u[0][1]=+D[0][1],u[1][1]=+D[1][1],Q):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},Q.constrain=function(D){return arguments.length?(n=D,Q):n},Q.duration=function(D){return arguments.length?(f=+D,Q):f},Q.interpolate=function(D){return arguments.length?(d=D,Q):d},Q.on=function(){var D=g.on.apply(g,arguments);return D===g?Q:D},Q.clickDistance=function(D){return arguments.length?(E=(D=+D)*D,Q):Math.sqrt(E)},Q.tapDistance=function(D){return arguments.length?(k=+D,Q):k},Q}const errorMessages={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:r=>`Node type "${r}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:r=>`The old edge with id=${r} does not exist.`,error009:r=>`Marker type "${r}" doesn't exist.`,error008:(r,{id:e,sourceHandle:n,targetHandle:s})=>`Couldn't create edge for ${r} handle id: "${r==="source"?n:s}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:r=>`Edge type "${r}" not found. Using fallback type "default".`,error012:r=>`Node with id "${r}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(r="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${r}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},infiniteExtent=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],elementSelectionKeys=["Enter"," ","Escape"];var ConnectionMode;(function(r){r.Strict="strict",r.Loose="loose"})(ConnectionMode||(ConnectionMode={}));var PanOnScrollMode;(function(r){r.Free="free",r.Vertical="vertical",r.Horizontal="horizontal"})(PanOnScrollMode||(PanOnScrollMode={}));var SelectionMode;(function(r){r.Partial="partial",r.Full="full"})(SelectionMode||(SelectionMode={}));const initialConnection={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var ConnectionLineType;(function(r){r.Bezier="default",r.Straight="straight",r.Step="step",r.SmoothStep="smoothstep",r.SimpleBezier="simplebezier"})(ConnectionLineType||(ConnectionLineType={}));var MarkerType;(function(r){r.Arrow="arrow",r.ArrowClosed="arrowclosed"})(MarkerType||(MarkerType={}));var Position;(function(r){r.Left="left",r.Top="top",r.Right="right",r.Bottom="bottom"})(Position||(Position={}));const oppositePosition={[Position.Left]:Position.Right,[Position.Right]:Position.Left,[Position.Top]:Position.Bottom,[Position.Bottom]:Position.Top};function getConnectionStatus(r){return r===null?null:r?"valid":"invalid"}const isEdgeBase=r=>"id"in r&&"source"in r&&"target"in r,isNodeBase=r=>"id"in r&&"position"in r&&!("source"in r)&&!("target"in r),isInternalNodeBase=r=>"id"in r&&"internals"in r&&!("source"in r)&&!("target"in r),getNodePositionWithOrigin=(r,e=[0,0])=>{const{width:n,height:s}=getNodeDimensions(r),o=r.origin??e,a=n*o[0],u=s*o[1];return{x:r.position.x-a,y:r.position.y-u}},getNodesBounds=(r,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(r.length===0)return{x:0,y:0,width:0,height:0};const n=r.reduce((s,o)=>{const a=typeof o=="string";let u=!e.nodeLookup&&!a?o:void 0;e.nodeLookup&&(u=a?e.nodeLookup.get(o):isInternalNodeBase(o)?o:e.nodeLookup.get(o.id));const f=u?nodeToBox(u,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return getBoundsOfBoxes(s,f)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return boxToRect(n)},getInternalNodesBounds=(r,e={})=>{if(r.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return r.forEach(s=>{if(e.filter===void 0||e.filter(s)){const o=nodeToBox(s);n=getBoundsOfBoxes(n,o)}}),boxToRect(n)},getNodesInside=(r,e,[n,s,o]=[0,0,1],a=!1,u=!1)=>{const f={...pointToRendererPoint(e,[n,s,o]),width:e.width/o,height:e.height/o},d=[];for(const g of r.values()){const{measured:m,selectable:O=!0,hidden:x=!1}=g;if(u&&!O||x)continue;const b=m.width??g.width??g.initialWidth??null,w=m.height??g.height??g.initialHeight??null,E=getOverlappingArea(f,nodeToRect(g)),k=(b??0)*(w??0),Q=a&&E>0;(!g.internals.handleBounds||Q||E>=k||g.dragging)&&d.push(g)}return d},getConnectedEdges=(r,e)=>{const n=new Set;return r.forEach(s=>{n.add(s.id)}),e.filter(s=>n.has(s.source)||n.has(s.target))};function getFitViewNodes(r,e){const n=new Map,s=e!=null&&e.nodes?new Set(e.nodes.map(o=>o.id)):null;return r.forEach(o=>{o.measured.width&&o.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!o.hidden)&&(!s||s.has(o.id))&&n.set(o.id,o)}),n}async function fitView({nodes:r,width:e,height:n,panZoom:s,minZoom:o,maxZoom:a},u){if(r.size===0)return Promise.resolve(!1);const f=getInternalNodesBounds(r),d=getViewportForBounds(f,e,n,(u==null?void 0:u.minZoom)??o,(u==null?void 0:u.maxZoom)??a,(u==null?void 0:u.padding)??.1);return await s.setViewport(d,{duration:u==null?void 0:u.duration}),Promise.resolve(!0)}function calculateNodePosition({nodeId:r,nextPosition:e,nodeLookup:n,nodeOrigin:s=[0,0],nodeExtent:o,onError:a}){const u=n.get(r),f=u.parentId?n.get(u.parentId):void 0,{x:d,y:g}=f?f.internals.positionAbsolute:{x:0,y:0},m=u.origin??s;let O=o;if(u.extent==="parent"&&!u.expandParent)if(!f)a==null||a("005",errorMessages.error005());else{const b=f.measured.width,w=f.measured.height;b&&w&&(O=[[d,g],[d+b,g+w]])}else f&&isCoordinateExtent(u.extent)&&(O=[[u.extent[0][0]+d,u.extent[0][1]+g],[u.extent[1][0]+d,u.extent[1][1]+g]]);const x=isCoordinateExtent(O)?clampPosition(e,O,u.measured):e;return{position:{x:x.x-d+u.measured.width*m[0],y:x.y-g+u.measured.height*m[1]},positionAbsolute:x}}async function getElementsToRemove({nodesToRemove:r=[],edgesToRemove:e=[],nodes:n,edges:s,onBeforeDelete:o}){const a=new Set(r.map(x=>x.id)),u=[];for(const x of n){if(x.deletable===!1)continue;const b=a.has(x.id),w=!b&&x.parentId&&u.find(E=>E.id===x.parentId);(b||w)&&u.push(x)}const f=new Set(e.map(x=>x.id)),d=s.filter(x=>x.deletable!==!1),m=getConnectedEdges(u,d);for(const x of d)f.has(x.id)&&!m.find(w=>w.id===x.id)&&m.push(x);if(!o)return{edges:m,nodes:u};const O=await o({nodes:u,edges:m});return typeof O=="boolean"?O?{edges:m,nodes:u}:{edges:[],nodes:[]}:O}const clamp=(r,e=0,n=1)=>Math.min(Math.max(r,e),n),clampPosition=(r={x:0,y:0},e,n)=>({x:clamp(r.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:clamp(r.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function clampPositionToParent(r,e,n){const{width:s,height:o}=getNodeDimensions(n),{x:a,y:u}=n.internals.positionAbsolute;return clampPosition(r,[[a,u],[a+s,u+o]],e)}const calcAutoPanVelocity=(r,e,n)=>r<e?clamp(Math.abs(r-e),1,e)/e:r>n?-clamp(Math.abs(r-n),1,e)/e:0,calcAutoPan=(r,e,n=15,s=40)=>{const o=calcAutoPanVelocity(r.x,s,e.width-s)*n,a=calcAutoPanVelocity(r.y,s,e.height-s)*n;return[o,a]},getBoundsOfBoxes=(r,e)=>({x:Math.min(r.x,e.x),y:Math.min(r.y,e.y),x2:Math.max(r.x2,e.x2),y2:Math.max(r.y2,e.y2)}),rectToBox=({x:r,y:e,width:n,height:s})=>({x:r,y:e,x2:r+n,y2:e+s}),boxToRect=({x:r,y:e,x2:n,y2:s})=>({x:r,y:e,width:n-r,height:s-e}),nodeToRect=(r,e=[0,0])=>{var o,a;const{x:n,y:s}=isInternalNodeBase(r)?r.internals.positionAbsolute:getNodePositionWithOrigin(r,e);return{x:n,y:s,width:((o=r.measured)==null?void 0:o.width)??r.width??r.initialWidth??0,height:((a=r.measured)==null?void 0:a.height)??r.height??r.initialHeight??0}},nodeToBox=(r,e=[0,0])=>{var o,a;const{x:n,y:s}=isInternalNodeBase(r)?r.internals.positionAbsolute:getNodePositionWithOrigin(r,e);return{x:n,y:s,x2:n+(((o=r.measured)==null?void 0:o.width)??r.width??r.initialWidth??0),y2:s+(((a=r.measured)==null?void 0:a.height)??r.height??r.initialHeight??0)}},getBoundsOfRects=(r,e)=>boxToRect(getBoundsOfBoxes(rectToBox(r),rectToBox(e))),getOverlappingArea=(r,e)=>{const n=Math.max(0,Math.min(r.x+r.width,e.x+e.width)-Math.max(r.x,e.x)),s=Math.max(0,Math.min(r.y+r.height,e.y+e.height)-Math.max(r.y,e.y));return Math.ceil(n*s)},isRectObject=r=>isNumeric(r.width)&&isNumeric(r.height)&&isNumeric(r.x)&&isNumeric(r.y),isNumeric=r=>!isNaN(r)&&isFinite(r),devWarn=(r,e)=>{},snapPosition=(r,e=[1,1])=>({x:e[0]*Math.round(r.x/e[0]),y:e[1]*Math.round(r.y/e[1])}),pointToRendererPoint=({x:r,y:e},[n,s,o],a=!1,u=[1,1])=>{const f={x:(r-n)/o,y:(e-s)/o};return a?snapPosition(f,u):f},rendererPointToPoint=({x:r,y:e},[n,s,o])=>({x:r*o+n,y:e*o+s}),getViewportForBounds=(r,e,n,s,o,a)=>{const u=e/(r.width*(1+a)),f=n/(r.height*(1+a)),d=Math.min(u,f),g=clamp(d,s,o),m=r.x+r.width/2,O=r.y+r.height/2,x=e/2-m*g,b=n/2-O*g;return{x,y:b,zoom:g}},isMacOs=()=>{var r;return typeof navigator<"u"&&((r=navigator==null?void 0:navigator.userAgent)==null?void 0:r.indexOf("Mac"))>=0};function isCoordinateExtent(r){return r!==void 0&&r!=="parent"}function getNodeDimensions(r){var e,n;return{width:((e=r.measured)==null?void 0:e.width)??r.width??r.initialWidth??0,height:((n=r.measured)==null?void 0:n.height)??r.height??r.initialHeight??0}}function nodeHasDimensions(r){var e,n;return(((e=r.measured)==null?void 0:e.width)??r.width??r.initialWidth)!==void 0&&(((n=r.measured)==null?void 0:n.height)??r.height??r.initialHeight)!==void 0}function evaluateAbsolutePosition(r,e={width:0,height:0},n,s,o){const a={...r},u=s.get(n);if(u){const f=u.origin||o;a.x+=u.internals.positionAbsolute.x-(e.width??0)*f[0],a.y+=u.internals.positionAbsolute.y-(e.height??0)*f[1]}return a}function areSetsEqual(r,e){if(r.size!==e.size)return!1;for(const n of r)if(!e.has(n))return!1;return!0}function getPointerPosition(r,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:s,containerBounds:o}){const{x:a,y:u}=getEventPosition(r),f=pointToRendererPoint({x:a-((o==null?void 0:o.left)??0),y:u-((o==null?void 0:o.top)??0)},s),{x:d,y:g}=n?snapPosition(f,e):f;return{xSnapped:d,ySnapped:g,...f}}const getDimensions=r=>({width:r.offsetWidth,height:r.offsetHeight}),getHostForElement=r=>{var e;return((e=r==null?void 0:r.getRootNode)==null?void 0:e.call(r))||(window==null?void 0:window.document)},inputTags=["INPUT","SELECT","TEXTAREA"];function isInputDOMNode(r){var s,o;const e=((o=(s=r.composedPath)==null?void 0:s.call(r))==null?void 0:o[0])||r.target;return(e==null?void 0:e.nodeType)!==1?!1:inputTags.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const isMouseEvent=r=>"clientX"in r,getEventPosition=(r,e)=>{var a,u;const n=isMouseEvent(r),s=n?r.clientX:(a=r.touches)==null?void 0:a[0].clientX,o=n?r.clientY:(u=r.touches)==null?void 0:u[0].clientY;return{x:s-((e==null?void 0:e.left)??0),y:o-((e==null?void 0:e.top)??0)}},getHandleBounds=(r,e,n,s,o)=>{const a=e.querySelectorAll(`.${r}`);return!a||!a.length?null:Array.from(a).map(u=>{const f=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),type:r,nodeId:o,position:u.getAttribute("data-handlepos"),x:(f.left-n.left)/s,y:(f.top-n.top)/s,...getDimensions(u)}})};function getBezierEdgeCenter({sourceX:r,sourceY:e,targetX:n,targetY:s,sourceControlX:o,sourceControlY:a,targetControlX:u,targetControlY:f}){const d=r*.125+o*.375+u*.375+n*.125,g=e*.125+a*.375+f*.375+s*.125,m=Math.abs(d-r),O=Math.abs(g-e);return[d,g,m,O]}function calculateControlOffset(r,e){return r>=0?.5*r:e*25*Math.sqrt(-r)}function getControlWithCurvature({pos:r,x1:e,y1:n,x2:s,y2:o,c:a}){switch(r){case Position.Left:return[e-calculateControlOffset(e-s,a),n];case Position.Right:return[e+calculateControlOffset(s-e,a),n];case Position.Top:return[e,n-calculateControlOffset(n-o,a)];case Position.Bottom:return[e,n+calculateControlOffset(o-n,a)]}}function getBezierPath({sourceX:r,sourceY:e,sourcePosition:n=Position.Bottom,targetX:s,targetY:o,targetPosition:a=Position.Top,curvature:u=.25}){const[f,d]=getControlWithCurvature({pos:n,x1:r,y1:e,x2:s,y2:o,c:u}),[g,m]=getControlWithCurvature({pos:a,x1:s,y1:o,x2:r,y2:e,c:u}),[O,x,b,w]=getBezierEdgeCenter({sourceX:r,sourceY:e,targetX:s,targetY:o,sourceControlX:f,sourceControlY:d,targetControlX:g,targetControlY:m});return[`M${r},${e} C${f},${d} ${g},${m} ${s},${o}`,O,x,b,w]}function getEdgeCenter({sourceX:r,sourceY:e,targetX:n,targetY:s}){const o=Math.abs(n-r)/2,a=n<r?n+o:n-o,u=Math.abs(s-e)/2,f=s<e?s+u:s-u;return[a,f,o,u]}function getElevatedEdgeZIndex({sourceNode:r,targetNode:e,selected:n=!1,zIndex:s=0,elevateOnSelect:o=!1}){if(!o)return s;const a=n||e.selected||r.selected,u=Math.max(r.internals.z||0,e.internals.z||0,1e3);return s+(a?u:0)}function isEdgeVisible({sourceNode:r,targetNode:e,width:n,height:s,transform:o}){const a=getBoundsOfBoxes(nodeToBox(r),nodeToBox(e));a.x===a.x2&&(a.x2+=1),a.y===a.y2&&(a.y2+=1);const u={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:s/o[2]};return getOverlappingArea(u,boxToRect(a))>0}const getEdgeId=({source:r,sourceHandle:e,target:n,targetHandle:s})=>`xy-edge__${r}${e||""}-${n}${s||""}`,connectionExists=(r,e)=>e.some(n=>n.source===r.source&&n.target===r.target&&(n.sourceHandle===r.sourceHandle||!n.sourceHandle&&!r.sourceHandle)&&(n.targetHandle===r.targetHandle||!n.targetHandle&&!r.targetHandle)),addEdge=(r,e)=>{if(!r.source||!r.target)return e;let n;return isEdgeBase(r)?n={...r}:n={...r,id:getEdgeId(r)},connectionExists(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function getStraightPath({sourceX:r,sourceY:e,targetX:n,targetY:s}){const[o,a,u,f]=getEdgeCenter({sourceX:r,sourceY:e,targetX:n,targetY:s});return[`M ${r},${e}L ${n},${s}`,o,a,u,f]}const handleDirections={[Position.Left]:{x:-1,y:0},[Position.Right]:{x:1,y:0},[Position.Top]:{x:0,y:-1},[Position.Bottom]:{x:0,y:1}},getDirection=({source:r,sourcePosition:e=Position.Bottom,target:n})=>e===Position.Left||e===Position.Right?r.x<n.x?{x:1,y:0}:{x:-1,y:0}:r.y<n.y?{x:0,y:1}:{x:0,y:-1},distance=(r,e)=>Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2));function getPoints({source:r,sourcePosition:e=Position.Bottom,target:n,targetPosition:s=Position.Top,center:o,offset:a}){const u=handleDirections[e],f=handleDirections[s],d={x:r.x+u.x*a,y:r.y+u.y*a},g={x:n.x+f.x*a,y:n.y+f.y*a},m=getDirection({source:d,sourcePosition:e,target:g}),O=m.x!==0?"x":"y",x=m[O];let b=[],w,E;const k={x:0,y:0},Q={x:0,y:0},[A,M,$,_]=getEdgeCenter({sourceX:r.x,sourceY:r.y,targetX:n.x,targetY:n.y});if(u[O]*f[O]===-1){w=o.x??A,E=o.y??M;const Z=[{x:w,y:d.y},{x:w,y:g.y}],W=[{x:d.x,y:E},{x:g.x,y:E}];u[O]===x?b=O==="x"?Z:W:b=O==="x"?W:Z}else{const Z=[{x:d.x,y:g.y}],W=[{x:g.x,y:d.y}];if(O==="x"?b=u.x===x?W:Z:b=u.y===x?Z:W,e===s){const J=Math.abs(r[O]-n[O]);if(J<=a){const D=Math.min(a-1,a-J);u[O]===x?k[O]=(d[O]>r[O]?-1:1)*D:Q[O]=(g[O]>n[O]?-1:1)*D}}if(e!==s){const J=O==="x"?"y":"x",D=u[O]===f[J],q=d[J]>g[J],P=d[J]<g[J];(u[O]===1&&(!D&&q||D&&P)||u[O]!==1&&(!D&&P||D&&q))&&(b=O==="x"?Z:W)}const B={x:d.x+k.x,y:d.y+k.y},H={x:g.x+Q.x,y:g.y+Q.y},ee=Math.max(Math.abs(B.x-b[0].x),Math.abs(H.x-b[0].x)),I=Math.max(Math.abs(B.y-b[0].y),Math.abs(H.y-b[0].y));ee>=I?(w=(B.x+H.x)/2,E=b[0].y):(w=b[0].x,E=(B.y+H.y)/2)}return[[r,{x:d.x+k.x,y:d.y+k.y},...b,{x:g.x+Q.x,y:g.y+Q.y},n],w,E,$,_]}function getBend(r,e,n,s){const o=Math.min(distance(r,e)/2,distance(e,n)/2,s),{x:a,y:u}=e;if(r.x===a&&a===n.x||r.y===u&&u===n.y)return`L${a} ${u}`;if(r.y===u){const g=r.x<n.x?-1:1,m=r.y<n.y?1:-1;return`L ${a+o*g},${u}Q ${a},${u} ${a},${u+o*m}`}const f=r.x<n.x?1:-1,d=r.y<n.y?-1:1;return`L ${a},${u+o*d}Q ${a},${u} ${a+o*f},${u}`}function getSmoothStepPath({sourceX:r,sourceY:e,sourcePosition:n=Position.Bottom,targetX:s,targetY:o,targetPosition:a=Position.Top,borderRadius:u=5,centerX:f,centerY:d,offset:g=20}){const[m,O,x,b,w]=getPoints({source:{x:r,y:e},sourcePosition:n,target:{x:s,y:o},targetPosition:a,center:{x:f,y:d},offset:g});return[m.reduce((k,Q,A)=>{let M="";return A>0&&A<m.length-1?M=getBend(m[A-1],Q,m[A+1],u):M=`${A===0?"M":"L"}${Q.x} ${Q.y}`,k+=M,k},""),O,x,b,w]}function isNodeInitialized(r){var e;return r&&!!(r.internals.handleBounds||(e=r.handles)!=null&&e.length)&&!!(r.measured.width||r.width||r.initialWidth)}function getEdgePosition(r){var O;const{sourceNode:e,targetNode:n}=r;if(!isNodeInitialized(e)||!isNodeInitialized(n))return null;const s=e.internals.handleBounds||toHandleBounds(e.handles),o=n.internals.handleBounds||toHandleBounds(n.handles),a=getHandle$1((s==null?void 0:s.source)??[],r.sourceHandle),u=getHandle$1(r.connectionMode===ConnectionMode.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),r.targetHandle);if(!a||!u)return(O=r.onError)==null||O.call(r,"008",errorMessages.error008(a?"target":"source",{id:r.id,sourceHandle:r.sourceHandle,targetHandle:r.targetHandle})),null;const f=(a==null?void 0:a.position)||Position.Bottom,d=(u==null?void 0:u.position)||Position.Top,g=getHandlePosition(e,a,f),m=getHandlePosition(n,u,d);return{sourceX:g.x,sourceY:g.y,targetX:m.x,targetY:m.y,sourcePosition:f,targetPosition:d}}function toHandleBounds(r){if(!r)return null;const e=[],n=[];for(const s of r)s.width=s.width??1,s.height=s.height??1,s.type==="source"?e.push(s):s.type==="target"&&n.push(s);return{source:e,target:n}}function getHandlePosition(r,e,n=Position.Left,s=!1){const o=((e==null?void 0:e.x)??0)+r.internals.positionAbsolute.x,a=((e==null?void 0:e.y)??0)+r.internals.positionAbsolute.y,{width:u,height:f}=e??getNodeDimensions(r);if(s)return{x:o+u/2,y:a+f/2};switch((e==null?void 0:e.position)??n){case Position.Top:return{x:o+u/2,y:a};case Position.Right:return{x:o+u,y:a+f/2};case Position.Bottom:return{x:o+u/2,y:a+f};case Position.Left:return{x:o,y:a+f/2}}}function getHandle$1(r,e){return r&&(e?r.find(n=>n.id===e):r[0])||null}function getMarkerId(r,e){return r?typeof r=="string"?r:`${e?`${e}__`:""}${Object.keys(r).sort().map(s=>`${s}=${r[s]}`).join("&")}`:""}function createMarkerIds(r,{id:e,defaultColor:n,defaultMarkerStart:s,defaultMarkerEnd:o}){const a=new Set;return r.reduce((u,f)=>([f.markerStart||s,f.markerEnd||o].forEach(d=>{if(d&&typeof d=="object"){const g=getMarkerId(d,e);a.has(g)||(u.push({id:g,color:d.color||n,...d}),a.add(g))}}),u),[]).sort((u,f)=>u.id.localeCompare(f.id))}const defaultOptions={nodeOrigin:[0,0],nodeExtent:infiniteExtent,elevateNodesOnSelect:!0,defaults:{}},adoptUserNodesDefaultOptions={...defaultOptions,checkEquality:!0};function mergeObjects(r,e){const n={...r};for(const s in e)e[s]!==void 0&&(n[s]=e[s]);return n}function updateAbsolutePositions(r,e,n){const s=mergeObjects(defaultOptions,n);for(const o of r.values())if(o.parentId)updateChildNode(o,r,e,s);else{const a=getNodePositionWithOrigin(o,s.nodeOrigin),u=isCoordinateExtent(o.extent)?o.extent:s.nodeExtent,f=clampPosition(a,u,getNodeDimensions(o));o.internals.positionAbsolute=f}}function adoptUserNodes(r,e,n,s){var f,d;const o=mergeObjects(adoptUserNodesDefaultOptions,s),a=new Map(e),u=o!=null&&o.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const g of r){let m=a.get(g.id);if(o.checkEquality&&g===(m==null?void 0:m.internals.userNode))e.set(g.id,m);else{const O=getNodePositionWithOrigin(g,o.nodeOrigin),x=isCoordinateExtent(g.extent)?g.extent:o.nodeExtent,b=clampPosition(O,x,getNodeDimensions(g));m={...o.defaults,...g,measured:{width:(f=g.measured)==null?void 0:f.width,height:(d=g.measured)==null?void 0:d.height},internals:{positionAbsolute:b,handleBounds:g.measured?m==null?void 0:m.internals.handleBounds:void 0,z:calculateZ(g,u),userNode:g}},e.set(g.id,m)}g.parentId&&updateChildNode(m,e,n,s)}}function updateParentLookup(r,e){if(!r.parentId)return;const n=e.get(r.parentId);n?n.set(r.id,r):e.set(r.parentId,new Map([[r.id,r]]))}function updateChildNode(r,e,n,s){const{elevateNodesOnSelect:o,nodeOrigin:a,nodeExtent:u}=mergeObjects(defaultOptions,s),f=r.parentId,d=e.get(f);if(!d){console.warn(`Parent node ${f} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}updateParentLookup(r,n);const g=o?1e3:0,{x:m,y:O,z:x}=calculateChildXYZ(r,d,a,u,g),{positionAbsolute:b}=r.internals,w=m!==b.x||O!==b.y;(w||x!==r.internals.z)&&e.set(r.id,{...r,internals:{...r.internals,positionAbsolute:w?{x:m,y:O}:b,z:x}})}function calculateZ(r,e){return(isNumeric(r.zIndex)?r.zIndex:0)+(r.selected?e:0)}function calculateChildXYZ(r,e,n,s,o){const{x:a,y:u}=e.internals.positionAbsolute,f=getNodeDimensions(r),d=getNodePositionWithOrigin(r,n),g=isCoordinateExtent(r.extent)?clampPosition(d,r.extent,f):d;let m=clampPosition({x:a+g.x,y:u+g.y},s,f);r.extent==="parent"&&(m=clampPositionToParent(m,f,e));const O=calculateZ(r,o),x=e.internals.z??0;return{x:m.x,y:m.y,z:x>O?x:O}}function handleExpandParent(r,e,n,s=[0,0]){var u;const o=[],a=new Map;for(const f of r){const d=e.get(f.parentId);if(!d)continue;const g=((u=a.get(f.parentId))==null?void 0:u.expandedRect)??nodeToRect(d),m=getBoundsOfRects(g,f.rect);a.set(f.parentId,{expandedRect:m,parent:d})}return a.size>0&&a.forEach(({expandedRect:f,parent:d},g)=>{var M;const m=d.internals.positionAbsolute,O=getNodeDimensions(d),x=d.origin??s,b=f.x<m.x?Math.round(Math.abs(m.x-f.x)):0,w=f.y<m.y?Math.round(Math.abs(m.y-f.y)):0,E=Math.max(O.width,Math.round(f.width)),k=Math.max(O.height,Math.round(f.height)),Q=(E-O.width)*x[0],A=(k-O.height)*x[1];(b>0||w>0||Q||A)&&(o.push({id:g,type:"position",position:{x:d.position.x-b+Q,y:d.position.y-w+A}}),(M=n.get(g))==null||M.forEach($=>{r.some(_=>_.id===$.id)||o.push({id:$.id,type:"position",position:{x:$.position.x+b,y:$.position.y+w}})})),(O.width<f.width||O.height<f.height||b||w)&&o.push({id:g,type:"dimensions",setAttributes:!0,dimensions:{width:E+(b?x[0]*b-Q:0),height:k+(w?x[1]*w-A:0)}})}),o}function updateNodeInternals(r,e,n,s,o,a){const u=s==null?void 0:s.querySelector(".xyflow__viewport");let f=!1;if(!u)return{changes:[],updatedInternals:f};const d=[],g=window.getComputedStyle(u),{m22:m}=new window.DOMMatrixReadOnly(g.transform),O=[];for(const x of r.values()){const b=e.get(x.id);if(!b)continue;if(b.hidden){e.set(b.id,{...b,internals:{...b.internals,handleBounds:void 0}}),f=!0;continue}const w=getDimensions(x.nodeElement),E=b.measured.width!==w.width||b.measured.height!==w.height;if(!!(w.width&&w.height&&(E||!b.internals.handleBounds||x.force))){const Q=x.nodeElement.getBoundingClientRect(),A=isCoordinateExtent(b.extent)?b.extent:a;let{positionAbsolute:M}=b.internals;b.parentId&&b.extent==="parent"?M=clampPositionToParent(M,w,e.get(b.parentId)):A&&(M=clampPosition(M,A,w));const $={...b,measured:w,internals:{...b.internals,positionAbsolute:M,handleBounds:{source:getHandleBounds("source",x.nodeElement,Q,m,b.id),target:getHandleBounds("target",x.nodeElement,Q,m,b.id)}}};e.set(b.id,$),b.parentId&&updateChildNode($,e,n,{nodeOrigin:o}),f=!0,E&&(d.push({id:b.id,type:"dimensions",dimensions:w}),b.expandParent&&b.parentId&&O.push({id:b.id,parentId:b.parentId,rect:nodeToRect($,o)}))}}if(O.length>0){const x=handleExpandParent(O,e,n,o);d.push(...x)}return{changes:d,updatedInternals:f}}async function panBy({delta:r,panZoom:e,transform:n,translateExtent:s,width:o,height:a}){if(!e||!r.x&&!r.y)return Promise.resolve(!1);const u=await e.setViewportConstrained({x:n[0]+r.x,y:n[1]+r.y,zoom:n[2]},[[0,0],[o,a]],s),f=!!u&&(u.x!==n[0]||u.y!==n[1]||u.k!==n[2]);return Promise.resolve(f)}function addConnectionToLookup(r,e,n,s,o,a){let u=o;const f=s.get(u)||new Map;s.set(u,f.set(n,e)),u=`${o}-${r}`;const d=s.get(u)||new Map;if(s.set(u,d.set(n,e)),a){u=`${o}-${r}-${a}`;const g=s.get(u)||new Map;s.set(u,g.set(n,e))}}function updateConnectionLookup(r,e,n){r.clear(),e.clear();for(const s of n){const{source:o,target:a,sourceHandle:u=null,targetHandle:f=null}=s,d={edgeId:s.id,source:o,target:a,sourceHandle:u,targetHandle:f},g=`${o}-${u}--${a}-${f}`,m=`${a}-${f}--${o}-${u}`;addConnectionToLookup("source",d,m,r,o,u),addConnectionToLookup("target",d,g,r,a,f),e.set(s.id,s)}}function isParentSelected(r,e){if(!r.parentId)return!1;const n=e.get(r.parentId);return n?n.selected?!0:isParentSelected(n,e):!1}function hasSelector(r,e,n){var o;let s=r;do{if((o=s==null?void 0:s.matches)!=null&&o.call(s,e))return!0;if(s===n)return!1;s=s==null?void 0:s.parentElement}while(s);return!1}function getDragItems(r,e,n,s){const o=new Map;for(const[a,u]of r)if((u.selected||u.id===s)&&(!u.parentId||!isParentSelected(u,r))&&(u.draggable||e&&typeof u.draggable>"u")){const f=r.get(a);f&&o.set(a,{id:a,position:f.position||{x:0,y:0},distance:{x:n.x-f.internals.positionAbsolute.x,y:n.y-f.internals.positionAbsolute.y},extent:f.extent,parentId:f.parentId,origin:f.origin,expandParent:f.expandParent,internals:{positionAbsolute:f.internals.positionAbsolute||{x:0,y:0}},measured:{width:f.measured.width??0,height:f.measured.height??0}})}return o}function getEventHandlerParams({nodeId:r,dragItems:e,nodeLookup:n,dragging:s=!0}){var u,f,d;const o=[];for(const[g,m]of e){const O=(u=n.get(g))==null?void 0:u.internals.userNode;O&&o.push({...O,position:m.position,dragging:s})}if(!r)return[o[0],o];const a=(f=n.get(r))==null?void 0:f.internals.userNode;return[a?{...a,position:((d=e.get(r))==null?void 0:d.position)||a.position,dragging:s}:o[0],o]}function XYDrag({onNodeMouseDown:r,getStoreItems:e,onDragStart:n,onDrag:s,onDragStop:o}){let a={x:null,y:null},u=0,f=new Map,d=!1,g={x:0,y:0},m=null,O=!1,x=null,b=!1;function w({noDragClassName:k,handleSelector:Q,domNode:A,isSelectable:M,nodeId:$,nodeClickDistance:_=0}){x=select(A);function j({x:H,y:ee},I){const{nodeLookup:J,nodeExtent:D,snapGrid:q,snapToGrid:P,nodeOrigin:V,onNodeDrag:L,onSelectionDrag:z,onError:R,updateNodePositions:U}=e();a={x:H,y:ee};let te=!1,oe={x:0,y:0,x2:0,y2:0};if(f.size>1&&D){const ne=getInternalNodesBounds(f);oe=rectToBox(ne)}for(const[ne,fe]of f){if(!J.has(ne))continue;let ue={x:H-fe.distance.x,y:ee-fe.distance.y};P&&(ue=snapPosition(ue,q));let he=[[D[0][0],D[0][1]],[D[1][0],D[1][1]]];if(f.size>1&&D&&!fe.extent){const{positionAbsolute:ge}=fe.internals,Se=ge.x-oe.x+D[0][0],Oe=ge.x+fe.measured.width-oe.x2+D[1][0],we=ge.y-oe.y+D[0][1],Re=ge.y+fe.measured.height-oe.y2+D[1][1];he=[[Se,we],[Oe,Re]]}const{position:ce,positionAbsolute:pe}=calculateNodePosition({nodeId:ne,nextPosition:ue,nodeLookup:J,nodeExtent:he,nodeOrigin:V,onError:R});te=te||fe.position.x!==ce.x||fe.position.y!==ce.y,fe.position=ce,fe.internals.positionAbsolute=pe}if(te&&(U(f,!0),I&&(s||L||!$&&z))){const[ne,fe]=getEventHandlerParams({nodeId:$,dragItems:f,nodeLookup:J});s==null||s(I,f,ne,fe),L==null||L(I,ne,fe),$||z==null||z(I,fe)}}async function Z(){if(!m)return;const{transform:H,panBy:ee,autoPanSpeed:I}=e(),[J,D]=calcAutoPan(g,m,I);(J!==0||D!==0)&&(a.x=(a.x??0)-J/H[2],a.y=(a.y??0)-D/H[2],await ee({x:J,y:D})&&j(a,null)),u=requestAnimationFrame(Z)}function W(H){var te;const{nodeLookup:ee,multiSelectionActive:I,nodesDraggable:J,transform:D,snapGrid:q,snapToGrid:P,selectNodesOnDrag:V,onNodeDragStart:L,onSelectionDragStart:z,unselectNodesAndEdges:R}=e();O=!0,(!V||!M)&&!I&&$&&((te=ee.get($))!=null&&te.selected||R()),M&&V&&$&&(r==null||r($));const U=getPointerPosition(H.sourceEvent,{transform:D,snapGrid:q,snapToGrid:P,containerBounds:m});if(a=U,f=getDragItems(ee,J,U,$),f.size>0&&(n||L||!$&&z)){const[oe,ne]=getEventHandlerParams({nodeId:$,dragItems:f,nodeLookup:ee});n==null||n(H.sourceEvent,f,oe,ne),L==null||L(H.sourceEvent,oe,ne),$||z==null||z(H.sourceEvent,ne)}}const B=drag().clickDistance(_).on("start",H=>{const{domNode:ee,nodeDragThreshold:I,transform:J,snapGrid:D,snapToGrid:q}=e();m=(ee==null?void 0:ee.getBoundingClientRect())||null,b=!1,I===0&&W(H),a=getPointerPosition(H.sourceEvent,{transform:J,snapGrid:D,snapToGrid:q,containerBounds:m}),g=getEventPosition(H.sourceEvent,m)}).on("drag",H=>{const{autoPanOnNodeDrag:ee,transform:I,snapGrid:J,snapToGrid:D,nodeDragThreshold:q,nodeLookup:P}=e(),V=getPointerPosition(H.sourceEvent,{transform:I,snapGrid:J,snapToGrid:D,containerBounds:m});if((H.sourceEvent.type==="touchmove"&&H.sourceEvent.touches.length>1||$&&!P.has($))&&(b=!0),!b){if(!d&&ee&&O&&(d=!0,Z()),!O){const L=V.xSnapped-(a.x??0),z=V.ySnapped-(a.y??0);Math.sqrt(L*L+z*z)>q&&W(H)}(a.x!==V.xSnapped||a.y!==V.ySnapped)&&f&&O&&(g=getEventPosition(H.sourceEvent,m),j(V,H.sourceEvent))}}).on("end",H=>{if(!(!O||b)&&(d=!1,O=!1,cancelAnimationFrame(u),f.size>0)){const{nodeLookup:ee,updateNodePositions:I,onNodeDragStop:J,onSelectionDragStop:D}=e();if(I(f,!1),o||J||!$&&D){const[q,P]=getEventHandlerParams({nodeId:$,dragItems:f,nodeLookup:ee,dragging:!1});o==null||o(H.sourceEvent,f,q,P),J==null||J(H.sourceEvent,q,P),$||D==null||D(H.sourceEvent,P)}}}).filter(H=>{const ee=H.target;return!H.button&&(!k||!hasSelector(ee,`.${k}`,A))&&(!Q||hasSelector(ee,Q,A))});x.call(B)}function E(){x==null||x.on(".drag",null)}return{update:w,destroy:E}}function getNodesWithinDistance(r,e,n){const s=[],o={x:r.x-n,y:r.y-n,width:n*2,height:n*2};for(const a of e.values())getOverlappingArea(o,nodeToRect(a))>0&&s.push(a);return s}const ADDITIONAL_DISTANCE=250;function getClosestHandle(r,e,n,s){var f,d;let o=[],a=1/0;const u=getNodesWithinDistance(r,n,e+ADDITIONAL_DISTANCE);for(const g of u){const m=[...((f=g.internals.handleBounds)==null?void 0:f.source)??[],...((d=g.internals.handleBounds)==null?void 0:d.target)??[]];for(const O of m){if(s.nodeId===O.nodeId&&s.type===O.type&&s.id===O.id)continue;const{x,y:b}=getHandlePosition(g,O,O.position,!0),w=Math.sqrt(Math.pow(x-r.x,2)+Math.pow(b-r.y,2));w>e||(w<a?(o=[{...O,x,y:b}],a=w):w===a&&o.push({...O,x,y:b}))}}if(!o.length)return null;if(o.length>1){const g=s.type==="source"?"target":"source";return o.find(m=>m.type===g)??o[0]}return o[0]}function getHandle(r,e,n,s,o,a=!1){var g,m,O;const u=s.get(r);if(!u)return null;const f=o==="strict"?(g=u.internals.handleBounds)==null?void 0:g[e]:[...((m=u.internals.handleBounds)==null?void 0:m.source)??[],...((O=u.internals.handleBounds)==null?void 0:O.target)??[]],d=(n?f==null?void 0:f.find(x=>x.id===n):f==null?void 0:f[0])??null;return d&&a?{...d,...getHandlePosition(u,d,d.position,!0)}:d}function getHandleType(r,e){return r||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function isConnectionValid(r,e){let n=null;return e?n=!0:r&&!e&&(n=!1),n}const alwaysValid=()=>!0;function onPointerDown(r,{connectionMode:e,connectionRadius:n,handleId:s,nodeId:o,edgeUpdaterType:a,isTarget:u,domNode:f,nodeLookup:d,lib:g,autoPanOnConnect:m,flowId:O,panBy:x,cancelConnection:b,onConnectStart:w,onConnect:E,onConnectEnd:k,isValidConnection:Q=alwaysValid,onReconnectEnd:A,updateConnection:M,getTransform:$,getFromHandle:_,autoPanSpeed:j}){const Z=getHostForElement(r.target);let W=0,B;const{x:H,y:ee}=getEventPosition(r),I=Z==null?void 0:Z.elementFromPoint(H,ee),J=getHandleType(a,I),D=f==null?void 0:f.getBoundingClientRect();if(!D||!J)return;const q=getHandle(o,J,s,d,e);if(!q)return;let P=getEventPosition(r,D),V=!1,L=null,z=!1,R=null;function U(){if(!m||!D)return;const[pe,ge]=calcAutoPan(P,D,j);x({x:pe,y:ge}),W=requestAnimationFrame(U)}const te={...q,nodeId:o,type:J,position:q.position},oe=d.get(o),fe={inProgress:!0,isValid:null,from:getHandlePosition(oe,te,Position.Left,!0),fromHandle:te,fromPosition:te.position,fromNode:oe,to:P,toHandle:null,toPosition:oppositePosition[te.position],toNode:null};M(fe);let ue=fe;w==null||w(r,{nodeId:o,handleId:s,handleType:J});function he(pe){if(!_()||!te){ce(pe);return}const ge=$();P=getEventPosition(pe,D),B=getClosestHandle(pointToRendererPoint(P,ge,!1,[1,1]),n,d,te),V||(U(),V=!0);const Se=isValidHandle(pe,{handle:B,connectionMode:e,fromNodeId:o,fromHandleId:s,fromType:u?"target":"source",isValidConnection:Q,doc:Z,lib:g,flowId:O,nodeLookup:d});R=Se.handleDomNode,L=Se.connection,z=isConnectionValid(!!B,Se.isValid);const Oe={...ue,isValid:z,to:B&&z?rendererPointToPoint({x:B.x,y:B.y},ge):P,toHandle:Se.toHandle,toPosition:z&&Se.toHandle?Se.toHandle.position:oppositePosition[te.position],toNode:Se.toHandle?d.get(Se.toHandle.nodeId):null};z&&B&&ue.toHandle&&Oe.toHandle&&ue.toHandle.type===Oe.toHandle.type&&ue.toHandle.nodeId===Oe.toHandle.nodeId&&ue.toHandle.id===Oe.toHandle.id&&ue.to.x===Oe.to.x&&ue.to.y===Oe.to.y||(M(Oe),ue=Oe)}function ce(pe){(B||R)&&L&&z&&(E==null||E(L));const{inProgress:ge,...Se}=ue,Oe={...Se,toPosition:ue.toHandle?ue.toPosition:null};k==null||k(pe,Oe),a&&(A==null||A(pe,Oe)),b(),cancelAnimationFrame(W),V=!1,z=!1,L=null,R=null,Z.removeEventListener("mousemove",he),Z.removeEventListener("mouseup",ce),Z.removeEventListener("touchmove",he),Z.removeEventListener("touchend",ce)}Z.addEventListener("mousemove",he),Z.addEventListener("mouseup",ce),Z.addEventListener("touchmove",he),Z.addEventListener("touchend",ce)}function isValidHandle(r,{handle:e,connectionMode:n,fromNodeId:s,fromHandleId:o,fromType:a,doc:u,lib:f,flowId:d,isValidConnection:g=alwaysValid,nodeLookup:m}){const O=a==="target",x=e?u.querySelector(`.${f}-flow__handle[data-id="${d}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:b,y:w}=getEventPosition(r),E=u.elementFromPoint(b,w),k=E!=null&&E.classList.contains(`${f}-flow__handle`)?E:x,Q={handleDomNode:k,isValid:!1,connection:null,toHandle:null};if(k){const A=getHandleType(void 0,k),M=k.getAttribute("data-nodeid"),$=k.getAttribute("data-handleid"),_=k.classList.contains("connectable"),j=k.classList.contains("connectableend");if(!M||!A)return Q;const Z={source:O?M:s,sourceHandle:O?$:o,target:O?s:M,targetHandle:O?o:$};Q.connection=Z;const B=_&&j&&(n===ConnectionMode.Strict?O&&A==="source"||!O&&A==="target":M!==s||$!==o);Q.isValid=B&&g(Z),Q.toHandle=getHandle(M,A,$,m,n,!1)}return Q}const XYHandle={onPointerDown,isValid:isValidHandle};function XYMinimap({domNode:r,panZoom:e,getTransform:n,getViewScale:s}){const o=select(r);function a({translateExtent:f,width:d,height:g,zoomStep:m=10,pannable:O=!0,zoomable:x=!0,inversePan:b=!1}){const w=M=>{const $=n();if(M.sourceEvent.type!=="wheel"||!e)return;const _=-M.sourceEvent.deltaY*(M.sourceEvent.deltaMode===1?.05:M.sourceEvent.deltaMode?1:.002)*m,j=$[2]*Math.pow(2,_);e.scaleTo(j)};let E=[0,0];const k=M=>{(M.sourceEvent.type==="mousedown"||M.sourceEvent.type==="touchstart")&&(E=[M.sourceEvent.clientX??M.sourceEvent.touches[0].clientX,M.sourceEvent.clientY??M.sourceEvent.touches[0].clientY])},Q=M=>{const $=n();if(M.sourceEvent.type!=="mousemove"&&M.sourceEvent.type!=="touchmove"||!e)return;const _=[M.sourceEvent.clientX??M.sourceEvent.touches[0].clientX,M.sourceEvent.clientY??M.sourceEvent.touches[0].clientY],j=[_[0]-E[0],_[1]-E[1]];E=_;const Z=s()*Math.max($[2],Math.log($[2]))*(b?-1:1),W={x:$[0]-j[0]*Z,y:$[1]-j[1]*Z},B=[[0,0],[d,g]];e.setViewportConstrained({x:W.x,y:W.y,zoom:$[2]},B,f)},A=zoom().on("start",k).on("zoom",O?Q:null).on("zoom.wheel",x?w:null);o.call(A,{})}function u(){o.on("zoom",null)}return{update:a,destroy:u,pointer}}const viewChanged=(r,e)=>r.x!==e.x||r.y!==e.y||r.zoom!==e.k,transformToViewport=r=>({x:r.x,y:r.y,zoom:r.k}),viewportToTransform=({x:r,y:e,zoom:n})=>identity$1.translate(r,e).scale(n),isWrappedWithClass=(r,e)=>r.target.closest(`.${e}`),isRightClickPan=(r,e)=>e===2&&Array.isArray(r)&&r.includes(2),getD3Transition=(r,e=0,n=()=>{})=>{const s=typeof e=="number"&&e>0;return s||n(),s?r.transition().duration(e).on("end",n):r},wheelDelta=r=>{const e=r.ctrlKey&&isMacOs()?10:1;return-r.deltaY*(r.deltaMode===1?.05:r.deltaMode?1:.002)*e};function createPanOnScrollHandler({zoomPanValues:r,noWheelClassName:e,d3Selection:n,d3Zoom:s,panOnScrollMode:o,panOnScrollSpeed:a,zoomOnPinch:u,onPanZoomStart:f,onPanZoom:d,onPanZoomEnd:g}){return m=>{if(isWrappedWithClass(m,e))return!1;m.preventDefault(),m.stopImmediatePropagation();const O=n.property("__zoom").k||1;if(m.ctrlKey&&u){const k=pointer(m),Q=wheelDelta(m),A=O*Math.pow(2,Q);s.scaleTo(n,A,k,m);return}const x=m.deltaMode===1?20:1;let b=o===PanOnScrollMode.Vertical?0:m.deltaX*x,w=o===PanOnScrollMode.Horizontal?0:m.deltaY*x;!isMacOs()&&m.shiftKey&&o!==PanOnScrollMode.Vertical&&(b=m.deltaY*x,w=0),s.translateBy(n,-(b/O)*a,-(w/O)*a,{internal:!0});const E=transformToViewport(n.property("__zoom"));clearTimeout(r.panScrollTimeout),r.isPanScrolling||(r.isPanScrolling=!0,f==null||f(m,E)),r.isPanScrolling&&(d==null||d(m,E),r.panScrollTimeout=setTimeout(()=>{g==null||g(m,E),r.isPanScrolling=!1},150))}}function createZoomOnScrollHandler({noWheelClassName:r,preventScrolling:e,d3ZoomHandler:n}){return function(s,o){if(!e&&s.type==="wheel"&&!s.ctrlKey||isWrappedWithClass(s,r))return null;s.preventDefault(),n.call(this,s,o)}}function createPanZoomStartHandler({zoomPanValues:r,onDraggingChange:e,onPanZoomStart:n}){return s=>{var a,u,f;if((a=s.sourceEvent)!=null&&a.internal)return;const o=transformToViewport(s.transform);r.mouseButton=((u=s.sourceEvent)==null?void 0:u.button)||0,r.isZoomingOrPanning=!0,r.prevViewport=o,((f=s.sourceEvent)==null?void 0:f.type)==="mousedown"&&e(!0),n&&(n==null||n(s.sourceEvent,o))}}function createPanZoomHandler({zoomPanValues:r,panOnDrag:e,onPaneContextMenu:n,onTransformChange:s,onPanZoom:o}){return a=>{var u,f;r.usedRightMouseButton=!!(n&&isRightClickPan(e,r.mouseButton??0)),(u=a.sourceEvent)!=null&&u.sync||s([a.transform.x,a.transform.y,a.transform.k]),o&&!((f=a.sourceEvent)!=null&&f.internal)&&(o==null||o(a.sourceEvent,transformToViewport(a.transform)))}}function createPanZoomEndHandler({zoomPanValues:r,panOnDrag:e,panOnScroll:n,onDraggingChange:s,onPanZoomEnd:o,onPaneContextMenu:a}){return u=>{var f;if(!((f=u.sourceEvent)!=null&&f.internal)&&(r.isZoomingOrPanning=!1,a&&isRightClickPan(e,r.mouseButton??0)&&!r.usedRightMouseButton&&u.sourceEvent&&a(u.sourceEvent),r.usedRightMouseButton=!1,s(!1),o&&viewChanged(r.prevViewport,u.transform))){const d=transformToViewport(u.transform);r.prevViewport=d,clearTimeout(r.timerId),r.timerId=setTimeout(()=>{o==null||o(u.sourceEvent,d)},n?150:0)}}}function createFilter({zoomActivationKeyPressed:r,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:s,panOnScroll:o,zoomOnDoubleClick:a,userSelectionActive:u,noWheelClassName:f,noPanClassName:d,lib:g}){return m=>{var w;const O=r||e,x=n&&m.ctrlKey;if(m.button===1&&m.type==="mousedown"&&(isWrappedWithClass(m,`${g}-flow__node`)||isWrappedWithClass(m,`${g}-flow__edge`)))return!0;if(!s&&!O&&!o&&!a&&!n||u||isWrappedWithClass(m,f)&&m.type==="wheel"||isWrappedWithClass(m,d)&&(m.type!=="wheel"||o&&m.type==="wheel"&&!r)||!n&&m.ctrlKey&&m.type==="wheel")return!1;if(!n&&m.type==="touchstart"&&((w=m.touches)==null?void 0:w.length)>1)return m.preventDefault(),!1;if(!O&&!o&&!x&&m.type==="wheel"||!s&&(m.type==="mousedown"||m.type==="touchstart")||Array.isArray(s)&&!s.includes(m.button)&&m.type==="mousedown")return!1;const b=Array.isArray(s)&&s.includes(m.button)||!m.button||m.button<=1;return(!m.ctrlKey||m.type==="wheel")&&b}}function XYPanZoom({domNode:r,minZoom:e,maxZoom:n,paneClickDistance:s,translateExtent:o,viewport:a,onPanZoom:u,onPanZoomStart:f,onPanZoomEnd:d,onDraggingChange:g}){const m={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},O=r.getBoundingClientRect(),x=zoom().clickDistance(!isNumeric(s)||s<0?0:s).scaleExtent([e,n]).translateExtent(o),b=select(r).call(x);M({x:a.x,y:a.y,zoom:clamp(a.zoom,e,n)},[[0,0],[O.width,O.height]],o);const w=b.on("wheel.zoom"),E=b.on("dblclick.zoom");x.wheelDelta(wheelDelta);function k(I,J){return b?new Promise(D=>{x==null||x.transform(getD3Transition(b,J==null?void 0:J.duration,()=>D(!0)),I)}):Promise.resolve(!1)}function Q({noWheelClassName:I,noPanClassName:J,onPaneContextMenu:D,userSelectionActive:q,panOnScroll:P,panOnDrag:V,panOnScrollMode:L,panOnScrollSpeed:z,preventScrolling:R,zoomOnPinch:U,zoomOnScroll:te,zoomOnDoubleClick:oe,zoomActivationKeyPressed:ne,lib:fe,onTransformChange:ue}){q&&!m.isZoomingOrPanning&&A();const ce=P&&!ne&&!q?createPanOnScrollHandler({zoomPanValues:m,noWheelClassName:I,d3Selection:b,d3Zoom:x,panOnScrollMode:L,panOnScrollSpeed:z,zoomOnPinch:U,onPanZoomStart:f,onPanZoom:u,onPanZoomEnd:d}):createZoomOnScrollHandler({noWheelClassName:I,preventScrolling:R,d3ZoomHandler:w});if(b.on("wheel.zoom",ce,{passive:!1}),!q){const ge=createPanZoomStartHandler({zoomPanValues:m,onDraggingChange:g,onPanZoomStart:f});x.on("start",ge);const Se=createPanZoomHandler({zoomPanValues:m,panOnDrag:V,onPaneContextMenu:!!D,onPanZoom:u,onTransformChange:ue});x.on("zoom",Se);const Oe=createPanZoomEndHandler({zoomPanValues:m,panOnDrag:V,panOnScroll:P,onPaneContextMenu:D,onPanZoomEnd:d,onDraggingChange:g});x.on("end",Oe)}const pe=createFilter({zoomActivationKeyPressed:ne,panOnDrag:V,zoomOnScroll:te,panOnScroll:P,zoomOnDoubleClick:oe,zoomOnPinch:U,userSelectionActive:q,noPanClassName:J,noWheelClassName:I,lib:fe});x.filter(pe),oe?b.on("dblclick.zoom",E):b.on("dblclick.zoom",null)}function A(){x.on("zoom",null)}async function M(I,J,D){const q=viewportToTransform(I),P=x==null?void 0:x.constrain()(q,J,D);return P&&await k(P),new Promise(V=>V(P))}async function $(I,J){const D=viewportToTransform(I);return await k(D,J),new Promise(q=>q(D))}function _(I){if(b){const J=viewportToTransform(I),D=b.property("__zoom");(D.k!==I.zoom||D.x!==I.x||D.y!==I.y)&&(x==null||x.transform(b,J,null,{sync:!0}))}}function j(){const I=b?transform(b.node()):{x:0,y:0,k:1};return{x:I.x,y:I.y,zoom:I.k}}function Z(I,J){return b?new Promise(D=>{x==null||x.scaleTo(getD3Transition(b,J==null?void 0:J.duration,()=>D(!0)),I)}):Promise.resolve(!1)}function W(I,J){return b?new Promise(D=>{x==null||x.scaleBy(getD3Transition(b,J==null?void 0:J.duration,()=>D(!0)),I)}):Promise.resolve(!1)}function B(I){x==null||x.scaleExtent(I)}function H(I){x==null||x.translateExtent(I)}function ee(I){const J=!isNumeric(I)||I<0?0:I;x==null||x.clickDistance(J)}return{update:Q,destroy:A,setViewport:$,setViewportConstrained:M,getViewport:j,scaleTo:Z,scaleBy:W,setScaleExtent:B,setTranslateExtent:H,syncViewport:_,setClickDistance:ee}}var ResizeControlVariant;(function(r){r.Line="line",r.Handle="handle"})(ResizeControlVariant||(ResizeControlVariant={}));function getResizeDirection({width:r,prevWidth:e,height:n,prevHeight:s,affectsX:o,affectsY:a}){const u=r-e,f=n-s,d=[u>0?1:u<0?-1:0,f>0?1:f<0?-1:0];return u&&o&&(d[0]=d[0]*-1),f&&a&&(d[1]=d[1]*-1),d}function getControlDirection(r){const e=r.includes("right")||r.includes("left"),n=r.includes("bottom")||r.includes("top"),s=r.includes("left"),o=r.includes("top");return{isHorizontal:e,isVertical:n,affectsX:s,affectsY:o}}function getLowerExtentClamp(r,e){return Math.max(0,e-r)}function getUpperExtentClamp(r,e){return Math.max(0,r-e)}function getSizeClamp(r,e,n){return Math.max(0,e-r,r-n)}function xor(r,e){return r?!e:e}function getDimensionsAfterResize(r,e,n,s,o,a,u,f){let{affectsX:d,affectsY:g}=e;const{isHorizontal:m,isVertical:O}=e,x=m&&O,{xSnapped:b,ySnapped:w}=n,{minWidth:E,maxWidth:k,minHeight:Q,maxHeight:A}=s,{x:M,y:$,width:_,height:j,aspectRatio:Z}=r;let W=Math.floor(m?b-r.pointerX:0),B=Math.floor(O?w-r.pointerY:0);const H=_+(d?-W:W),ee=j+(g?-B:B),I=-a[0]*_,J=-a[1]*j;let D=getSizeClamp(H,E,k),q=getSizeClamp(ee,Q,A);if(u){let L=0,z=0;d&&W<0?L=getLowerExtentClamp(M+W+I,u[0][0]):!d&&W>0&&(L=getUpperExtentClamp(M+H+I,u[1][0])),g&&B<0?z=getLowerExtentClamp($+B+J,u[0][1]):!g&&B>0&&(z=getUpperExtentClamp($+ee+J,u[1][1])),D=Math.max(D,L),q=Math.max(q,z)}if(f){let L=0,z=0;d&&W>0?L=getUpperExtentClamp(M+W,f[0][0]):!d&&W<0&&(L=getLowerExtentClamp(M+H,f[1][0])),g&&B>0?z=getUpperExtentClamp($+B,f[0][1]):!g&&B<0&&(z=getLowerExtentClamp($+ee,f[1][1])),D=Math.max(D,L),q=Math.max(q,z)}if(o){if(m){const L=getSizeClamp(H/Z,Q,A)*Z;if(D=Math.max(D,L),u){let z=0;!d&&!g||d&&!g&&x?z=getUpperExtentClamp($+J+H/Z,u[1][1])*Z:z=getLowerExtentClamp($+J+(d?W:-W)/Z,u[0][1])*Z,D=Math.max(D,z)}if(f){let z=0;!d&&!g||d&&!g&&x?z=getLowerExtentClamp($+H/Z,f[1][1])*Z:z=getUpperExtentClamp($+(d?W:-W)/Z,f[0][1])*Z,D=Math.max(D,z)}}if(O){const L=getSizeClamp(ee*Z,E,k)/Z;if(q=Math.max(q,L),u){let z=0;!d&&!g||g&&!d&&x?z=getUpperExtentClamp(M+ee*Z+I,u[1][0])/Z:z=getLowerExtentClamp(M+(g?B:-B)*Z+I,u[0][0])/Z,q=Math.max(q,z)}if(f){let z=0;!d&&!g||g&&!d&&x?z=getLowerExtentClamp(M+ee*Z,f[1][0])/Z:z=getUpperExtentClamp(M+(g?B:-B)*Z,f[0][0])/Z,q=Math.max(q,z)}}}B=B+(B<0?q:-q),W=W+(W<0?D:-D),o&&(x?H>ee*Z?B=(xor(d,g)?-W:W)/Z:W=(xor(d,g)?-B:B)*Z:m?(B=W/Z,g=d):(W=B*Z,d=g));const P=d?M+W:M,V=g?$+B:$;return{width:_+(d?-W:W),height:j+(g?-B:B),x:a[0]*W*(d?-1:1)+P,y:a[1]*B*(g?-1:1)+V}}const initPrevValues$1={width:0,height:0,x:0,y:0},initStartValues={...initPrevValues$1,pointerX:0,pointerY:0,aspectRatio:1};function nodeToParentExtent(r){return[[0,0],[r.measured.width,r.measured.height]]}function nodeToChildExtent(r,e,n){const s=e.position.x+r.position.x,o=e.position.y+r.position.y,a=r.measured.width??0,u=r.measured.height??0,f=n[0]*a,d=n[1]*u;return[[s-f,o-d],[s+a-f,o+u-d]]}function XYResizer({domNode:r,nodeId:e,getStoreItems:n,onChange:s,onEnd:o}){const a=select(r);function u({controlPosition:d,boundaries:g,keepAspectRatio:m,onResizeStart:O,onResize:x,onResizeEnd:b,shouldResize:w}){let E={...initPrevValues$1},k={...initStartValues};const Q=getControlDirection(d);let A,M=null,$=[],_,j,Z;const W=drag().on("start",B=>{const{nodeLookup:H,transform:ee,snapGrid:I,snapToGrid:J,nodeOrigin:D,paneDomNode:q}=n();if(A=H.get(e),!A)return;M=(q==null?void 0:q.getBoundingClientRect())??null;const{xSnapped:P,ySnapped:V}=getPointerPosition(B.sourceEvent,{transform:ee,snapGrid:I,snapToGrid:J,containerBounds:M});E={width:A.measured.width??0,height:A.measured.height??0,x:A.position.x??0,y:A.position.y??0},k={...E,pointerX:P,pointerY:V,aspectRatio:E.width/E.height},_=void 0,A.parentId&&(A.extent==="parent"||A.expandParent)&&(_=H.get(A.parentId),j=_&&A.extent==="parent"?nodeToParentExtent(_):void 0),$=[],Z=void 0;for(const[L,z]of H)if(z.parentId===e&&($.push({id:L,position:{...z.position},extent:z.extent}),z.extent==="parent"||z.expandParent)){const R=nodeToChildExtent(z,A,z.origin??D);Z?Z=[[Math.min(R[0][0],Z[0][0]),Math.min(R[0][1],Z[0][1])],[Math.max(R[1][0],Z[1][0]),Math.max(R[1][1],Z[1][1])]]:Z=R}O==null||O(B,{...E})}).on("drag",B=>{const{transform:H,snapGrid:ee,snapToGrid:I,nodeOrigin:J}=n(),D=getPointerPosition(B.sourceEvent,{transform:H,snapGrid:ee,snapToGrid:I,containerBounds:M}),q=[];if(!A)return;const{x:P,y:V,width:L,height:z}=E,R={},U=A.origin??J,{width:te,height:oe,x:ne,y:fe}=getDimensionsAfterResize(k,Q,D,g,m,U,j,Z),ue=te!==L,he=oe!==z,ce=ne!==P&&ue,pe=fe!==V&&he;if(!ce&&!pe&&!ue&&!he)return;if((ce||pe||U[0]===1||U[1]===1)&&(R.x=ce?ne:E.x,R.y=pe?fe:E.y,E.x=R.x,E.y=R.y,$.length>0)){const we=ne-P,Re=fe-V;for(const je of $)je.position={x:je.position.x-we+U[0]*(te-L),y:je.position.y-Re+U[1]*(oe-z)},q.push(je)}if((ue||he)&&(R.width=ue?te:E.width,R.height=he?oe:E.height,E.width=R.width,E.height=R.height),_&&A.expandParent){const we=U[0]*(R.width??0);R.x&&R.x<we&&(E.x=we,k.x=k.x-(R.x-we));const Re=U[1]*(R.height??0);R.y&&R.y<Re&&(E.y=Re,k.y=k.y-(R.y-Re))}const ge=getResizeDirection({width:E.width,prevWidth:L,height:E.height,prevHeight:z,affectsX:Q.affectsX,affectsY:Q.affectsY}),Se={...E,direction:ge};(w==null?void 0:w(B,Se))!==!1&&(x==null||x(B,Se),s(R,q))}).on("end",B=>{b==null||b(B,{...E}),o==null||o()});a.call(W)}function f(){a.on(".drag",null)}return{update:u,destroy:f}}var withSelector={exports:{}},withSelector_production={},shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var r=requireReact();function e(O,x){return O===x&&(O!==0||1/O===1/x)||O!==O&&x!==x}var n=typeof Object.is=="function"?Object.is:e,s=r.useState,o=r.useEffect,a=r.useLayoutEffect,u=r.useDebugValue;function f(O,x){var b=x(),w=s({inst:{value:b,getSnapshot:x}}),E=w[0].inst,k=w[1];return a(function(){E.value=b,E.getSnapshot=x,d(E)&&k({inst:E})},[O,b,x]),o(function(){return d(E)&&k({inst:E}),O(function(){d(E)&&k({inst:E})})},[O]),u(b),b}function d(O){var x=O.getSnapshot;O=O.value;try{var b=x();return!n(O,b)}catch{return!0}}function g(O,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:f;return useSyncExternalStoreShim_production.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:m,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var r=requireReact(),e=requireShim();function n(g,m){return g===m&&(g!==0||1/g===1/m)||g!==g&&m!==m}var s=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,a=r.useRef,u=r.useEffect,f=r.useMemo,d=r.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(g,m,O,x,b){var w=a(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=f(function(){function Q(j){if(!A){if(A=!0,M=j,j=x(j),b!==void 0&&E.hasValue){var Z=E.value;if(b(Z,j))return $=Z}return $=j}if(Z=$,s(M,j))return Z;var W=x(j);return b!==void 0&&b(Z,W)?(M=j,Z):(M=j,$=W)}var A=!1,M,$,_=O===void 0?null:O;return[function(){return Q(m())},_===null?void 0:function(){return Q(_())}]},[m,O,x,b]);var k=o(g,w[0],w[1]);return u(function(){E.hasValue=!0,E.value=k},[k]),d(k),k},withSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireWithSelector_production()),withSelector.exports}var withSelectorExports=requireWithSelector();const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),createStoreImpl=r=>{let e;const n=new Set,s=(m,O)=>{const x=typeof m=="function"?m(e):m;if(!Object.is(x,e)){const b=e;e=O??(typeof x!="object"||x===null)?x:Object.assign({},e,x),n.forEach(w=>w(e,b))}},o=()=>e,d={setState:s,getState:o,getInitialState:()=>g,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{n.clear()}},g=e=r(s,o,d);return d},createStore$1=r=>r?createStoreImpl(r):createStoreImpl,{useDebugValue}=ReactExports,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports,identity=r=>r;function useStoreWithEqualityFn(r,e=identity,n){const s=useSyncExternalStoreWithSelector(r.subscribe,r.getState,r.getServerState||r.getInitialState,e,n);return useDebugValue(s),s}const createWithEqualityFnImpl=(r,e)=>{const n=createStore$1(r),s=(o,a=e)=>useStoreWithEqualityFn(n,o,a);return Object.assign(s,n),s},createWithEqualityFn=(r,e)=>r?createWithEqualityFnImpl(r,e):createWithEqualityFnImpl;function shallow$1(r,e){if(Object.is(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;if(r instanceof Map&&e instanceof Map){if(r.size!==e.size)return!1;for(const[s,o]of r)if(!Object.is(o,e.get(s)))return!1;return!0}if(r instanceof Set&&e instanceof Set){if(r.size!==e.size)return!1;for(const s of r)if(!e.has(s))return!1;return!0}const n=Object.keys(r);if(n.length!==Object.keys(e).length)return!1;for(const s of n)if(!Object.prototype.hasOwnProperty.call(e,s)||!Object.is(r[s],e[s]))return!1;return!0}const StoreContext=reactExports.createContext(null),Provider$1=StoreContext.Provider,zustandErrorMessage=errorMessages.error001();function useStore(r,e){const n=reactExports.useContext(StoreContext);if(n===null)throw new Error(zustandErrorMessage);return useStoreWithEqualityFn(n,r,e)}function useStoreApi(){const r=reactExports.useContext(StoreContext);if(r===null)throw new Error(zustandErrorMessage);return reactExports.useMemo(()=>({getState:r.getState,setState:r.setState,subscribe:r.subscribe}),[r])}const style={display:"none"},ariaLiveStyle={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ARIA_NODE_DESC_KEY="react-flow__node-desc",ARIA_EDGE_DESC_KEY="react-flow__edge-desc",ARIA_LIVE_MESSAGE="react-flow__aria-live",selector$o=r=>r.ariaLiveMessage;function AriaLiveMessage({rfId:r}){const e=useStore(selector$o);return jsxRuntimeExports.jsx("div",{id:`${ARIA_LIVE_MESSAGE}-${r}`,"aria-live":"assertive","aria-atomic":"true",style:ariaLiveStyle,children:e})}function A11yDescriptions({rfId:r,disableKeyboardA11y:e}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{id:`${ARIA_NODE_DESC_KEY}-${r}`,style,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),jsxRuntimeExports.jsx("div",{id:`${ARIA_EDGE_DESC_KEY}-${r}`,style,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&jsxRuntimeExports.jsx(AriaLiveMessage,{rfId:r})]})}const selector$n=r=>r.userSelectionActive?"none":"all",Panel=reactExports.forwardRef(({position:r="top-left",children:e,className:n,style:s,...o},a)=>{const u=useStore(selector$n),f=`${r}`.split("-");return jsxRuntimeExports.jsx("div",{className:cc(["react-flow__panel",n,...f]),style:{...s,pointerEvents:u},ref:a,...o,children:e})});function Attribution({proOptions:r,position:e="bottom-right"}){return r!=null&&r.hideAttribution?null:jsxRuntimeExports.jsx(Panel,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:jsxRuntimeExports.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const selector$m=r=>{const e=[],n=[];for(const[,s]of r.nodeLookup)s.selected&&e.push(s.internals.userNode);for(const[,s]of r.edgeLookup)s.selected&&n.push(s);return{selectedNodes:e,selectedEdges:n}},selectId=r=>r.id;function areEqual(r,e){return shallow$1(r.selectedNodes.map(selectId),e.selectedNodes.map(selectId))&&shallow$1(r.selectedEdges.map(selectId),e.selectedEdges.map(selectId))}function SelectionListenerInner({onSelectionChange:r}){const e=useStoreApi(),{selectedNodes:n,selectedEdges:s}=useStore(selector$m,areEqual);return reactExports.useEffect(()=>{const o={nodes:n,edges:s};r==null||r(o),e.getState().onSelectionChangeHandlers.forEach(a=>a(o))},[n,s,r]),null}const changeSelector=r=>!!r.onSelectionChangeHandlers;function SelectionListener({onSelectionChange:r}){const e=useStore(changeSelector);return r||e?jsxRuntimeExports.jsx(SelectionListenerInner,{onSelectionChange:r}):null}const defaultNodeOrigin=[0,0],defaultViewport={x:0,y:0,zoom:1},reactFlowFieldsToTrack=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],fieldsToTrack=[...reactFlowFieldsToTrack,"rfId"],selector$l=r=>({setNodes:r.setNodes,setEdges:r.setEdges,setMinZoom:r.setMinZoom,setMaxZoom:r.setMaxZoom,setTranslateExtent:r.setTranslateExtent,setNodeExtent:r.setNodeExtent,reset:r.reset,setDefaultNodesAndEdges:r.setDefaultNodesAndEdges,setPaneClickDistance:r.setPaneClickDistance}),initPrevValues={translateExtent:infiniteExtent,nodeOrigin:defaultNodeOrigin,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function StoreUpdater(r){const{setNodes:e,setEdges:n,setMinZoom:s,setMaxZoom:o,setTranslateExtent:a,setNodeExtent:u,reset:f,setDefaultNodesAndEdges:d,setPaneClickDistance:g}=useStore(selector$l,shallow$1),m=useStoreApi();reactExports.useEffect(()=>(d(r.defaultNodes,r.defaultEdges),()=>{O.current=initPrevValues,f()}),[]);const O=reactExports.useRef(initPrevValues);return reactExports.useEffect(()=>{for(const x of fieldsToTrack){const b=r[x],w=O.current[x];b!==w&&(typeof r[x]>"u"||(x==="nodes"?e(b):x==="edges"?n(b):x==="minZoom"?s(b):x==="maxZoom"?o(b):x==="translateExtent"?a(b):x==="nodeExtent"?u(b):x==="paneClickDistance"?g(b):x==="fitView"?m.setState({fitViewOnInit:b}):x==="fitViewOptions"?m.setState({fitViewOnInitOptions:b}):m.setState({[x]:b})))}O.current=r},fieldsToTrack.map(x=>r[x])),null}function getMediaQuery(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function useColorModeClass(r){var s;const[e,n]=reactExports.useState(r==="system"?null:r);return reactExports.useEffect(()=>{if(r!=="system"){n(r);return}const o=getMediaQuery(),a=()=>n(o!=null&&o.matches?"dark":"light");return a(),o==null||o.addEventListener("change",a),()=>{o==null||o.removeEventListener("change",a)}},[r]),e!==null?e:(s=getMediaQuery())!=null&&s.matches?"dark":"light"}const defaultDoc=typeof document<"u"?document:null;function useKeyPress(r=null,e={target:defaultDoc,actInsideInputWithModifier:!0}){const[n,s]=reactExports.useState(!1),o=reactExports.useRef(!1),a=reactExports.useRef(new Set([])),[u,f]=reactExports.useMemo(()=>{if(r!==null){const g=(Array.isArray(r)?r:[r]).filter(O=>typeof O=="string").map(O=>O.replace("+",`
`).replace(`

`,`
+`).split(`
`)),m=g.reduce((O,x)=>O.concat(...x),[]);return[g,m]}return[[],[]]},[r]);return reactExports.useEffect(()=>{const d=(e==null?void 0:e.target)||defaultDoc;if(r!==null){const g=x=>{if(o.current=x.ctrlKey||x.metaKey||x.shiftKey,(!o.current||o.current&&!e.actInsideInputWithModifier)&&isInputDOMNode(x))return!1;const w=useKeyOrCode(x.code,f);a.current.add(x[w]),isMatchingKey(u,a.current,!1)&&(x.preventDefault(),s(!0))},m=x=>{if((!o.current||o.current&&!e.actInsideInputWithModifier)&&isInputDOMNode(x))return!1;const w=useKeyOrCode(x.code,f);isMatchingKey(u,a.current,!0)?(s(!1),a.current.clear()):a.current.delete(x[w]),x.key==="Meta"&&a.current.clear(),o.current=!1},O=()=>{a.current.clear(),s(!1)};return d==null||d.addEventListener("keydown",g),d==null||d.addEventListener("keyup",m),window.addEventListener("blur",O),window.addEventListener("contextmenu",O),()=>{d==null||d.removeEventListener("keydown",g),d==null||d.removeEventListener("keyup",m),window.removeEventListener("blur",O),window.removeEventListener("contextmenu",O)}}},[r,s]),n}function isMatchingKey(r,e,n){return r.filter(s=>n||s.length===e.size).some(s=>s.every(o=>e.has(o)))}function useKeyOrCode(r,e){return e.includes(r)?"code":"key"}const useViewportHelper=()=>{const r=useStoreApi();return reactExports.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=r.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=r.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:s}=r.getState();return s?s.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>r.getState().transform[2],setViewport:async(e,n)=>{const{transform:[s,o,a],panZoom:u}=r.getState();return u?(await u.setViewport({x:e.x??s,y:e.y??o,zoom:e.zoom??a},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,s]=r.getState().transform;return{x:e,y:n,zoom:s}},fitView:e=>{const{nodeLookup:n,minZoom:s,maxZoom:o,panZoom:a,domNode:u}=r.getState();if(!a||!u)return Promise.resolve(!1);const f=getFitViewNodes(n,e),{width:d,height:g}=getDimensions(u);return fitView({nodes:f,width:d,height:g,minZoom:s,maxZoom:o,panZoom:a},e)},setCenter:async(e,n,s)=>{const{width:o,height:a,maxZoom:u,panZoom:f}=r.getState(),d=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,g=o/2-e*d,m=a/2-n*d;return f?(await f.setViewport({x:g,y:m,zoom:d},{duration:s==null?void 0:s.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,n)=>{const{width:s,height:o,minZoom:a,maxZoom:u,panZoom:f}=r.getState(),d=getViewportForBounds(e,s,o,a,u,(n==null?void 0:n.padding)??.1);return f?(await f.setViewport(d,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={snapToGrid:!0})=>{const{transform:s,snapGrid:o,domNode:a}=r.getState();if(!a)return e;const{x:u,y:f}=a.getBoundingClientRect(),d={x:e.x-u,y:e.y-f};return pointToRendererPoint(d,s,n.snapToGrid,o)},flowToScreenPosition:e=>{const{transform:n,domNode:s}=r.getState();if(!s)return e;const{x:o,y:a}=s.getBoundingClientRect(),u=rendererPointToPoint(e,n);return{x:u.x+o,y:u.y+a}}}),[])};function applyChanges(r,e){const n=[],s=new Map,o=[];for(const a of r)if(a.type==="add"){o.push(a);continue}else if(a.type==="remove"||a.type==="replace")s.set(a.id,[a]);else{const u=s.get(a.id);u?u.push(a):s.set(a.id,[a])}for(const a of e){const u=s.get(a.id);if(!u){n.push(a);continue}if(u[0].type==="remove")continue;if(u[0].type==="replace"){n.push({...u[0].item});continue}const f={...a};for(const d of u)applyChange(d,f);n.push(f)}return o.length&&o.forEach(a=>{a.index!==void 0?n.splice(a.index,0,{...a.item}):n.push({...a.item})}),n}function applyChange(r,e){switch(r.type){case"select":{e.selected=r.selected;break}case"position":{typeof r.position<"u"&&(e.position=r.position),typeof r.dragging<"u"&&(e.dragging=r.dragging);break}case"dimensions":{typeof r.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=r.dimensions.width,e.measured.height=r.dimensions.height,r.setAttributes&&(e.width=r.dimensions.width,e.height=r.dimensions.height)),typeof r.resizing=="boolean"&&(e.resizing=r.resizing);break}}}function applyNodeChanges(r,e){return applyChanges(r,e)}function applyEdgeChanges(r,e){return applyChanges(r,e)}function createSelectionChange(r,e){return{id:r,type:"select",selected:e}}function getSelectionChanges(r,e=new Set,n=!1){const s=[];for(const[o,a]of r){const u=e.has(o);!(a.selected===void 0&&!u)&&a.selected!==u&&(n&&(a.selected=u),s.push(createSelectionChange(a.id,u)))}return s}function getElementsDiffChanges({items:r=[],lookup:e}){var o;const n=[],s=new Map(r.map(a=>[a.id,a]));for(const[a,u]of r.entries()){const f=e.get(u.id),d=((o=f==null?void 0:f.internals)==null?void 0:o.userNode)??f;d!==void 0&&d!==u&&n.push({id:u.id,item:u,type:"replace"}),d===void 0&&n.push({item:u,type:"add",index:a})}for(const[a]of e)s.get(a)===void 0&&n.push({id:a,type:"remove"});return n}function elementToRemoveChange(r){return{id:r.id,type:"remove"}}const isNode=r=>isNodeBase(r),isEdge=r=>isEdgeBase(r);function fixedForwardRef(r){return reactExports.forwardRef(r)}const useIsomorphicLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useQueue(r){const[e,n]=reactExports.useState(BigInt(0)),[s]=reactExports.useState(()=>createQueue(()=>n(o=>o+BigInt(1))));return useIsomorphicLayoutEffect(()=>{const o=s.get();o.length&&(r(o),s.reset())},[e]),s}function createQueue(r){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),r()}}}const BatchContext=reactExports.createContext(null);function BatchProvider({children:r}){const e=useStoreApi(),n=reactExports.useCallback(f=>{const{nodes:d=[],setNodes:g,hasDefaultNodes:m,onNodesChange:O,nodeLookup:x}=e.getState();let b=d;for(const w of f)b=typeof w=="function"?w(b):w;m?g(b):O&&O(getElementsDiffChanges({items:b,lookup:x}))},[]),s=useQueue(n),o=reactExports.useCallback(f=>{const{edges:d=[],setEdges:g,hasDefaultEdges:m,onEdgesChange:O,edgeLookup:x}=e.getState();let b=d;for(const w of f)b=typeof w=="function"?w(b):w;m?g(b):O&&O(getElementsDiffChanges({items:b,lookup:x}))},[]),a=useQueue(o),u=reactExports.useMemo(()=>({nodeQueue:s,edgeQueue:a}),[]);return jsxRuntimeExports.jsx(BatchContext.Provider,{value:u,children:r})}function useBatchContext(){const r=reactExports.useContext(BatchContext);if(!r)throw new Error("useBatchContext must be used within a BatchProvider");return r}const selector$k=r=>!!r.panZoom;function useReactFlow(){const r=useViewportHelper(),e=useStoreApi(),n=useBatchContext(),s=useStore(selector$k),o=reactExports.useMemo(()=>{const a=O=>e.getState().nodeLookup.get(O),u=O=>{n.nodeQueue.push(O)},f=O=>{n.edgeQueue.push(O)},d=O=>{var Q,A;const{nodeLookup:x,nodeOrigin:b}=e.getState(),w=isNode(O)?O:x.get(O.id),E=w.parentId?evaluateAbsolutePosition(w.position,w.measured,w.parentId,x,b):w.position,k={...w,position:E,width:((Q=w.measured)==null?void 0:Q.width)??w.width,height:((A=w.measured)==null?void 0:A.height)??w.height};return nodeToRect(k)},g=(O,x,b={replace:!1})=>{u(w=>w.map(E=>{if(E.id===O){const k=typeof x=="function"?x(E):x;return b.replace&&isNode(k)?k:{...E,...k}}return E}))},m=(O,x,b={replace:!1})=>{f(w=>w.map(E=>{if(E.id===O){const k=typeof x=="function"?x(E):x;return b.replace&&isEdge(k)?k:{...E,...k}}return E}))};return{getNodes:()=>e.getState().nodes.map(O=>({...O})),getNode:O=>{var x;return(x=a(O))==null?void 0:x.internals.userNode},getInternalNode:a,getEdges:()=>{const{edges:O=[]}=e.getState();return O.map(x=>({...x}))},getEdge:O=>e.getState().edgeLookup.get(O),setNodes:u,setEdges:f,addNodes:O=>{const x=Array.isArray(O)?O:[O];n.nodeQueue.push(b=>[...b,...x])},addEdges:O=>{const x=Array.isArray(O)?O:[O];n.edgeQueue.push(b=>[...b,...x])},toObject:()=>{const{nodes:O=[],edges:x=[],transform:b}=e.getState(),[w,E,k]=b;return{nodes:O.map(Q=>({...Q})),edges:x.map(Q=>({...Q})),viewport:{x:w,y:E,zoom:k}}},deleteElements:async({nodes:O=[],edges:x=[]})=>{const{nodes:b,edges:w,onNodesDelete:E,onEdgesDelete:k,triggerNodeChanges:Q,triggerEdgeChanges:A,onDelete:M,onBeforeDelete:$}=e.getState(),{nodes:_,edges:j}=await getElementsToRemove({nodesToRemove:O,edgesToRemove:x,nodes:b,edges:w,onBeforeDelete:$}),Z=j.length>0,W=_.length>0;if(Z){const B=j.map(elementToRemoveChange);k==null||k(j),A(B)}if(W){const B=_.map(elementToRemoveChange);E==null||E(_),Q(B)}return(W||Z)&&(M==null||M({nodes:_,edges:j})),{deletedNodes:_,deletedEdges:j}},getIntersectingNodes:(O,x=!0,b)=>{const w=isRectObject(O),E=w?O:d(O),k=b!==void 0;return E?(b||e.getState().nodes).filter(Q=>{const A=e.getState().nodeLookup.get(Q.id);if(A&&!w&&(Q.id===O.id||!A.internals.positionAbsolute))return!1;const M=nodeToRect(k?Q:A),$=getOverlappingArea(M,E);return x&&$>0||$>=E.width*E.height}):[]},isNodeIntersecting:(O,x,b=!0)=>{const E=isRectObject(O)?O:d(O);if(!E)return!1;const k=getOverlappingArea(E,x);return b&&k>0||k>=E.width*E.height},updateNode:g,updateNodeData:(O,x,b={replace:!1})=>{g(O,w=>{const E=typeof x=="function"?x(w):x;return b.replace?{...w,data:E}:{...w,data:{...w.data,...E}}},b)},updateEdge:m,updateEdgeData:(O,x,b={replace:!1})=>{m(O,w=>{const E=typeof x=="function"?x(w):x;return b.replace?{...w,data:E}:{...w,data:{...w.data,...E}}},b)},getNodesBounds:O=>{const{nodeLookup:x,nodeOrigin:b}=e.getState();return getNodesBounds(O,{nodeLookup:x,nodeOrigin:b})},getHandleConnections:({type:O,id:x,nodeId:b})=>{var w;return Array.from(((w=e.getState().connectionLookup.get(`${b}-${O}${x?`-${x}`:""}`))==null?void 0:w.values())??[])},getNodeConnections:({type:O,handleId:x,nodeId:b})=>{var w;return Array.from(((w=e.getState().connectionLookup.get(`${b}${O?x?`-${O}-${x}`:`-${O}`:""}`))==null?void 0:w.values())??[])}}},[]);return reactExports.useMemo(()=>({...o,...r,viewportInitialized:s}),[s])}const selected=r=>r.selected,deleteKeyOptions={actInsideInputWithModifier:!1},win$1=typeof window<"u"?window:void 0;function useGlobalKeyHandler({deleteKeyCode:r,multiSelectionKeyCode:e}){const n=useStoreApi(),{deleteElements:s}=useReactFlow(),o=useKeyPress(r,deleteKeyOptions),a=useKeyPress(e,{target:win$1});reactExports.useEffect(()=>{if(o){const{edges:u,nodes:f}=n.getState();s({nodes:f.filter(selected),edges:u.filter(selected)}),n.setState({nodesSelectionActive:!1})}},[o]),reactExports.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])}function useResizeHandler(r){const e=useStoreApi();reactExports.useEffect(()=>{const n=()=>{var o,a;if(!r.current)return!1;const s=getDimensions(r.current);(s.height===0||s.width===0)&&((a=(o=e.getState()).onError)==null||a.call(o,"004",errorMessages.error004())),e.setState({width:s.width||500,height:s.height||500})};if(r.current){n(),window.addEventListener("resize",n);const s=new ResizeObserver(()=>n());return s.observe(r.current),()=>{window.removeEventListener("resize",n),s&&r.current&&s.unobserve(r.current)}}},[])}const containerStyle={position:"absolute",width:"100%",height:"100%",top:0,left:0},selector$j=r=>({userSelectionActive:r.userSelectionActive,lib:r.lib});function ZoomPane({onPaneContextMenu:r,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:s=!1,panOnScrollSpeed:o=.5,panOnScrollMode:a=PanOnScrollMode.Free,zoomOnDoubleClick:u=!0,panOnDrag:f=!0,defaultViewport:d,translateExtent:g,minZoom:m,maxZoom:O,zoomActivationKeyCode:x,preventScrolling:b=!0,children:w,noWheelClassName:E,noPanClassName:k,onViewportChange:Q,isControlledViewport:A,paneClickDistance:M}){const $=useStoreApi(),_=reactExports.useRef(null),{userSelectionActive:j,lib:Z}=useStore(selector$j,shallow$1),W=useKeyPress(x),B=reactExports.useRef();useResizeHandler(_);const H=reactExports.useCallback(ee=>{Q==null||Q({x:ee[0],y:ee[1],zoom:ee[2]}),A||$.setState({transform:ee})},[Q,A]);return reactExports.useEffect(()=>{if(_.current){B.current=XYPanZoom({domNode:_.current,minZoom:m,maxZoom:O,translateExtent:g,viewport:d,paneClickDistance:M,onDraggingChange:D=>$.setState({paneDragging:D}),onPanZoomStart:(D,q)=>{const{onViewportChangeStart:P,onMoveStart:V}=$.getState();V==null||V(D,q),P==null||P(q)},onPanZoom:(D,q)=>{const{onViewportChange:P,onMove:V}=$.getState();V==null||V(D,q),P==null||P(q)},onPanZoomEnd:(D,q)=>{const{onViewportChangeEnd:P,onMoveEnd:V}=$.getState();V==null||V(D,q),P==null||P(q)}});const{x:ee,y:I,zoom:J}=B.current.getViewport();return $.setState({panZoom:B.current,transform:[ee,I,J],domNode:_.current.closest(".react-flow")}),()=>{var D;(D=B.current)==null||D.destroy()}}},[]),reactExports.useEffect(()=>{var ee;(ee=B.current)==null||ee.update({onPaneContextMenu:r,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:s,panOnScrollSpeed:o,panOnScrollMode:a,zoomOnDoubleClick:u,panOnDrag:f,zoomActivationKeyPressed:W,preventScrolling:b,noPanClassName:k,userSelectionActive:j,noWheelClassName:E,lib:Z,onTransformChange:H})},[r,e,n,s,o,a,u,f,W,b,k,j,E,Z,H]),jsxRuntimeExports.jsx("div",{className:"react-flow__renderer",ref:_,style:containerStyle,children:w})}const selector$i=r=>({userSelectionActive:r.userSelectionActive,userSelectionRect:r.userSelectionRect});function UserSelection(){const{userSelectionActive:r,userSelectionRect:e}=useStore(selector$i,shallow$1);return r&&e?jsxRuntimeExports.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const wrapHandler=(r,e)=>n=>{n.target===e.current&&(r==null||r(n))},selector$h=r=>({userSelectionActive:r.userSelectionActive,elementsSelectable:r.elementsSelectable,dragging:r.paneDragging});function Pane({isSelecting:r,selectionKeyPressed:e,selectionMode:n=SelectionMode.Full,panOnDrag:s,selectionOnDrag:o,onSelectionStart:a,onSelectionEnd:u,onPaneClick:f,onPaneContextMenu:d,onPaneScroll:g,onPaneMouseEnter:m,onPaneMouseMove:O,onPaneMouseLeave:x,children:b}){const w=useStoreApi(),{userSelectionActive:E,elementsSelectable:k,dragging:Q}=useStore(selector$h,shallow$1),A=k&&(r||E),M=reactExports.useRef(null),$=reactExports.useRef(),_=reactExports.useRef(new Set),j=reactExports.useRef(new Set),Z=reactExports.useRef(!1),W=reactExports.useRef(!1),B=P=>{if(Z.current){Z.current=!1;return}f==null||f(P),w.getState().resetSelectedElements(),w.setState({nodesSelectionActive:!1})},H=P=>{if(Array.isArray(s)&&(s!=null&&s.includes(2))){P.preventDefault();return}d==null||d(P)},ee=g?P=>g(P):void 0,I=P=>{var U,te;const{resetSelectedElements:V,domNode:L}=w.getState();if($.current=L==null?void 0:L.getBoundingClientRect(),!k||!r||P.button!==0||P.target!==M.current||!$.current)return;(te=(U=P.target)==null?void 0:U.setPointerCapture)==null||te.call(U,P.pointerId),W.current=!0,Z.current=!1;const{x:z,y:R}=getEventPosition(P.nativeEvent,$.current);V(),w.setState({userSelectionRect:{width:0,height:0,startX:z,startY:R,x:z,y:R}}),a==null||a(P)},J=P=>{const{userSelectionRect:V,transform:L,nodeLookup:z,edgeLookup:R,connectionLookup:U,triggerNodeChanges:te,triggerEdgeChanges:oe,defaultEdgeOptions:ne}=w.getState();if(!$.current||!V)return;Z.current=!0;const{x:fe,y:ue}=getEventPosition(P.nativeEvent,$.current),{startX:he,startY:ce}=V,pe={startX:he,startY:ce,x:fe<he?fe:he,y:ue<ce?ue:ce,width:Math.abs(fe-he),height:Math.abs(ue-ce)},ge=_.current,Se=j.current;_.current=new Set(getNodesInside(z,pe,L,n===SelectionMode.Partial,!0).map(we=>we.id)),j.current=new Set;const Oe=(ne==null?void 0:ne.selectable)??!0;for(const we of _.current){const Re=U.get(we);if(Re)for(const{edgeId:je}of Re.values()){const We=R.get(je);We&&(We.selectable??Oe)&&j.current.add(je)}}if(!areSetsEqual(ge,_.current)){const we=getSelectionChanges(z,_.current,!0);te(we)}if(!areSetsEqual(Se,j.current)){const we=getSelectionChanges(R,j.current);oe(we)}w.setState({userSelectionRect:pe,userSelectionActive:!0,nodesSelectionActive:!1})},D=P=>{var L,z;if(P.button!==0||!W.current)return;(z=(L=P.target)==null?void 0:L.releasePointerCapture)==null||z.call(L,P.pointerId);const{userSelectionRect:V}=w.getState();!E&&V&&P.target===M.current&&(B==null||B(P)),w.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:_.current.size>0}),u==null||u(P),(e||o)&&(Z.current=!1),W.current=!1},q=s===!0||Array.isArray(s)&&s.includes(0);return jsxRuntimeExports.jsxs("div",{className:cc(["react-flow__pane",{draggable:q,dragging:Q,selection:r}]),onClick:A?void 0:wrapHandler(B,M),onContextMenu:wrapHandler(H,M),onWheel:wrapHandler(ee,M),onPointerEnter:A?void 0:m,onPointerDown:A?I:O,onPointerMove:A?J:O,onPointerUp:A?D:void 0,onPointerLeave:x,ref:M,style:containerStyle,children:[b,jsxRuntimeExports.jsx(UserSelection,{})]})}function handleNodeClick({id:r,store:e,unselect:n=!1,nodeRef:s}){const{addSelectedNodes:o,unselectNodesAndEdges:a,multiSelectionActive:u,nodeLookup:f,onError:d}=e.getState(),g=f.get(r);if(!g){d==null||d("012",errorMessages.error012(r));return}e.setState({nodesSelectionActive:!1}),g.selected?(n||g.selected&&u)&&(a({nodes:[g],edges:[]}),requestAnimationFrame(()=>{var m;return(m=s==null?void 0:s.current)==null?void 0:m.blur()})):o([r])}function useDrag({nodeRef:r,disabled:e=!1,noDragClassName:n,handleSelector:s,nodeId:o,isSelectable:a,nodeClickDistance:u}){const f=useStoreApi(),[d,g]=reactExports.useState(!1),m=reactExports.useRef();return reactExports.useEffect(()=>{m.current=XYDrag({getStoreItems:()=>f.getState(),onNodeMouseDown:O=>{handleNodeClick({id:O,store:f,nodeRef:r})},onDragStart:()=>{g(!0)},onDragStop:()=>{g(!1)}})},[]),reactExports.useEffect(()=>{var O,x;if(e)(O=m.current)==null||O.destroy();else if(r.current)return(x=m.current)==null||x.update({noDragClassName:n,handleSelector:s,domNode:r.current,isSelectable:a,nodeId:o,nodeClickDistance:u}),()=>{var b;(b=m.current)==null||b.destroy()}},[n,s,e,a,r,o]),d}const selectedAndDraggable=r=>e=>e.selected&&(e.draggable||r&&typeof e.draggable>"u");function useMoveSelectedNodes(){const r=useStoreApi();return reactExports.useCallback(n=>{const{nodeExtent:s,snapToGrid:o,snapGrid:a,nodesDraggable:u,onError:f,updateNodePositions:d,nodeLookup:g,nodeOrigin:m}=r.getState(),O=new Map,x=selectedAndDraggable(u),b=o?a[0]:5,w=o?a[1]:5,E=n.direction.x*b*n.factor,k=n.direction.y*w*n.factor;for(const[,Q]of g){if(!x(Q))continue;let A={x:Q.internals.positionAbsolute.x+E,y:Q.internals.positionAbsolute.y+k};o&&(A=snapPosition(A,a));const{position:M,positionAbsolute:$}=calculateNodePosition({nodeId:Q.id,nextPosition:A,nodeLookup:g,nodeExtent:s,nodeOrigin:m,onError:f});Q.position=M,Q.internals.positionAbsolute=$,O.set(Q.id,Q)}d(O)},[])}const NodeIdContext=reactExports.createContext(null),Provider=NodeIdContext.Provider;NodeIdContext.Consumer;const useNodeId=()=>reactExports.useContext(NodeIdContext),selector$g=r=>({connectOnClick:r.connectOnClick,noPanClassName:r.noPanClassName,rfId:r.rfId}),connectingSelector=(r,e,n)=>s=>{const{connectionClickStartHandle:o,connectionMode:a,connection:u}=s,{fromHandle:f,toHandle:d,isValid:g}=u,m=(d==null?void 0:d.nodeId)===r&&(d==null?void 0:d.id)===e&&(d==null?void 0:d.type)===n;return{connectingFrom:(f==null?void 0:f.nodeId)===r&&(f==null?void 0:f.id)===e&&(f==null?void 0:f.type)===n,connectingTo:m,clickConnecting:(o==null?void 0:o.nodeId)===r&&(o==null?void 0:o.id)===e&&(o==null?void 0:o.type)===n,isPossibleEndHandle:a===ConnectionMode.Strict?(f==null?void 0:f.type)!==n:r!==(f==null?void 0:f.nodeId)||e!==(f==null?void 0:f.id),connectionInProcess:!!f,valid:m&&g}};function HandleComponent({type:r="source",position:e=Position.Top,isValidConnection:n,isConnectable:s=!0,isConnectableStart:o=!0,isConnectableEnd:a=!0,id:u,onConnect:f,children:d,className:g,onMouseDown:m,onTouchStart:O,...x},b){var D,q;const w=u||null,E=r==="target",k=useStoreApi(),Q=useNodeId(),{connectOnClick:A,noPanClassName:M,rfId:$}=useStore(selector$g,shallow$1),{connectingFrom:_,connectingTo:j,clickConnecting:Z,isPossibleEndHandle:W,connectionInProcess:B,valid:H}=useStore(connectingSelector(Q,w,r),shallow$1);Q||(q=(D=k.getState()).onError)==null||q.call(D,"010",errorMessages.error010());const ee=P=>{const{defaultEdgeOptions:V,onConnect:L,hasDefaultEdges:z}=k.getState(),R={...V,...P};if(z){const{edges:U,setEdges:te}=k.getState();te(addEdge(R,U))}L==null||L(R),f==null||f(R)},I=P=>{if(!Q)return;const V=isMouseEvent(P.nativeEvent);if(o&&(V&&P.button===0||!V)){const L=k.getState();XYHandle.onPointerDown(P.nativeEvent,{autoPanOnConnect:L.autoPanOnConnect,connectionMode:L.connectionMode,connectionRadius:L.connectionRadius,domNode:L.domNode,nodeLookup:L.nodeLookup,lib:L.lib,isTarget:E,handleId:w,nodeId:Q,flowId:L.rfId,panBy:L.panBy,cancelConnection:L.cancelConnection,onConnectStart:L.onConnectStart,onConnectEnd:L.onConnectEnd,updateConnection:L.updateConnection,onConnect:ee,isValidConnection:n||L.isValidConnection,getTransform:()=>k.getState().transform,getFromHandle:()=>k.getState().connection.fromHandle,autoPanSpeed:L.autoPanSpeed})}V?m==null||m(P):O==null||O(P)},J=P=>{const{onClickConnectStart:V,onClickConnectEnd:L,connectionClickStartHandle:z,connectionMode:R,isValidConnection:U,lib:te,rfId:oe,nodeLookup:ne,connection:fe}=k.getState();if(!Q||!z&&!o)return;if(!z){V==null||V(P.nativeEvent,{nodeId:Q,handleId:w,handleType:r}),k.setState({connectionClickStartHandle:{nodeId:Q,type:r,id:w}});return}const ue=getHostForElement(P.target),he=n||U,{connection:ce,isValid:pe}=XYHandle.isValid(P.nativeEvent,{handle:{nodeId:Q,id:w,type:r},connectionMode:R,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:he,flowId:oe,doc:ue,lib:te,nodeLookup:ne});pe&&ce&&ee(ce);const ge=structuredClone(fe);delete ge.inProgress,ge.toPosition=ge.toHandle?ge.toHandle.position:null,L==null||L(P,ge),k.setState({connectionClickStartHandle:null})};return jsxRuntimeExports.jsx("div",{"data-handleid":w,"data-nodeid":Q,"data-handlepos":e,"data-id":`${$}-${Q}-${w}-${r}`,className:cc(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",M,g,{source:!E,target:E,connectable:s,connectablestart:o,connectableend:a,clickconnecting:Z,connectingfrom:_,connectingto:j,valid:H,connectionindicator:s&&(!B||W)&&(B?a:o)}]),onMouseDown:I,onTouchStart:I,onClick:A?J:void 0,ref:b,...x,children:d})}const Handle=reactExports.memo(fixedForwardRef(HandleComponent));function InputNode({data:r,isConnectable:e,sourcePosition:n=Position.Bottom}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[r==null?void 0:r.label,jsxRuntimeExports.jsx(Handle,{type:"source",position:n,isConnectable:e})]})}function DefaultNode({data:r,isConnectable:e,targetPosition:n=Position.Top,sourcePosition:s=Position.Bottom}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Handle,{type:"target",position:n,isConnectable:e}),r==null?void 0:r.label,jsxRuntimeExports.jsx(Handle,{type:"source",position:s,isConnectable:e})]})}function GroupNode(){return null}function OutputNode({data:r,isConnectable:e,targetPosition:n=Position.Top}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Handle,{type:"target",position:n,isConnectable:e}),r==null?void 0:r.label]})}const arrowKeyDiffs={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},builtinNodeTypes={input:InputNode,default:DefaultNode,output:OutputNode,group:GroupNode};function getNodeInlineStyleDimensions(r){var e,n,s,o;return r.internals.handleBounds===void 0?{width:r.width??r.initialWidth??((e=r.style)==null?void 0:e.width),height:r.height??r.initialHeight??((n=r.style)==null?void 0:n.height)}:{width:r.width??((s=r.style)==null?void 0:s.width),height:r.height??((o=r.style)==null?void 0:o.height)}}const selector$f=r=>{const{width:e,height:n,x:s,y:o}=getInternalNodesBounds(r.nodeLookup,{filter:a=>!!a.selected});return{width:isNumeric(e)?e:null,height:isNumeric(n)?n:null,userSelectionActive:r.userSelectionActive,transformString:`translate(${r.transform[0]}px,${r.transform[1]}px) scale(${r.transform[2]}) translate(${s}px,${o}px)`}};function NodesSelection({onSelectionContextMenu:r,noPanClassName:e,disableKeyboardA11y:n}){const s=useStoreApi(),{width:o,height:a,transformString:u,userSelectionActive:f}=useStore(selector$f,shallow$1),d=useMoveSelectedNodes(),g=reactExports.useRef(null);if(reactExports.useEffect(()=>{var x;n||(x=g.current)==null||x.focus({preventScroll:!0})},[n]),useDrag({nodeRef:g}),f||!o||!a)return null;const m=r?x=>{const b=s.getState().nodes.filter(w=>w.selected);r(x,b)}:void 0,O=x=>{Object.prototype.hasOwnProperty.call(arrowKeyDiffs,x.key)&&(x.preventDefault(),d({direction:arrowKeyDiffs[x.key],factor:x.shiftKey?4:1}))};return jsxRuntimeExports.jsx("div",{className:cc(["react-flow__nodesselection","react-flow__container",e]),style:{transform:u},children:jsxRuntimeExports.jsx("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:O,style:{width:o,height:a}})})}const win=typeof window<"u"?window:void 0,selector$e=r=>({nodesSelectionActive:r.nodesSelectionActive,userSelectionActive:r.userSelectionActive});function FlowRendererComponent({children:r,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:u,paneClickDistance:f,deleteKeyCode:d,selectionKeyCode:g,selectionOnDrag:m,selectionMode:O,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:w,panActivationKeyCode:E,zoomActivationKeyCode:k,elementsSelectable:Q,zoomOnScroll:A,zoomOnPinch:M,panOnScroll:$,panOnScrollSpeed:_,panOnScrollMode:j,zoomOnDoubleClick:Z,panOnDrag:W,defaultViewport:B,translateExtent:H,minZoom:ee,maxZoom:I,preventScrolling:J,onSelectionContextMenu:D,noWheelClassName:q,noPanClassName:P,disableKeyboardA11y:V,onViewportChange:L,isControlledViewport:z}){const{nodesSelectionActive:R,userSelectionActive:U}=useStore(selector$e),te=useKeyPress(g,{target:win}),oe=useKeyPress(E,{target:win}),ne=oe||W,fe=oe||$,ue=m&&ne!==!0,he=te||U||ue;return useGlobalKeyHandler({deleteKeyCode:d,multiSelectionKeyCode:w}),jsxRuntimeExports.jsx(ZoomPane,{onPaneContextMenu:a,elementsSelectable:Q,zoomOnScroll:A,zoomOnPinch:M,panOnScroll:fe,panOnScrollSpeed:_,panOnScrollMode:j,zoomOnDoubleClick:Z,panOnDrag:!te&&ne,defaultViewport:B,translateExtent:H,minZoom:ee,maxZoom:I,zoomActivationKeyCode:k,preventScrolling:J,noWheelClassName:q,noPanClassName:P,onViewportChange:L,isControlledViewport:z,paneClickDistance:f,children:jsxRuntimeExports.jsxs(Pane,{onSelectionStart:x,onSelectionEnd:b,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:s,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:u,panOnDrag:ne,isSelecting:!!he,selectionMode:O,selectionKeyPressed:te,selectionOnDrag:ue,children:[r,R&&jsxRuntimeExports.jsx(NodesSelection,{onSelectionContextMenu:D,noPanClassName:P,disableKeyboardA11y:V})]})})}FlowRendererComponent.displayName="FlowRenderer";const FlowRenderer=reactExports.memo(FlowRendererComponent),selector$d=r=>e=>r?getNodesInside(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function useVisibleNodeIds(r){return useStore(reactExports.useCallback(selector$d(r),[r]),shallow$1)}const selector$c=r=>r.updateNodeInternals;function useResizeObserver(){const r=useStore(selector$c),[e]=reactExports.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const s=new Map;n.forEach(o=>{const a=o.target.getAttribute("data-id");s.set(a,{id:a,nodeElement:o.target,force:!0})}),r(s)}));return reactExports.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function useNodeObserver({node:r,nodeType:e,hasDimensions:n,resizeObserver:s}){const o=useStoreApi(),a=reactExports.useRef(null),u=reactExports.useRef(null),f=reactExports.useRef(r.sourcePosition),d=reactExports.useRef(r.targetPosition),g=reactExports.useRef(e),m=n&&!!r.internals.handleBounds;return reactExports.useEffect(()=>{a.current&&!r.hidden&&(!m||u.current!==a.current)&&(u.current&&(s==null||s.unobserve(u.current)),s==null||s.observe(a.current),u.current=a.current)},[m,r.hidden]),reactExports.useEffect(()=>()=>{u.current&&(s==null||s.unobserve(u.current),u.current=null)},[]),reactExports.useEffect(()=>{if(a.current){const O=g.current!==e,x=f.current!==r.sourcePosition,b=d.current!==r.targetPosition;(O||x||b)&&(g.current=e,f.current=r.sourcePosition,d.current=r.targetPosition,o.getState().updateNodeInternals(new Map([[r.id,{id:r.id,nodeElement:a.current,force:!0}]])))}},[r.id,e,r.sourcePosition,r.targetPosition]),a}function NodeWrapper({id:r,onClick:e,onMouseEnter:n,onMouseMove:s,onMouseLeave:o,onContextMenu:a,onDoubleClick:u,nodesDraggable:f,elementsSelectable:d,nodesConnectable:g,nodesFocusable:m,resizeObserver:O,noDragClassName:x,noPanClassName:b,disableKeyboardA11y:w,rfId:E,nodeTypes:k,nodeExtent:Q,nodeClickDistance:A,onError:M}){const{node:$,internals:_,isParent:j}=useStore(ce=>{const pe=ce.nodeLookup.get(r),ge=ce.parentLookup.has(r);return{node:pe,internals:pe.internals,isParent:ge}},shallow$1);let Z=$.type||"default",W=(k==null?void 0:k[Z])||builtinNodeTypes[Z];W===void 0&&(M==null||M("003",errorMessages.error003(Z)),Z="default",W=builtinNodeTypes.default);const B=!!($.draggable||f&&typeof $.draggable>"u"),H=!!($.selectable||d&&typeof $.selectable>"u"),ee=!!($.connectable||g&&typeof $.connectable>"u"),I=!!($.focusable||m&&typeof $.focusable>"u"),J=useStoreApi(),D=nodeHasDimensions($),q=useNodeObserver({node:$,nodeType:Z,hasDimensions:D,resizeObserver:O}),P=useDrag({nodeRef:q,disabled:$.hidden||!B,noDragClassName:x,handleSelector:$.dragHandle,nodeId:r,isSelectable:H,nodeClickDistance:A}),V=useMoveSelectedNodes();if($.hidden)return null;const L=getNodeDimensions($),z=getNodeInlineStyleDimensions($),R=H||B||e||n||s||o,U=n?ce=>n(ce,{..._.userNode}):void 0,te=s?ce=>s(ce,{..._.userNode}):void 0,oe=o?ce=>o(ce,{..._.userNode}):void 0,ne=a?ce=>a(ce,{..._.userNode}):void 0,fe=u?ce=>u(ce,{..._.userNode}):void 0,ue=ce=>{const{selectNodesOnDrag:pe,nodeDragThreshold:ge}=J.getState();H&&(!pe||!B||ge>0)&&handleNodeClick({id:r,store:J,nodeRef:q}),e&&e(ce,{..._.userNode})},he=ce=>{if(!(isInputDOMNode(ce.nativeEvent)||w))if(elementSelectionKeys.includes(ce.key)&&H){const pe=ce.key==="Escape";handleNodeClick({id:r,store:J,unselect:pe,nodeRef:q})}else B&&$.selected&&Object.prototype.hasOwnProperty.call(arrowKeyDiffs,ce.key)&&(ce.preventDefault(),J.setState({ariaLiveMessage:`Moved selected node ${ce.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~_.positionAbsolute.x}, y: ${~~_.positionAbsolute.y}`}),V({direction:arrowKeyDiffs[ce.key],factor:ce.shiftKey?4:1}))};return jsxRuntimeExports.jsx("div",{className:cc(["react-flow__node",`react-flow__node-${Z}`,{[b]:B},$.className,{selected:$.selected,selectable:H,parent:j,draggable:B,dragging:P}]),ref:q,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:R?"all":"none",visibility:D?"visible":"hidden",...$.style,...z},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:U,onMouseMove:te,onMouseLeave:oe,onContextMenu:ne,onClick:ue,onDoubleClick:fe,onKeyDown:I?he:void 0,tabIndex:I?0:void 0,role:I?"button":void 0,"aria-describedby":w?void 0:`${ARIA_NODE_DESC_KEY}-${E}`,"aria-label":$.ariaLabel,children:jsxRuntimeExports.jsx(Provider,{value:r,children:jsxRuntimeExports.jsx(W,{id:r,data:$.data,type:Z,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:$.selected??!1,selectable:H,draggable:B,deletable:$.deletable??!0,isConnectable:ee,sourcePosition:$.sourcePosition,targetPosition:$.targetPosition,dragging:P,dragHandle:$.dragHandle,zIndex:_.z,parentId:$.parentId,...L})})})}const selector$b=r=>({nodesDraggable:r.nodesDraggable,nodesConnectable:r.nodesConnectable,nodesFocusable:r.nodesFocusable,elementsSelectable:r.elementsSelectable,onError:r.onError});function NodeRendererComponent(r){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:s,elementsSelectable:o,onError:a}=useStore(selector$b,shallow$1),u=useVisibleNodeIds(r.onlyRenderVisibleElements),f=useResizeObserver();return jsxRuntimeExports.jsx("div",{className:"react-flow__nodes",style:containerStyle,children:u.map(d=>jsxRuntimeExports.jsx(NodeWrapper,{id:d,nodeTypes:r.nodeTypes,nodeExtent:r.nodeExtent,onClick:r.onNodeClick,onMouseEnter:r.onNodeMouseEnter,onMouseMove:r.onNodeMouseMove,onMouseLeave:r.onNodeMouseLeave,onContextMenu:r.onNodeContextMenu,onDoubleClick:r.onNodeDoubleClick,noDragClassName:r.noDragClassName,noPanClassName:r.noPanClassName,rfId:r.rfId,disableKeyboardA11y:r.disableKeyboardA11y,resizeObserver:f,nodesDraggable:e,nodesConnectable:n,nodesFocusable:s,elementsSelectable:o,nodeClickDistance:r.nodeClickDistance,onError:a},d))})}NodeRendererComponent.displayName="NodeRenderer";const NodeRenderer=reactExports.memo(NodeRendererComponent);function useVisibleEdgeIds(r){return useStore(reactExports.useCallback(n=>{if(!r)return n.edges.map(o=>o.id);const s=[];if(n.width&&n.height)for(const o of n.edges){const a=n.nodeLookup.get(o.source),u=n.nodeLookup.get(o.target);a&&u&&isEdgeVisible({sourceNode:a,targetNode:u,width:n.width,height:n.height,transform:n.transform})&&s.push(o.id)}return s},[r]),shallow$1)}const ArrowSymbol=({color:r="none",strokeWidth:e=1})=>jsxRuntimeExports.jsx("polyline",{style:{stroke:r,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),ArrowClosedSymbol=({color:r="none",strokeWidth:e=1})=>jsxRuntimeExports.jsx("polyline",{style:{stroke:r,fill:r,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),MarkerSymbols={[MarkerType.Arrow]:ArrowSymbol,[MarkerType.ArrowClosed]:ArrowClosedSymbol};function useMarkerSymbol(r){const e=useStoreApi();return reactExports.useMemo(()=>{var o,a;return Object.prototype.hasOwnProperty.call(MarkerSymbols,r)?MarkerSymbols[r]:((a=(o=e.getState()).onError)==null||a.call(o,"009",errorMessages.error009(r)),null)},[r])}const Marker=({id:r,type:e,color:n,width:s=12.5,height:o=12.5,markerUnits:a="strokeWidth",strokeWidth:u,orient:f="auto-start-reverse"})=>{const d=useMarkerSymbol(e);return d?jsxRuntimeExports.jsx("marker",{className:"react-flow__arrowhead",id:r,markerWidth:`${s}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:f,refX:"0",refY:"0",children:jsxRuntimeExports.jsx(d,{color:n,strokeWidth:u})}):null},MarkerDefinitions=({defaultColor:r,rfId:e})=>{const n=useStore(a=>a.edges),s=useStore(a=>a.defaultEdgeOptions),o=reactExports.useMemo(()=>createMarkerIds(n,{id:e,defaultColor:r,defaultMarkerStart:s==null?void 0:s.markerStart,defaultMarkerEnd:s==null?void 0:s.markerEnd}),[n,s,e,r]);return o.length?jsxRuntimeExports.jsx("svg",{className:"react-flow__marker",children:jsxRuntimeExports.jsx("defs",{children:o.map(a=>jsxRuntimeExports.jsx(Marker,{id:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient},a.id))})}):null};MarkerDefinitions.displayName="MarkerDefinitions";var MarkerDefinitions$1=reactExports.memo(MarkerDefinitions);function EdgeTextComponent({x:r,y:e,label:n,labelStyle:s={},labelShowBg:o=!0,labelBgStyle:a={},labelBgPadding:u=[2,4],labelBgBorderRadius:f=2,children:d,className:g,...m}){const[O,x]=reactExports.useState({x:1,y:0,width:0,height:0}),b=cc(["react-flow__edge-textwrapper",g]),w=reactExports.useRef(null);return reactExports.useEffect(()=>{if(w.current){const E=w.current.getBBox();x({x:E.x,y:E.y,width:E.width,height:E.height})}},[n]),typeof n>"u"||!n?null:jsxRuntimeExports.jsxs("g",{transform:`translate(${r-O.width/2} ${e-O.height/2})`,className:b,visibility:O.width?"visible":"hidden",...m,children:[o&&jsxRuntimeExports.jsx("rect",{width:O.width+2*u[0],x:-u[0],y:-u[1],height:O.height+2*u[1],className:"react-flow__edge-textbg",style:a,rx:f,ry:f}),jsxRuntimeExports.jsx("text",{className:"react-flow__edge-text",y:O.height/2,dy:"0.3em",ref:w,style:s,children:n}),d]})}EdgeTextComponent.displayName="EdgeText";const EdgeText=reactExports.memo(EdgeTextComponent);function BaseEdge({path:r,labelX:e,labelY:n,label:s,labelStyle:o,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,interactionWidth:g=20,...m}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("path",{...m,d:r,fill:"none",className:cc(["react-flow__edge-path",m.className])}),g&&jsxRuntimeExports.jsx("path",{d:r,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),s&&isNumeric(e)&&isNumeric(n)?jsxRuntimeExports.jsx(EdgeText,{x:e,y:n,label:s,labelStyle:o,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d}):null]})}function getControl({pos:r,x1:e,y1:n,x2:s,y2:o}){return r===Position.Left||r===Position.Right?[.5*(e+s),n]:[e,.5*(n+o)]}function getSimpleBezierPath({sourceX:r,sourceY:e,sourcePosition:n=Position.Bottom,targetX:s,targetY:o,targetPosition:a=Position.Top}){const[u,f]=getControl({pos:n,x1:r,y1:e,x2:s,y2:o}),[d,g]=getControl({pos:a,x1:s,y1:o,x2:r,y2:e}),[m,O,x,b]=getBezierEdgeCenter({sourceX:r,sourceY:e,targetX:s,targetY:o,sourceControlX:u,sourceControlY:f,targetControlX:d,targetControlY:g});return[`M${r},${e} C${u},${f} ${d},${g} ${s},${o}`,m,O,x,b]}function createSimpleBezierEdge(r){return reactExports.memo(({id:e,sourceX:n,sourceY:s,targetX:o,targetY:a,sourcePosition:u=Position.Bottom,targetPosition:f=Position.Top,label:d,labelStyle:g,labelShowBg:m,labelBgStyle:O,labelBgPadding:x,labelBgBorderRadius:b,style:w,markerEnd:E,markerStart:k,interactionWidth:Q})=>{const[A,M,$]=getSimpleBezierPath({sourceX:n,sourceY:s,sourcePosition:u,targetX:o,targetY:a,targetPosition:f}),_=r.isInternal?void 0:e;return jsxRuntimeExports.jsx(BaseEdge,{id:_,path:A,labelX:M,labelY:$,label:d,labelStyle:g,labelShowBg:m,labelBgStyle:O,labelBgPadding:x,labelBgBorderRadius:b,style:w,markerEnd:E,markerStart:k,interactionWidth:Q})})}const SimpleBezierEdge=createSimpleBezierEdge({isInternal:!1}),SimpleBezierEdgeInternal=createSimpleBezierEdge({isInternal:!0});SimpleBezierEdge.displayName="SimpleBezierEdge";SimpleBezierEdgeInternal.displayName="SimpleBezierEdgeInternal";function createSmoothStepEdge(r){return reactExports.memo(({id:e,sourceX:n,sourceY:s,targetX:o,targetY:a,label:u,labelStyle:f,labelShowBg:d,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:O,style:x,sourcePosition:b=Position.Bottom,targetPosition:w=Position.Top,markerEnd:E,markerStart:k,pathOptions:Q,interactionWidth:A})=>{const[M,$,_]=getSmoothStepPath({sourceX:n,sourceY:s,sourcePosition:b,targetX:o,targetY:a,targetPosition:w,borderRadius:Q==null?void 0:Q.borderRadius,offset:Q==null?void 0:Q.offset}),j=r.isInternal?void 0:e;return jsxRuntimeExports.jsx(BaseEdge,{id:j,path:M,labelX:$,labelY:_,label:u,labelStyle:f,labelShowBg:d,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:O,style:x,markerEnd:E,markerStart:k,interactionWidth:A})})}const SmoothStepEdge=createSmoothStepEdge({isInternal:!1}),SmoothStepEdgeInternal=createSmoothStepEdge({isInternal:!0});SmoothStepEdge.displayName="SmoothStepEdge";SmoothStepEdgeInternal.displayName="SmoothStepEdgeInternal";function createStepEdge(r){return reactExports.memo(({id:e,...n})=>{var o;const s=r.isInternal?void 0:e;return jsxRuntimeExports.jsx(SmoothStepEdge,{...n,id:s,pathOptions:reactExports.useMemo(()=>{var a;return{borderRadius:0,offset:(a=n.pathOptions)==null?void 0:a.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const StepEdge=createStepEdge({isInternal:!1}),StepEdgeInternal=createStepEdge({isInternal:!0});StepEdge.displayName="StepEdge";StepEdgeInternal.displayName="StepEdgeInternal";function createStraightEdge(r){return reactExports.memo(({id:e,sourceX:n,sourceY:s,targetX:o,targetY:a,label:u,labelStyle:f,labelShowBg:d,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:O,style:x,markerEnd:b,markerStart:w,interactionWidth:E})=>{const[k,Q,A]=getStraightPath({sourceX:n,sourceY:s,targetX:o,targetY:a}),M=r.isInternal?void 0:e;return jsxRuntimeExports.jsx(BaseEdge,{id:M,path:k,labelX:Q,labelY:A,label:u,labelStyle:f,labelShowBg:d,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:O,style:x,markerEnd:b,markerStart:w,interactionWidth:E})})}const StraightEdge=createStraightEdge({isInternal:!1}),StraightEdgeInternal=createStraightEdge({isInternal:!0});StraightEdge.displayName="StraightEdge";StraightEdgeInternal.displayName="StraightEdgeInternal";function createBezierEdge(r){return reactExports.memo(({id:e,sourceX:n,sourceY:s,targetX:o,targetY:a,sourcePosition:u=Position.Bottom,targetPosition:f=Position.Top,label:d,labelStyle:g,labelShowBg:m,labelBgStyle:O,labelBgPadding:x,labelBgBorderRadius:b,style:w,markerEnd:E,markerStart:k,pathOptions:Q,interactionWidth:A})=>{const[M,$,_]=getBezierPath({sourceX:n,sourceY:s,sourcePosition:u,targetX:o,targetY:a,targetPosition:f,curvature:Q==null?void 0:Q.curvature}),j=r.isInternal?void 0:e;return jsxRuntimeExports.jsx(BaseEdge,{id:j,path:M,labelX:$,labelY:_,label:d,labelStyle:g,labelShowBg:m,labelBgStyle:O,labelBgPadding:x,labelBgBorderRadius:b,style:w,markerEnd:E,markerStart:k,interactionWidth:A})})}const BezierEdge=createBezierEdge({isInternal:!1}),BezierEdgeInternal=createBezierEdge({isInternal:!0});BezierEdge.displayName="BezierEdge";BezierEdgeInternal.displayName="BezierEdgeInternal";const builtinEdgeTypes={default:BezierEdgeInternal,straight:StraightEdgeInternal,step:StepEdgeInternal,smoothstep:SmoothStepEdgeInternal,simplebezier:SimpleBezierEdgeInternal},nullPosition={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},shiftX=(r,e,n)=>n===Position.Left?r-e:n===Position.Right?r+e:r,shiftY=(r,e,n)=>n===Position.Top?r-e:n===Position.Bottom?r+e:r,EdgeUpdaterClassName="react-flow__edgeupdater";function EdgeAnchor({position:r,centerX:e,centerY:n,radius:s=10,onMouseDown:o,onMouseEnter:a,onMouseOut:u,type:f}){return jsxRuntimeExports.jsx("circle",{onMouseDown:o,onMouseEnter:a,onMouseOut:u,className:cc([EdgeUpdaterClassName,`${EdgeUpdaterClassName}-${f}`]),cx:shiftX(e,s,r),cy:shiftY(n,s,r),r:s,stroke:"transparent",fill:"transparent"})}function EdgeUpdateAnchors({isReconnectable:r,reconnectRadius:e,edge:n,sourceX:s,sourceY:o,targetX:a,targetY:u,sourcePosition:f,targetPosition:d,onReconnect:g,onReconnectStart:m,onReconnectEnd:O,setReconnecting:x,setUpdateHover:b}){const w=useStoreApi(),E=($,_)=>{if($.button!==0)return;const{autoPanOnConnect:j,domNode:Z,isValidConnection:W,connectionMode:B,connectionRadius:H,lib:ee,onConnectStart:I,onConnectEnd:J,cancelConnection:D,nodeLookup:q,rfId:P,panBy:V,updateConnection:L}=w.getState(),z=_.type==="target";x(!0),m==null||m($,n,_.type);const R=(te,oe)=>{x(!1),O==null||O(te,n,_.type,oe)},U=te=>g==null?void 0:g(n,te);XYHandle.onPointerDown($.nativeEvent,{autoPanOnConnect:j,connectionMode:B,connectionRadius:H,domNode:Z,handleId:_.id,nodeId:_.nodeId,nodeLookup:q,isTarget:z,edgeUpdaterType:_.type,lib:ee,flowId:P,cancelConnection:D,panBy:V,isValidConnection:W,onConnect:U,onConnectStart:I,onConnectEnd:J,onReconnectEnd:R,updateConnection:L,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle})},k=$=>E($,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),Q=$=>E($,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),A=()=>b(!0),M=()=>b(!1);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[(r===!0||r==="source")&&jsxRuntimeExports.jsx(EdgeAnchor,{position:f,centerX:s,centerY:o,radius:e,onMouseDown:k,onMouseEnter:A,onMouseOut:M,type:"source"}),(r===!0||r==="target")&&jsxRuntimeExports.jsx(EdgeAnchor,{position:d,centerX:a,centerY:u,radius:e,onMouseDown:Q,onMouseEnter:A,onMouseOut:M,type:"target"})]})}function EdgeWrapper({id:r,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:s,onClick:o,onDoubleClick:a,onContextMenu:u,onMouseEnter:f,onMouseMove:d,onMouseLeave:g,reconnectRadius:m,onReconnect:O,onReconnectStart:x,onReconnectEnd:b,rfId:w,edgeTypes:E,noPanClassName:k,onError:Q,disableKeyboardA11y:A}){let M=useStore(Oe=>Oe.edgeLookup.get(r));const $=useStore(Oe=>Oe.defaultEdgeOptions);M=$?{...$,...M}:M;let _=M.type||"default",j=(E==null?void 0:E[_])||builtinEdgeTypes[_];j===void 0&&(Q==null||Q("011",errorMessages.error011(_)),_="default",j=builtinEdgeTypes.default);const Z=!!(M.focusable||e&&typeof M.focusable>"u"),W=typeof O<"u"&&(M.reconnectable||n&&typeof M.reconnectable>"u"),B=!!(M.selectable||s&&typeof M.selectable>"u"),H=reactExports.useRef(null),[ee,I]=reactExports.useState(!1),[J,D]=reactExports.useState(!1),q=useStoreApi(),{zIndex:P,sourceX:V,sourceY:L,targetX:z,targetY:R,sourcePosition:U,targetPosition:te}=useStore(reactExports.useCallback(Oe=>{const we=Oe.nodeLookup.get(M.source),Re=Oe.nodeLookup.get(M.target);if(!we||!Re)return{zIndex:M.zIndex,...nullPosition};const je=getEdgePosition({id:r,sourceNode:we,targetNode:Re,sourceHandle:M.sourceHandle||null,targetHandle:M.targetHandle||null,connectionMode:Oe.connectionMode,onError:Q});return{zIndex:getElevatedEdgeZIndex({selected:M.selected,zIndex:M.zIndex,sourceNode:we,targetNode:Re,elevateOnSelect:Oe.elevateEdgesOnSelect}),...je||nullPosition}},[M.source,M.target,M.sourceHandle,M.targetHandle,M.selected,M.zIndex]),shallow$1),oe=reactExports.useMemo(()=>M.markerStart?`url('#${getMarkerId(M.markerStart,w)}')`:void 0,[M.markerStart,w]),ne=reactExports.useMemo(()=>M.markerEnd?`url('#${getMarkerId(M.markerEnd,w)}')`:void 0,[M.markerEnd,w]);if(M.hidden||V===null||L===null||z===null||R===null)return null;const fe=Oe=>{var We;const{addSelectedEdges:we,unselectNodesAndEdges:Re,multiSelectionActive:je}=q.getState();B&&(q.setState({nodesSelectionActive:!1}),M.selected&&je?(Re({nodes:[],edges:[M]}),(We=H.current)==null||We.blur()):we([r])),o&&o(Oe,M)},ue=a?Oe=>{a(Oe,{...M})}:void 0,he=u?Oe=>{u(Oe,{...M})}:void 0,ce=f?Oe=>{f(Oe,{...M})}:void 0,pe=d?Oe=>{d(Oe,{...M})}:void 0,ge=g?Oe=>{g(Oe,{...M})}:void 0,Se=Oe=>{var we;if(!A&&elementSelectionKeys.includes(Oe.key)&&B){const{unselectNodesAndEdges:Re,addSelectedEdges:je}=q.getState();Oe.key==="Escape"?((we=H.current)==null||we.blur(),Re({edges:[M]})):je([r])}};return jsxRuntimeExports.jsx("svg",{style:{zIndex:P},children:jsxRuntimeExports.jsxs("g",{className:cc(["react-flow__edge",`react-flow__edge-${_}`,M.className,k,{selected:M.selected,animated:M.animated,inactive:!B&&!o,updating:ee,selectable:B}]),onClick:fe,onDoubleClick:ue,onContextMenu:he,onMouseEnter:ce,onMouseMove:pe,onMouseLeave:ge,onKeyDown:Z?Se:void 0,tabIndex:Z?0:void 0,role:Z?"button":"img","data-id":r,"data-testid":`rf__edge-${r}`,"aria-label":M.ariaLabel===null?void 0:M.ariaLabel||`Edge from ${M.source} to ${M.target}`,"aria-describedby":Z?`${ARIA_EDGE_DESC_KEY}-${w}`:void 0,ref:H,children:[!J&&jsxRuntimeExports.jsx(j,{id:r,source:M.source,target:M.target,type:M.type,selected:M.selected,animated:M.animated,selectable:B,deletable:M.deletable??!0,label:M.label,labelStyle:M.labelStyle,labelShowBg:M.labelShowBg,labelBgStyle:M.labelBgStyle,labelBgPadding:M.labelBgPadding,labelBgBorderRadius:M.labelBgBorderRadius,sourceX:V,sourceY:L,targetX:z,targetY:R,sourcePosition:U,targetPosition:te,data:M.data,style:M.style,sourceHandleId:M.sourceHandle,targetHandleId:M.targetHandle,markerStart:oe,markerEnd:ne,pathOptions:"pathOptions"in M?M.pathOptions:void 0,interactionWidth:M.interactionWidth}),W&&jsxRuntimeExports.jsx(EdgeUpdateAnchors,{edge:M,isReconnectable:W,reconnectRadius:m,onReconnect:O,onReconnectStart:x,onReconnectEnd:b,sourceX:V,sourceY:L,targetX:z,targetY:R,sourcePosition:U,targetPosition:te,setUpdateHover:I,setReconnecting:D})]})})}const selector$a=r=>({edgesFocusable:r.edgesFocusable,edgesReconnectable:r.edgesReconnectable,elementsSelectable:r.elementsSelectable,connectionMode:r.connectionMode,onError:r.onError});function EdgeRendererComponent({defaultMarkerColor:r,onlyRenderVisibleElements:e,rfId:n,edgeTypes:s,noPanClassName:o,onReconnect:a,onEdgeContextMenu:u,onEdgeMouseEnter:f,onEdgeMouseMove:d,onEdgeMouseLeave:g,onEdgeClick:m,reconnectRadius:O,onEdgeDoubleClick:x,onReconnectStart:b,onReconnectEnd:w,disableKeyboardA11y:E}){const{edgesFocusable:k,edgesReconnectable:Q,elementsSelectable:A,onError:M}=useStore(selector$a,shallow$1),$=useVisibleEdgeIds(e);return jsxRuntimeExports.jsxs("div",{className:"react-flow__edges",children:[jsxRuntimeExports.jsx(MarkerDefinitions$1,{defaultColor:r,rfId:n}),$.map(_=>jsxRuntimeExports.jsx(EdgeWrapper,{id:_,edgesFocusable:k,edgesReconnectable:Q,elementsSelectable:A,noPanClassName:o,onReconnect:a,onContextMenu:u,onMouseEnter:f,onMouseMove:d,onMouseLeave:g,onClick:m,reconnectRadius:O,onDoubleClick:x,onReconnectStart:b,onReconnectEnd:w,rfId:n,onError:M,edgeTypes:s,disableKeyboardA11y:E},_))]})}EdgeRendererComponent.displayName="EdgeRenderer";const EdgeRenderer=reactExports.memo(EdgeRendererComponent),selector$9=r=>`translate(${r.transform[0]}px,${r.transform[1]}px) scale(${r.transform[2]})`;function Viewport({children:r}){const e=useStore(selector$9);return jsxRuntimeExports.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:r})}function useOnInitHandler(r){const e=useReactFlow(),n=reactExports.useRef(!1);reactExports.useEffect(()=>{!n.current&&e.viewportInitialized&&r&&(setTimeout(()=>r(e),1),n.current=!0)},[r,e.viewportInitialized])}const selector$8=r=>{var e;return(e=r.panZoom)==null?void 0:e.syncViewport};function useViewportSync(r){const e=useStore(selector$8),n=useStoreApi();return reactExports.useEffect(()=>{r&&(e==null||e(r),n.setState({transform:[r.x,r.y,r.zoom]}))},[r,e]),null}function storeSelector$1(r){return r.connection.inProgress?{...r.connection,to:pointToRendererPoint(r.connection.to,r.transform)}:{...r.connection}}function getSelector(r){return storeSelector$1}function useConnection(r){const e=getSelector();return useStore(e,shallow$1)}const selector$7=r=>({nodesConnectable:r.nodesConnectable,isValid:r.connection.isValid,inProgress:r.connection.inProgress,width:r.width,height:r.height});function ConnectionLineWrapper({containerStyle:r,style:e,type:n,component:s}){const{nodesConnectable:o,width:a,height:u,isValid:f,inProgress:d}=useStore(selector$7,shallow$1);return!(a&&o&&d)?null:jsxRuntimeExports.jsx("svg",{style:r,width:a,height:u,className:"react-flow__connectionline react-flow__container",children:jsxRuntimeExports.jsx("g",{className:cc(["react-flow__connection",getConnectionStatus(f)]),children:jsxRuntimeExports.jsx(ConnectionLine,{style:e,type:n,CustomComponent:s,isValid:f})})})}const ConnectionLine=({style:r,type:e=ConnectionLineType.Bezier,CustomComponent:n,isValid:s})=>{const{inProgress:o,from:a,fromNode:u,fromHandle:f,fromPosition:d,to:g,toNode:m,toHandle:O,toPosition:x}=useConnection();if(!o)return;if(n)return jsxRuntimeExports.jsx(n,{connectionLineType:e,connectionLineStyle:r,fromNode:u,fromHandle:f,fromX:a.x,fromY:a.y,toX:g.x,toY:g.y,fromPosition:d,toPosition:x,connectionStatus:getConnectionStatus(s),toNode:m,toHandle:O});let b="";const w={sourceX:a.x,sourceY:a.y,sourcePosition:d,targetX:g.x,targetY:g.y,targetPosition:x};switch(e){case ConnectionLineType.Bezier:[b]=getBezierPath(w);break;case ConnectionLineType.SimpleBezier:[b]=getSimpleBezierPath(w);break;case ConnectionLineType.Step:[b]=getSmoothStepPath({...w,borderRadius:0});break;case ConnectionLineType.SmoothStep:[b]=getSmoothStepPath(w);break;default:[b]=getStraightPath(w)}return jsxRuntimeExports.jsx("path",{d:b,fill:"none",className:"react-flow__connection-path",style:r})};ConnectionLine.displayName="ConnectionLine";const emptyTypes={};function useNodeOrEdgeTypesWarning(r=emptyTypes){reactExports.useRef(r),useStoreApi(),reactExports.useEffect(()=>{},[r])}function useStylesLoadedWarning(){useStoreApi(),reactExports.useRef(!1),reactExports.useEffect(()=>{},[])}function GraphViewComponent({nodeTypes:r,edgeTypes:e,onInit:n,onNodeClick:s,onEdgeClick:o,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:d,onNodeMouseLeave:g,onNodeContextMenu:m,onSelectionContextMenu:O,onSelectionStart:x,onSelectionEnd:b,connectionLineType:w,connectionLineStyle:E,connectionLineComponent:k,connectionLineContainerStyle:Q,selectionKeyCode:A,selectionOnDrag:M,selectionMode:$,multiSelectionKeyCode:_,panActivationKeyCode:j,zoomActivationKeyCode:Z,deleteKeyCode:W,onlyRenderVisibleElements:B,elementsSelectable:H,defaultViewport:ee,translateExtent:I,minZoom:J,maxZoom:D,preventScrolling:q,defaultMarkerColor:P,zoomOnScroll:V,zoomOnPinch:L,panOnScroll:z,panOnScrollSpeed:R,panOnScrollMode:U,zoomOnDoubleClick:te,panOnDrag:oe,onPaneClick:ne,onPaneMouseEnter:fe,onPaneMouseMove:ue,onPaneMouseLeave:he,onPaneScroll:ce,onPaneContextMenu:pe,paneClickDistance:ge,nodeClickDistance:Se,onEdgeContextMenu:Oe,onEdgeMouseEnter:we,onEdgeMouseMove:Re,onEdgeMouseLeave:je,reconnectRadius:We,onReconnect:jn,onReconnectStart:un,onReconnectEnd:Bn,noDragClassName:Xt,noWheelClassName:Ln,noPanClassName:Vn,disableKeyboardA11y:zn,nodeExtent:ut,rfId:Xn,viewport:fn,onViewportChange:qn}){return useNodeOrEdgeTypesWarning(r),useNodeOrEdgeTypesWarning(e),useStylesLoadedWarning(),useOnInitHandler(n),useViewportSync(fn),jsxRuntimeExports.jsx(FlowRenderer,{onPaneClick:ne,onPaneMouseEnter:fe,onPaneMouseMove:ue,onPaneMouseLeave:he,onPaneContextMenu:pe,onPaneScroll:ce,paneClickDistance:ge,deleteKeyCode:W,selectionKeyCode:A,selectionOnDrag:M,selectionMode:$,onSelectionStart:x,onSelectionEnd:b,multiSelectionKeyCode:_,panActivationKeyCode:j,zoomActivationKeyCode:Z,elementsSelectable:H,zoomOnScroll:V,zoomOnPinch:L,zoomOnDoubleClick:te,panOnScroll:z,panOnScrollSpeed:R,panOnScrollMode:U,panOnDrag:oe,defaultViewport:ee,translateExtent:I,minZoom:J,maxZoom:D,onSelectionContextMenu:O,preventScrolling:q,noDragClassName:Xt,noWheelClassName:Ln,noPanClassName:Vn,disableKeyboardA11y:zn,onViewportChange:qn,isControlledViewport:!!fn,children:jsxRuntimeExports.jsxs(Viewport,{children:[jsxRuntimeExports.jsx(EdgeRenderer,{edgeTypes:e,onEdgeClick:o,onEdgeDoubleClick:u,onReconnect:jn,onReconnectStart:un,onReconnectEnd:Bn,onlyRenderVisibleElements:B,onEdgeContextMenu:Oe,onEdgeMouseEnter:we,onEdgeMouseMove:Re,onEdgeMouseLeave:je,reconnectRadius:We,defaultMarkerColor:P,noPanClassName:Vn,disableKeyboardA11y:zn,rfId:Xn}),jsxRuntimeExports.jsx(ConnectionLineWrapper,{style:E,type:w,component:k,containerStyle:Q}),jsxRuntimeExports.jsx("div",{className:"react-flow__edgelabel-renderer"}),jsxRuntimeExports.jsx(NodeRenderer,{nodeTypes:r,onNodeClick:s,onNodeDoubleClick:a,onNodeMouseEnter:f,onNodeMouseMove:d,onNodeMouseLeave:g,onNodeContextMenu:m,nodeClickDistance:Se,onlyRenderVisibleElements:B,noPanClassName:Vn,noDragClassName:Xt,disableKeyboardA11y:zn,nodeExtent:ut,rfId:Xn}),jsxRuntimeExports.jsx("div",{className:"react-flow__viewport-portal"})]})})}GraphViewComponent.displayName="GraphView";const GraphView=reactExports.memo(GraphViewComponent),getInitialState=({nodes:r,edges:e,defaultNodes:n,defaultEdges:s,width:o,height:a,fitView:u,nodeOrigin:f,nodeExtent:d}={})=>{const g=new Map,m=new Map,O=new Map,x=new Map,b=s??e??[],w=n??r??[],E=f??[0,0],k=d??infiniteExtent;updateConnectionLookup(O,x,b),adoptUserNodes(w,g,m,{nodeOrigin:E,nodeExtent:k,elevateNodesOnSelect:!1});let Q=[0,0,1];if(u&&o&&a){const A=getInternalNodesBounds(g,{filter:j=>!!((j.width||j.initialWidth)&&(j.height||j.initialHeight))}),{x:M,y:$,zoom:_}=getViewportForBounds(A,o,a,.5,2,.1);Q=[M,$,_]}return{rfId:"1",width:0,height:0,transform:Q,nodes:w,nodeLookup:g,parentLookup:m,edges:b,edgeLookup:x,connectionLookup:O,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:s!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:infiniteExtent,nodeExtent:k,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ConnectionMode.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:E,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...initialConnection},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:devWarn,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},createStore=({nodes:r,edges:e,defaultNodes:n,defaultEdges:s,width:o,height:a,fitView:u,nodeOrigin:f,nodeExtent:d})=>createWithEqualityFn((g,m)=>({...getInitialState({nodes:r,edges:e,width:o,height:a,fitView:u,nodeOrigin:f,nodeExtent:d,defaultNodes:n,defaultEdges:s}),setNodes:O=>{const{nodeLookup:x,parentLookup:b,nodeOrigin:w,elevateNodesOnSelect:E}=m();adoptUserNodes(O,x,b,{nodeOrigin:w,nodeExtent:d,elevateNodesOnSelect:E,checkEquality:!0}),g({nodes:O})},setEdges:O=>{const{connectionLookup:x,edgeLookup:b}=m();updateConnectionLookup(x,b,O),g({edges:O})},setDefaultNodesAndEdges:(O,x)=>{if(O){const{setNodes:b}=m();b(O),g({hasDefaultNodes:!0})}if(x){const{setEdges:b}=m();b(x),g({hasDefaultEdges:!0})}},updateNodeInternals:(O,x={triggerFitView:!0})=>{const{triggerNodeChanges:b,nodeLookup:w,parentLookup:E,fitViewOnInit:k,fitViewDone:Q,fitViewOnInitOptions:A,domNode:M,nodeOrigin:$,nodeExtent:_,debug:j,fitViewSync:Z}=m(),{changes:W,updatedInternals:B}=updateNodeInternals(O,w,E,M,$,_);if(B){if(updateAbsolutePositions(w,E,{nodeOrigin:$,nodeExtent:_}),x.triggerFitView){let H=Q;!Q&&k&&(H=Z({...A,nodes:A==null?void 0:A.nodes})),g({fitViewDone:H})}else g({});(W==null?void 0:W.length)>0&&(j&&console.log("React Flow: trigger node changes",W),b==null||b(W))}},updateNodePositions:(O,x=!1)=>{const b=[],w=[];for(const[E,k]of O){const Q=!!(k!=null&&k.expandParent&&(k!=null&&k.parentId)&&(k!=null&&k.position)),A={id:E,type:"position",position:Q?{x:Math.max(0,k.position.x),y:Math.max(0,k.position.y)}:k.position,dragging:x};Q&&b.push({id:E,parentId:k.parentId,rect:{...k.internals.positionAbsolute,width:k.measured.width,height:k.measured.height}}),w.push(A)}if(b.length>0){const{nodeLookup:E,parentLookup:k,nodeOrigin:Q}=m(),A=handleExpandParent(b,E,k,Q);w.push(...A)}m().triggerNodeChanges(w)},triggerNodeChanges:O=>{const{onNodesChange:x,setNodes:b,nodes:w,hasDefaultNodes:E,debug:k}=m();if(O!=null&&O.length){if(E){const Q=applyNodeChanges(O,w);b(Q)}k&&console.log("React Flow: trigger node changes",O),x==null||x(O)}},triggerEdgeChanges:O=>{const{onEdgesChange:x,setEdges:b,edges:w,hasDefaultEdges:E,debug:k}=m();if(O!=null&&O.length){if(E){const Q=applyEdgeChanges(O,w);b(Q)}k&&console.log("React Flow: trigger edge changes",O),x==null||x(O)}},addSelectedNodes:O=>{const{multiSelectionActive:x,edgeLookup:b,nodeLookup:w,triggerNodeChanges:E,triggerEdgeChanges:k}=m();if(x){const Q=O.map(A=>createSelectionChange(A,!0));E(Q);return}E(getSelectionChanges(w,new Set([...O]),!0)),k(getSelectionChanges(b))},addSelectedEdges:O=>{const{multiSelectionActive:x,edgeLookup:b,nodeLookup:w,triggerNodeChanges:E,triggerEdgeChanges:k}=m();if(x){const Q=O.map(A=>createSelectionChange(A,!0));k(Q);return}k(getSelectionChanges(b,new Set([...O]))),E(getSelectionChanges(w,new Set,!0))},unselectNodesAndEdges:({nodes:O,edges:x}={})=>{const{edges:b,nodes:w,nodeLookup:E,triggerNodeChanges:k,triggerEdgeChanges:Q}=m(),A=O||w,M=x||b,$=A.map(j=>{const Z=E.get(j.id);return Z&&(Z.selected=!1),createSelectionChange(j.id,!1)}),_=M.map(j=>createSelectionChange(j.id,!1));k($),Q(_)},setMinZoom:O=>{const{panZoom:x,maxZoom:b}=m();x==null||x.setScaleExtent([O,b]),g({minZoom:O})},setMaxZoom:O=>{const{panZoom:x,minZoom:b}=m();x==null||x.setScaleExtent([b,O]),g({maxZoom:O})},setTranslateExtent:O=>{var x;(x=m().panZoom)==null||x.setTranslateExtent(O),g({translateExtent:O})},setPaneClickDistance:O=>{var x;(x=m().panZoom)==null||x.setClickDistance(O)},resetSelectedElements:()=>{const{edges:O,nodes:x,triggerNodeChanges:b,triggerEdgeChanges:w}=m(),E=x.reduce((Q,A)=>A.selected?[...Q,createSelectionChange(A.id,!1)]:Q,[]),k=O.reduce((Q,A)=>A.selected?[...Q,createSelectionChange(A.id,!1)]:Q,[]);b(E),w(k)},setNodeExtent:O=>{const{nodes:x,nodeLookup:b,parentLookup:w,nodeOrigin:E,elevateNodesOnSelect:k,nodeExtent:Q}=m();O[0][0]===Q[0][0]&&O[0][1]===Q[0][1]&&O[1][0]===Q[1][0]&&O[1][1]===Q[1][1]||(adoptUserNodes(x,b,w,{nodeOrigin:E,nodeExtent:O,elevateNodesOnSelect:k,checkEquality:!1}),g({nodeExtent:O}))},panBy:O=>{const{transform:x,width:b,height:w,panZoom:E,translateExtent:k}=m();return panBy({delta:O,panZoom:E,transform:x,translateExtent:k,width:b,height:w})},fitView:O=>{const{panZoom:x,width:b,height:w,minZoom:E,maxZoom:k,nodeLookup:Q}=m();if(!x)return Promise.resolve(!1);const A=getFitViewNodes(Q,O);return fitView({nodes:A,width:b,height:w,panZoom:x,minZoom:E,maxZoom:k},O)},fitViewSync:O=>{const{panZoom:x,width:b,height:w,minZoom:E,maxZoom:k,nodeLookup:Q}=m();if(!x)return!1;const A=getFitViewNodes(Q,O);return fitView({nodes:A,width:b,height:w,panZoom:x,minZoom:E,maxZoom:k},O),A.size>0},cancelConnection:()=>{g({connection:{...initialConnection}})},updateConnection:O=>{g({connection:O})},reset:()=>g({...getInitialState()})}),Object.is);function ReactFlowProvider({initialNodes:r,initialEdges:e,defaultNodes:n,defaultEdges:s,initialWidth:o,initialHeight:a,fitView:u,nodeOrigin:f,nodeExtent:d,children:g}){const[m]=reactExports.useState(()=>createStore({nodes:r,edges:e,defaultNodes:n,defaultEdges:s,width:o,height:a,fitView:u,nodeOrigin:f,nodeExtent:d}));return jsxRuntimeExports.jsx(Provider$1,{value:m,children:jsxRuntimeExports.jsx(BatchProvider,{children:g})})}function Wrapper({children:r,nodes:e,edges:n,defaultNodes:s,defaultEdges:o,width:a,height:u,fitView:f,nodeOrigin:d,nodeExtent:g}){return reactExports.useContext(StoreContext)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:r}):jsxRuntimeExports.jsx(ReactFlowProvider,{initialNodes:e,initialEdges:n,defaultNodes:s,defaultEdges:o,initialWidth:a,initialHeight:u,fitView:f,nodeOrigin:d,nodeExtent:g,children:r})}const wrapperStyle={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function ReactFlow({nodes:r,edges:e,defaultNodes:n,defaultEdges:s,className:o,nodeTypes:a,edgeTypes:u,onNodeClick:f,onEdgeClick:d,onInit:g,onMove:m,onMoveStart:O,onMoveEnd:x,onConnect:b,onConnectStart:w,onConnectEnd:E,onClickConnectStart:k,onClickConnectEnd:Q,onNodeMouseEnter:A,onNodeMouseMove:M,onNodeMouseLeave:$,onNodeContextMenu:_,onNodeDoubleClick:j,onNodeDragStart:Z,onNodeDrag:W,onNodeDragStop:B,onNodesDelete:H,onEdgesDelete:ee,onDelete:I,onSelectionChange:J,onSelectionDragStart:D,onSelectionDrag:q,onSelectionDragStop:P,onSelectionContextMenu:V,onSelectionStart:L,onSelectionEnd:z,onBeforeDelete:R,connectionMode:U,connectionLineType:te=ConnectionLineType.Bezier,connectionLineStyle:oe,connectionLineComponent:ne,connectionLineContainerStyle:fe,deleteKeyCode:ue="Backspace",selectionKeyCode:he="Shift",selectionOnDrag:ce=!1,selectionMode:pe=SelectionMode.Full,panActivationKeyCode:ge="Space",multiSelectionKeyCode:Se=isMacOs()?"Meta":"Control",zoomActivationKeyCode:Oe=isMacOs()?"Meta":"Control",snapToGrid:we,snapGrid:Re,onlyRenderVisibleElements:je=!1,selectNodesOnDrag:We,nodesDraggable:jn,nodesConnectable:un,nodesFocusable:Bn,nodeOrigin:Xt=defaultNodeOrigin,edgesFocusable:Ln,edgesReconnectable:Vn,elementsSelectable:zn=!0,defaultViewport:ut=defaultViewport,minZoom:Xn=.5,maxZoom:fn=2,translateExtent:qn=infiniteExtent,preventScrolling:gi=!0,nodeExtent:Ki,defaultMarkerColor:Ur="#b1b1b7",zoomOnScroll:fo=!0,zoomOnPinch:ho=!0,panOnScroll:Hn=!1,panOnScrollSpeed:st=.5,panOnScrollMode:po=PanOnScrollMode.Free,zoomOnDoubleClick:Zt=!0,panOnDrag:ot=!0,onPaneClick:go,onPaneMouseEnter:mo,onPaneMouseMove:Oo,onPaneMouseLeave:mi,onPaneScroll:Oi,onPaneContextMenu:qt,paneClickDistance:Un=0,nodeClickDistance:Yn=0,children:yo,onReconnect:Yr,onReconnectStart:Gr,onReconnectEnd:Ji,onEdgeContextMenu:Gn,onEdgeDoubleClick:xo,onEdgeMouseEnter:Wr,onEdgeMouseMove:Ir,onEdgeMouseLeave:Fr,reconnectRadius:Kr=10,onNodesChange:So,onEdgesChange:Nt,noDragClassName:Ie="nodrag",noWheelClassName:it="nowheel",noPanClassName:Ht="nopan",fitView:yi,fitViewOptions:bo,connectOnClick:wo,attributionPosition:Jr,proOptions:Wn,defaultEdgeOptions:er,elevateNodesOnSelect:Ut,elevateEdgesOnSelect:hn,disableKeyboardA11y:dn=!1,autoPanOnConnect:pn,autoPanOnNodeDrag:Xe,autoPanSpeed:es,connectionRadius:ts,isValidConnection:Yt,onError:gn,style:Rt,id:ns,nodeDragThreshold:is,viewport:rs,onViewportChange:vo,width:xi,height:Si,colorMode:Mt="light",debug:ft,...ss},Eo){const mn=ns||"1",os=useColorModeClass(Mt);return jsxRuntimeExports.jsx("div",{"data-testid":"rf__wrapper",...ss,style:{...Rt,...wrapperStyle},ref:Eo,className:cc(["react-flow",o,os]),id:ns,children:jsxRuntimeExports.jsxs(Wrapper,{nodes:r,edges:e,width:xi,height:Si,fitView:yi,nodeOrigin:Xt,nodeExtent:Ki,children:[jsxRuntimeExports.jsx(GraphView,{onInit:g,onNodeClick:f,onEdgeClick:d,onNodeMouseEnter:A,onNodeMouseMove:M,onNodeMouseLeave:$,onNodeContextMenu:_,onNodeDoubleClick:j,nodeTypes:a,edgeTypes:u,connectionLineType:te,connectionLineStyle:oe,connectionLineComponent:ne,connectionLineContainerStyle:fe,selectionKeyCode:he,selectionOnDrag:ce,selectionMode:pe,deleteKeyCode:ue,multiSelectionKeyCode:Se,panActivationKeyCode:ge,zoomActivationKeyCode:Oe,onlyRenderVisibleElements:je,defaultViewport:ut,translateExtent:qn,minZoom:Xn,maxZoom:fn,preventScrolling:gi,zoomOnScroll:fo,zoomOnPinch:ho,zoomOnDoubleClick:Zt,panOnScroll:Hn,panOnScrollSpeed:st,panOnScrollMode:po,panOnDrag:ot,onPaneClick:go,onPaneMouseEnter:mo,onPaneMouseMove:Oo,onPaneMouseLeave:mi,onPaneScroll:Oi,onPaneContextMenu:qt,paneClickDistance:Un,nodeClickDistance:Yn,onSelectionContextMenu:V,onSelectionStart:L,onSelectionEnd:z,onReconnect:Yr,onReconnectStart:Gr,onReconnectEnd:Ji,onEdgeContextMenu:Gn,onEdgeDoubleClick:xo,onEdgeMouseEnter:Wr,onEdgeMouseMove:Ir,onEdgeMouseLeave:Fr,reconnectRadius:Kr,defaultMarkerColor:Ur,noDragClassName:Ie,noWheelClassName:it,noPanClassName:Ht,rfId:mn,disableKeyboardA11y:dn,nodeExtent:Ki,viewport:rs,onViewportChange:vo}),jsxRuntimeExports.jsx(StoreUpdater,{nodes:r,edges:e,defaultNodes:n,defaultEdges:s,onConnect:b,onConnectStart:w,onConnectEnd:E,onClickConnectStart:k,onClickConnectEnd:Q,nodesDraggable:jn,nodesConnectable:un,nodesFocusable:Bn,edgesFocusable:Ln,edgesReconnectable:Vn,elementsSelectable:zn,elevateNodesOnSelect:Ut,elevateEdgesOnSelect:hn,minZoom:Xn,maxZoom:fn,nodeExtent:Ki,onNodesChange:So,onEdgesChange:Nt,snapToGrid:we,snapGrid:Re,connectionMode:U,translateExtent:qn,connectOnClick:wo,defaultEdgeOptions:er,fitView:yi,fitViewOptions:bo,onNodesDelete:H,onEdgesDelete:ee,onDelete:I,onNodeDragStart:Z,onNodeDrag:W,onNodeDragStop:B,onSelectionDrag:q,onSelectionDragStart:D,onSelectionDragStop:P,onMove:m,onMoveStart:O,onMoveEnd:x,noPanClassName:Ht,nodeOrigin:Xt,rfId:mn,autoPanOnConnect:pn,autoPanOnNodeDrag:Xe,autoPanSpeed:es,onError:gn,connectionRadius:ts,isValidConnection:Yt,selectNodesOnDrag:We,nodeDragThreshold:is,onBeforeDelete:R,paneClickDistance:Un,debug:ft}),jsxRuntimeExports.jsx(SelectionListener,{onSelectionChange:J}),yo,jsxRuntimeExports.jsx(Attribution,{proOptions:Wn,position:Jr}),jsxRuntimeExports.jsx(A11yDescriptions,{rfId:mn,disableKeyboardA11y:dn})]})})}var index=fixedForwardRef(ReactFlow);function LinePattern({dimensions:r,lineWidth:e,variant:n,className:s}){return jsxRuntimeExports.jsx("path",{strokeWidth:e,d:`M${r[0]/2} 0 V${r[1]} M0 ${r[1]/2} H${r[0]}`,className:cc(["react-flow__background-pattern",n,s])})}function DotPattern({radius:r,className:e}){return jsxRuntimeExports.jsx("circle",{cx:r,cy:r,r,className:cc(["react-flow__background-pattern","dots",e])})}var BackgroundVariant;(function(r){r.Lines="lines",r.Dots="dots",r.Cross="cross"})(BackgroundVariant||(BackgroundVariant={}));const defaultSize={[BackgroundVariant.Dots]:1,[BackgroundVariant.Lines]:1,[BackgroundVariant.Cross]:6},selector$3=r=>({transform:r.transform,patternId:`pattern-${r.rfId}`});function BackgroundComponent({id:r,variant:e=BackgroundVariant.Dots,gap:n=20,size:s,lineWidth:o=1,offset:a=0,color:u,bgColor:f,style:d,className:g,patternClassName:m}){const O=reactExports.useRef(null),{transform:x,patternId:b}=useStore(selector$3,shallow$1),w=s||defaultSize[e],E=e===BackgroundVariant.Dots,k=e===BackgroundVariant.Cross,Q=Array.isArray(n)?n:[n,n],A=[Q[0]*x[2]||1,Q[1]*x[2]||1],M=w*x[2],$=Array.isArray(a)?a:[a,a],_=k?[M,M]:A,j=[$[0]*x[2]||1+_[0]/2,$[1]*x[2]||1+_[1]/2],Z=`${b}${r||""}`;return jsxRuntimeExports.jsxs("svg",{className:cc(["react-flow__background",g]),style:{...d,...containerStyle,"--xy-background-color-props":f,"--xy-background-pattern-color-props":u},ref:O,"data-testid":"rf__background",children:[jsxRuntimeExports.jsx("pattern",{id:Z,x:x[0]%A[0],y:x[1]%A[1],width:A[0],height:A[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${j[0]},-${j[1]})`,children:E?jsxRuntimeExports.jsx(DotPattern,{radius:M/2,className:m}):jsxRuntimeExports.jsx(LinePattern,{dimensions:_,lineWidth:o,variant:e,className:m})}),jsxRuntimeExports.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${Z})`})]})}BackgroundComponent.displayName="Background";const Background=reactExports.memo(BackgroundComponent);function PlusIcon(){return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:jsxRuntimeExports.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function MinusIcon(){return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:jsxRuntimeExports.jsx("path",{d:"M0 0h32v4.2H0z"})})}function FitViewIcon(){return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:jsxRuntimeExports.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function LockIcon(){return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:jsxRuntimeExports.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function UnlockIcon(){return jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:jsxRuntimeExports.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ControlButton({children:r,className:e,...n}){return jsxRuntimeExports.jsx("button",{type:"button",className:cc(["react-flow__controls-button",e]),...n,children:r})}const selector$2=r=>({isInteractive:r.nodesDraggable||r.nodesConnectable||r.elementsSelectable,minZoomReached:r.transform[2]<=r.minZoom,maxZoomReached:r.transform[2]>=r.maxZoom});function ControlsComponent({style:r,showZoom:e=!0,showFitView:n=!0,showInteractive:s=!0,fitViewOptions:o,onZoomIn:a,onZoomOut:u,onFitView:f,onInteractiveChange:d,className:g,children:m,position:O="bottom-left",orientation:x="vertical","aria-label":b="React Flow controls"}){const w=useStoreApi(),{isInteractive:E,minZoomReached:k,maxZoomReached:Q}=useStore(selector$2,shallow$1),{zoomIn:A,zoomOut:M,fitView:$}=useReactFlow(),_=()=>{A(),a==null||a()},j=()=>{M(),u==null||u()},Z=()=>{$(o),f==null||f()},W=()=>{w.setState({nodesDraggable:!E,nodesConnectable:!E,elementsSelectable:!E}),d==null||d(!E)},B=x==="horizontal"?"horizontal":"vertical";return jsxRuntimeExports.jsxs(Panel,{className:cc(["react-flow__controls",B,g]),position:O,style:r,"data-testid":"rf__controls","aria-label":b,children:[e&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ControlButton,{onClick:_,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:Q,children:jsxRuntimeExports.jsx(PlusIcon,{})}),jsxRuntimeExports.jsx(ControlButton,{onClick:j,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:k,children:jsxRuntimeExports.jsx(MinusIcon,{})})]}),n&&jsxRuntimeExports.jsx(ControlButton,{className:"react-flow__controls-fitview",onClick:Z,title:"fit view","aria-label":"fit view",children:jsxRuntimeExports.jsx(FitViewIcon,{})}),s&&jsxRuntimeExports.jsx(ControlButton,{className:"react-flow__controls-interactive",onClick:W,title:"toggle interactivity","aria-label":"toggle interactivity",children:E?jsxRuntimeExports.jsx(UnlockIcon,{}):jsxRuntimeExports.jsx(LockIcon,{})}),m]})}ControlsComponent.displayName="Controls";reactExports.memo(ControlsComponent);function MiniMapNodeComponent({id:r,x:e,y:n,width:s,height:o,style:a,color:u,strokeColor:f,strokeWidth:d,className:g,borderRadius:m,shapeRendering:O,selected:x,onClick:b}){const{background:w,backgroundColor:E}=a||{},k=u||w||E;return jsxRuntimeExports.jsx("rect",{className:cc(["react-flow__minimap-node",{selected:x},g]),x:e,y:n,rx:m,ry:m,width:s,height:o,style:{fill:k,stroke:f,strokeWidth:d},shapeRendering:O,onClick:b?Q=>b(Q,r):void 0})}const MiniMapNode=reactExports.memo(MiniMapNodeComponent),selectorNodeIds=r=>r.nodes.map(e=>e.id),getAttrFunction=r=>r instanceof Function?r:()=>r;function MiniMapNodes({nodeStrokeColor:r,nodeColor:e,nodeClassName:n="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:a=MiniMapNode,onClick:u}){const f=useStore(selectorNodeIds,shallow$1),d=getAttrFunction(e),g=getAttrFunction(r),m=getAttrFunction(n),O=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:f.map(x=>jsxRuntimeExports.jsx(NodeComponentWrapper,{id:x,nodeColorFunc:d,nodeStrokeColorFunc:g,nodeClassNameFunc:m,nodeBorderRadius:s,nodeStrokeWidth:o,NodeComponent:a,onClick:u,shapeRendering:O},x))})}function NodeComponentWrapperInner({id:r,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:s,nodeBorderRadius:o,nodeStrokeWidth:a,shapeRendering:u,NodeComponent:f,onClick:d}){const{node:g,x:m,y:O,width:x,height:b}=useStore(w=>{const E=w.nodeLookup.get(r),{x:k,y:Q}=E.internals.positionAbsolute,{width:A,height:M}=getNodeDimensions(E);return{node:E,x:k,y:Q,width:A,height:M}},shallow$1);return!g||g.hidden||!nodeHasDimensions(g)?null:jsxRuntimeExports.jsx(f,{x:m,y:O,width:x,height:b,style:g.style,selected:!!g.selected,className:s(g),color:e(g),borderRadius:o,strokeColor:n(g),strokeWidth:a,shapeRendering:u,onClick:d,id:g.id})}const NodeComponentWrapper=reactExports.memo(NodeComponentWrapperInner);var MiniMapNodes$1=reactExports.memo(MiniMapNodes);const defaultWidth=200,defaultHeight=150,selector$1=r=>{const e={x:-r.transform[0]/r.transform[2],y:-r.transform[1]/r.transform[2],width:r.width/r.transform[2],height:r.height/r.transform[2]};return{viewBB:e,boundingRect:r.nodeLookup.size>0?getBoundsOfRects(getInternalNodesBounds(r.nodeLookup),e):e,rfId:r.rfId,panZoom:r.panZoom,translateExtent:r.translateExtent,flowWidth:r.width,flowHeight:r.height}},ARIA_LABEL_KEY="react-flow__minimap-desc";function MiniMapComponent({style:r,className:e,nodeStrokeColor:n,nodeColor:s,nodeClassName:o="",nodeBorderRadius:a=5,nodeStrokeWidth:u,nodeComponent:f,bgColor:d,maskColor:g,maskStrokeColor:m,maskStrokeWidth:O,position:x="bottom-right",onClick:b,onNodeClick:w,pannable:E=!1,zoomable:k=!1,ariaLabel:Q="React Flow mini map",inversePan:A,zoomStep:M=10,offsetScale:$=5}){const _=useStoreApi(),j=reactExports.useRef(null),{boundingRect:Z,viewBB:W,rfId:B,panZoom:H,translateExtent:ee,flowWidth:I,flowHeight:J}=useStore(selector$1,shallow$1),D=(r==null?void 0:r.width)??defaultWidth,q=(r==null?void 0:r.height)??defaultHeight,P=Z.width/D,V=Z.height/q,L=Math.max(P,V),z=L*D,R=L*q,U=$*L,te=Z.x-(z-Z.width)/2-U,oe=Z.y-(R-Z.height)/2-U,ne=z+U*2,fe=R+U*2,ue=`${ARIA_LABEL_KEY}-${B}`,he=reactExports.useRef(0),ce=reactExports.useRef();he.current=L,reactExports.useEffect(()=>{if(j.current&&H)return ce.current=XYMinimap({domNode:j.current,panZoom:H,getTransform:()=>_.getState().transform,getViewScale:()=>he.current}),()=>{var Se;(Se=ce.current)==null||Se.destroy()}},[H]),reactExports.useEffect(()=>{var Se;(Se=ce.current)==null||Se.update({translateExtent:ee,width:I,height:J,inversePan:A,pannable:E,zoomStep:M,zoomable:k})},[E,k,A,M,ee,I,J]);const pe=b?Se=>{var Re;const[Oe,we]=((Re=ce.current)==null?void 0:Re.pointer(Se))||[0,0];b(Se,{x:Oe,y:we})}:void 0,ge=w?reactExports.useCallback((Se,Oe)=>{const we=_.getState().nodeLookup.get(Oe);w(Se,we)},[]):void 0;return jsxRuntimeExports.jsx(Panel,{position:x,style:{...r,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-stroke-color-props":typeof m=="string"?m:void 0,"--xy-minimap-mask-stroke-width-props":typeof O=="number"?O*L:void 0,"--xy-minimap-node-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof u=="string"?u:void 0},className:cc(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:jsxRuntimeExports.jsxs("svg",{width:D,height:q,viewBox:`${te} ${oe} ${ne} ${fe}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ue,ref:j,onClick:pe,children:[Q&&jsxRuntimeExports.jsx("title",{id:ue,children:Q}),jsxRuntimeExports.jsx(MiniMapNodes$1,{onClick:ge,nodeColor:s,nodeStrokeColor:n,nodeBorderRadius:a,nodeClassName:o,nodeStrokeWidth:u,nodeComponent:f}),jsxRuntimeExports.jsx("path",{className:"react-flow__minimap-mask",d:`M${te-U},${oe-U}h${ne+U*2}v${fe+U*2}h${-ne-U*2}z
        M${W.x},${W.y}h${W.width}v${W.height}h${-W.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}MiniMapComponent.displayName="MiniMap";reactExports.memo(MiniMapComponent);function ResizeControl({nodeId:r,position:e,variant:n=ResizeControlVariant.Handle,className:s,style:o={},children:a,color:u,minWidth:f=10,minHeight:d=10,maxWidth:g=Number.MAX_VALUE,maxHeight:m=Number.MAX_VALUE,keepAspectRatio:O=!1,shouldResize:x,onResizeStart:b,onResize:w,onResizeEnd:E}){const k=useNodeId(),Q=typeof r=="string"?r:k,A=useStoreApi(),M=reactExports.useRef(null),$=n===ResizeControlVariant.Line?"right":"bottom-right",_=e??$,j=reactExports.useRef(null);reactExports.useEffect(()=>{if(!(!M.current||!Q))return j.current||(j.current=XYResizer({domNode:M.current,nodeId:Q,getStoreItems:()=>{const{nodeLookup:H,transform:ee,snapGrid:I,snapToGrid:J,nodeOrigin:D,domNode:q}=A.getState();return{nodeLookup:H,transform:ee,snapGrid:I,snapToGrid:J,nodeOrigin:D,paneDomNode:q}},onChange:(H,ee)=>{const{triggerNodeChanges:I,nodeLookup:J,parentLookup:D,nodeOrigin:q}=A.getState(),P=[],V={x:H.x,y:H.y},L=J.get(Q);if(L&&L.expandParent&&L.parentId){const z=L.origin??q,R=H.width??L.measured.width,U=H.height??L.measured.height,te={id:L.id,parentId:L.parentId,rect:{width:R,height:U,...evaluateAbsolutePosition({x:H.x??L.position.x,y:H.y??L.position.y},{width:R,height:U},L.parentId,J,z)}},oe=handleExpandParent([te],J,D,q);P.push(...oe),V.x=H.x?Math.max(z[0]*R,H.x):void 0,V.y=H.y?Math.max(z[1]*U,H.y):void 0}if(V.x!==void 0&&V.y!==void 0){const z={id:Q,type:"position",position:{...V}};P.push(z)}if(H.width!==void 0&&H.height!==void 0){const z={id:Q,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:H.width,height:H.height}};P.push(z)}for(const z of ee){const R={...z,type:"position"};P.push(R)}I(P)},onEnd:()=>{const H={id:Q,type:"dimensions",resizing:!1};A.getState().triggerNodeChanges([H])}})),j.current.update({controlPosition:_,boundaries:{minWidth:f,minHeight:d,maxWidth:g,maxHeight:m},keepAspectRatio:O,onResizeStart:b,onResize:w,onResizeEnd:E,shouldResize:x}),()=>{var H;(H=j.current)==null||H.destroy()}},[_,f,d,g,m,O,b,w,E,x]);const Z=_.split("-"),W=n===ResizeControlVariant.Line?"borderColor":"backgroundColor",B=u?{...o,[W]:u}:o;return jsxRuntimeExports.jsx("div",{className:cc(["react-flow__resize-control","nodrag",...Z,n,s]),ref:M,style:B,children:a})}reactExports.memo(ResizeControl);const LABELS={input:"Input processing",calc:"Calculating",halt:"Halting..."},DESCRIPTIONS={input:"Retrieve the current integer from the tape",halt:"Process exited, tape stopped"};function VirtualNode({data:{type:r}}){const e=useVirtualStore(d=>d.calculations),n=useVirtualStore(d=>d.position),s=useVirtualStore(d=>d.tape),o=useVirtualStore(d=>d.currentProcess),a=useVirtualStore(d=>d.calculation),u=o===r?"active":"default",f=reactExports.useMemo(()=>r==="calc"?e[a].description:DESCRIPTIONS[r],[a,e,r]);return jsxRuntimeExports.jsxs("div",{className:`react-flow__node-default rf-node rf-node_${r} rf-node_${u}`,children:[jsxRuntimeExports.jsx("p",{children:LABELS[r]}),jsxRuntimeExports.jsx("small",{children:f}),jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx("b",{children:r==="input"?s[n]??0:null})}),jsxRuntimeExports.jsx(Handle,{type:r==="input"?"source":"target",position:Position.Top}),r!=="halt"?jsxRuntimeExports.jsx(Handle,{type:r==="input"?"target":"source",position:Position.Bottom}):null]})}const DEFAULT_NODES=[{id:"input",type:"virtualNode",position:{x:0,y:0},data:{type:"input"}},{id:"calc",type:"virtualNode",position:{x:200,y:0},data:{type:"calc"}},{id:"halt",type:"virtualNode",position:{x:100,y:150},data:{type:"halt"}}],nodeTypes={virtualNode:VirtualNode},DEFAULT_EDGES=[{id:"input->calc",source:"input",target:"calc",animated:!0},{id:"calc->input",source:"calc",target:"input",animated:!0},{id:"calc->halt",source:"calc",target:"halt",animated:!0}],edgeTypes={};function Flow(){return jsxRuntimeExports.jsx("div",{className:"size-full",children:jsxRuntimeExports.jsx(index,{className:"react-flow-custom",fitView:!0,edgeTypes,edges:DEFAULT_EDGES,nodeTypes,nodes:DEFAULT_NODES,draggable:!1,edgesFocusable:!1,elementsSelectable:!1,nodesConnectable:!1,nodesDraggable:!1,nodesFocusable:!1,panOnDrag:!1,zoomOnScroll:!1,children:jsxRuntimeExports.jsx(Background,{})})})}function App(){return jsxRuntimeExports.jsxs("div",{className:"h-full w-full grid grid-cols-1 grid-rows-10 gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"w-full flex flex-col space-y-2 row-span-6",children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(Dashboard,{}),jsxRuntimeExports.jsx(TapeInput,{}),jsxRuntimeExports.jsx(VirtualMachine,{})]}),jsxRuntimeExports.jsx("div",{className:"px-2 row-span-4",children:jsxRuntimeExports.jsx(Container,{children:(r,e)=>jsxRuntimeExports.jsx(Flow,{},`${r}x${e}`)})})]})}window.$vm_back=VirtualAction.back;window.$vm_forward=VirtualAction.forward;clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
